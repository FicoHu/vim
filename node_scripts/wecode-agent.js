#!/bin/env node
'use strict';

var events = require('events');
var QE = require('crypto');
var ab = require('path');
var Eb = require('os');
var z$ = require('readline');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var QE__default = /*#__PURE__*/_interopDefault(QE);
var ab__default = /*#__PURE__*/_interopDefault(ab);
var Eb__default = /*#__PURE__*/_interopDefault(Eb);
var z$__default = /*#__PURE__*/_interopDefault(z$);

var GE=Object.create;var Qn=Object.defineProperty;var VE=Object.getOwnPropertyDescriptor;var ZE=Object.getOwnPropertyNames;var XE=Object.getPrototypeOf,KE=Object.prototype.hasOwnProperty;var Z=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ef=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),YE=(t,e)=>{for(var r in e)Qn(t,r,{get:e[r],enumerable:!0});},tf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ZE(e))!KE.call(t,s)&&s!==r&&Qn(t,s,{get:()=>e[s],enumerable:!(n=VE(e,s))||n.enumerable});return t};var je=(t,e,r)=>(r=t!=null?GE(XE(t)):{},tf(e||!t||!t.__esModule?Qn(r,"default",{value:t,enumerable:!0}):r,t)),JE=t=>tf(Qn({},"__esModule",{value:!0}),t);var ho=x((uM,sf)=>{var nf=Object.prototype.toString;sf.exports=function(e){var r=nf.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&nf.call(e.callee)==="[object Function]"),n};});var _f=x((cM,pf)=>{var df;Object.keys||(tn=Object.prototype.hasOwnProperty,mo=Object.prototype.toString,of=ho(),go=Object.prototype.propertyIsEnumerable,af=!go.call({toString:null},"toString"),lf=go.call(function(){},"prototype"),rn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ri=function(t){var e=t.constructor;return e&&e.prototype===t},uf={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},cf=function(){if(typeof window>"u")return !1;for(var t in window)try{if(!uf["$"+t]&&tn.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{ri(window[t]);}catch{return !0}}catch{return !0}return !1}(),ff=function(t){if(typeof window>"u"||!cf)return ri(t);try{return ri(t)}catch{return !1}},df=function(e){var r=e!==null&&typeof e=="object",n=mo.call(e)==="[object Function]",s=of(e),i=r&&mo.call(e)==="[object String]",o=[];if(!r&&!n&&!s)throw new TypeError("Object.keys called on a non-object");var l=lf&&n;if(i&&e.length>0&&!tn.call(e,0))for(var f=0;f<e.length;++f)o.push(String(f));if(s&&e.length>0)for(var p=0;p<e.length;++p)o.push(String(p));else for(var u in e)!(l&&u==="prototype")&&tn.call(e,u)&&o.push(String(u));if(af)for(var _=ff(e),h=0;h<rn.length;++h)!(_&&rn[h]==="constructor")&&tn.call(e,rn[h])&&o.push(rn[h]);return o});var tn,mo,of,go,af,lf,rn,ri,uf,cf,ff;pf.exports=df;});var ii=x((fM,gf)=>{var r0=Array.prototype.slice,n0=ho(),hf=Object.keys,ni=hf?function(e){return hf(e)}:_f(),mf=Object.keys;ni.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return n0(n)?mf(r0.call(n)):mf(n)});}else Object.keys=ni;return Object.keys||ni};gf.exports=ni;});var si=x((dM,yf)=>{yf.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return !1;if(typeof Symbol.iterator=="symbol")return !0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return !1;var s=42;e[r]=s;for(r in e)return !1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return !1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return !1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==s||o.enumerable!==!0)return !1}return !0};});var yo=x((pM,Sf)=>{var vf=typeof Symbol<"u"&&Symbol,i0=si();Sf.exports=function(){return typeof vf!="function"||typeof Symbol!="function"||typeof vf("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:i0()};});var Ef=x((_M,bf)=>{var wf={foo:{}},s0=Object;bf.exports=function(){return {__proto__:wf}.foo===wf.foo&&!({__proto__:null}instanceof s0)};});var xf=x((hM,Cf)=>{var o0="Function.prototype.bind called on incompatible ",a0=Object.prototype.toString,l0=Math.max,u0="[object Function]",Af=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},c0=function(e,r){for(var n=[],s=r||0,i=0;s<e.length;s+=1,i+=1)n[i]=e[s];return n},f0=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Cf.exports=function(e){var r=this;if(typeof r!="function"||a0.apply(r)!==u0)throw new TypeError(o0+r);for(var n=c0(arguments,1),s,i=function(){if(this instanceof s){var u=r.apply(this,Af(n,arguments));return Object(u)===u?u:this}return r.apply(e,Af(n,arguments))},o=l0(0,r.length-n.length),l=[],f=0;f<o;f++)l[f]="$"+f;if(s=Function("binder","return function ("+f0(l,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var p=function(){};p.prototype=r.prototype,s.prototype=new p,p.prototype=null;}return s};});var oi=x((mM,If)=>{var d0=xf();If.exports=Function.prototype.bind||d0;});var Pf=x((gM,Rf)=>{var p0=Function.prototype.call,_0=Object.prototype.hasOwnProperty,h0=oi();Rf.exports=h0.call(p0,_0);});var at=x((yM,Hf)=>{var ae,Sr=SyntaxError,Nf=Function,vr=TypeError,vo=function(t){try{return Nf('"use strict"; return ('+t+").constructor;")()}catch{}},Xt=Object.getOwnPropertyDescriptor;var So=function(){throw new vr},m0=Xt?function(){try{return So}catch{try{return Xt(arguments,"callee").get}catch{return So}}}():So,gr=yo()(),g0=Ef()(),Ee=Object.getPrototypeOf||(g0?function(t){return t.__proto__}:null),yr={},y0=typeof Uint8Array>"u"||!Ee?ae:Ee(Uint8Array),Kt={"%AggregateError%":typeof AggregateError>"u"?ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ae:ArrayBuffer,"%ArrayIteratorPrototype%":gr&&Ee?Ee([][Symbol.iterator]()):ae,"%AsyncFromSyncIteratorPrototype%":ae,"%AsyncFunction%":yr,"%AsyncGenerator%":yr,"%AsyncGeneratorFunction%":yr,"%AsyncIteratorPrototype%":yr,"%Atomics%":typeof Atomics>"u"?ae:Atomics,"%BigInt%":typeof BigInt>"u"?ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ae:FinalizationRegistry,"%Function%":Nf,"%GeneratorFunction%":yr,"%Int8Array%":typeof Int8Array>"u"?ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gr&&Ee?Ee(Ee([][Symbol.iterator]())):ae,"%JSON%":typeof JSON=="object"?JSON:ae,"%Map%":typeof Map>"u"?ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!gr||!Ee?ae:Ee(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ae:Promise,"%Proxy%":typeof Proxy>"u"?ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!gr||!Ee?ae:Ee(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gr&&Ee?Ee(""[Symbol.iterator]()):ae,"%Symbol%":gr?Symbol:ae,"%SyntaxError%":Sr,"%ThrowTypeError%":m0,"%TypedArray%":y0,"%TypeError%":vr,"%Uint8Array%":typeof Uint8Array>"u"?ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ae:WeakSet};var v0=function t(e){var r;if(e==="%AsyncFunction%")r=vo("async function () {}");else if(e==="%GeneratorFunction%")r=vo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=vo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype);}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&Ee&&(r=Ee(s.prototype));}return Kt[e]=r,r},Tf={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nn=oi(),ai=Pf(),S0=nn.call(Function.call,Array.prototype.concat),w0=nn.call(Function.apply,Array.prototype.splice),Of=nn.call(Function.call,String.prototype.replace),li=nn.call(Function.call,String.prototype.slice),b0=nn.call(Function.call,RegExp.prototype.exec),E0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A0=/\\(\\)?/g,C0=function(e){var r=li(e,0,1),n=li(e,-1);if(r==="%"&&n!=="%")throw new Sr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Sr("invalid intrinsic syntax, expected opening `%`");var s=[];return Of(e,E0,function(i,o,l,f){s[s.length]=l?Of(f,A0,"$1"):o||i;}),s},x0=function(e,r){var n=e,s;if(ai(Tf,n)&&(s=Tf[n],n="%"+s[0]+"%"),ai(Kt,n)){var i=Kt[n];if(i===yr&&(i=v0(n)),typeof i>"u"&&!r)throw new vr("intrinsic "+e+" exists, but is not available. Please file an issue!");return {alias:s,name:n,value:i}}throw new Sr("intrinsic "+e+" does not exist!")};Hf.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new vr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new vr('"allowMissing" argument must be a boolean');if(b0(/^%?[^%]*%?$/,e)===null)throw new Sr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=C0(e),s=n.length>0?n[0]:"",i=x0("%"+s+"%",r),o=i.name,l=i.value,f=!1,p=i.alias;p&&(s=p[0],w0(n,S0([0,1],p)));for(var u=1,_=!0;u<n.length;u+=1){var h=n[u],m=li(h,0,1),y=li(h,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new Sr("property names with quotes must have matching quotes");if((h==="constructor"||!_)&&(f=!0),s+="."+h,o="%"+s+"%",ai(Kt,o))l=Kt[o];else if(l!=null){if(!(h in l)){if(!r)throw new vr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xt&&u+1>=n.length){var w=Xt(l,h);_=!!w,_&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[h];}else _=ai(l,h),l=l[h];_&&!f&&(Kt[o]=l);}}return l};});var sn=x((vM,kf)=>{var I0=at(),wo=I0("%Object.defineProperty%",!0),bo=function(){if(wo)try{return wo({},"a",{value:1}),!0}catch{return !1}return !1};bo.hasArrayLengthDefineBug=function(){if(!bo())return null;try{return wo([],"length",{value:1}).length!==1}catch{return !0}};kf.exports=bo;});var ci=x((SM,$f)=>{var R0=at(),ui=R0("%Object.getOwnPropertyDescriptor%",!0);if(ui)try{ui([],"length");}catch{ui=null;}$f.exports=ui;});var fi=x((wM,Lf)=>{var P0=sn()(),Eo=at(),on=P0&&Eo("%Object.defineProperty%",!0);if(on)try{on({},"a",{value:1});}catch{on=!1;}var F0=Eo("%SyntaxError%"),wr=Eo("%TypeError%"),Mf=ci();Lf.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new wr("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new wr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new wr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new wr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new wr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new wr("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,f=!!Mf&&Mf(e,r);if(on)on(e,r,{configurable:o===null&&f?f.configurable:!o,enumerable:s===null&&f?f.enumerable:!s,value:n,writable:i===null&&f?f.writable:!i});else if(l||!s&&!i&&!o)e[r]=n;else throw new F0("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")};});var kt=x((bM,Bf)=>{var T0=ii(),O0=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",N0=Object.prototype.toString,H0=Array.prototype.concat,Df=fi(),k0=function(t){return typeof t=="function"&&N0.call(t)==="[object Function]"},qf=sn()(),$0=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!k0(n)||!n())return}qf?Df(t,e,r,!0):Df(t,e,r);},Uf=function(t,e){var r=arguments.length>2?arguments[2]:{},n=T0(e);O0&&(n=H0.call(n,Object.getOwnPropertySymbols(e)));for(var s=0;s<n.length;s+=1)$0(t,n[s],e[n[s]],r[n[s]]);};Uf.supportsDescriptors=!!qf;Bf.exports=Uf;});var Zf=x((EM,Vf)=>{var Gf=at(),jf=fi(),M0=sn()(),Wf=ci(),zf=Gf("%TypeError%"),L0=Gf("%Math.floor%");Vf.exports=function(e,r){if(typeof e!="function")throw new zf("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||L0(r)!==r)throw new zf("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,i=!0;if("length"in e&&Wf){var o=Wf(e,"length");o&&!o.configurable&&(s=!1),o&&!o.writable&&(i=!1);}return (s||i||!n)&&(M0?jf(e,"length",r,!0,!0):jf(e,"length",r)),e};});var Yt=x((AM,di)=>{var Ao=oi(),br=at(),D0=Zf(),q0=br("%TypeError%"),Kf=br("%Function.prototype.apply%"),Yf=br("%Function.prototype.call%"),Jf=br("%Reflect.apply%",!0)||Ao.call(Yf,Kf),an=br("%Object.defineProperty%",!0),U0=br("%Math.max%");if(an)try{an({},"a",{value:1});}catch{an=null;}di.exports=function(e){if(typeof e!="function")throw new q0("a function is required");var r=Jf(Ao,Yf,arguments);return D0(r,1+U0(0,e.length-(arguments.length-1)),!0)};var Xf=function(){return Jf(Ao,Kf,arguments)};an?an(di.exports,"apply",{value:Xf}):di.exports.apply=Xf;});var rt=x((CM,td)=>{var Qf=at(),ed=Yt(),B0=ed(Qf("String.prototype.indexOf"));td.exports=function(e,r){var n=Qf(e,!!r);return typeof n=="function"&&B0(e,".prototype.")>-1?ed(n):n};});var Co=x((xM,od)=>{var j0=ii(),id=si()(),sd=rt(),rd=Object,W0=sd("Array.prototype.push"),nd=sd("Object.prototype.propertyIsEnumerable"),z0=id?Object.getOwnPropertySymbols:null;od.exports=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=rd(e);if(arguments.length===1)return n;for(var s=1;s<arguments.length;++s){var i=rd(arguments[s]),o=j0(i),l=id&&(Object.getOwnPropertySymbols||z0);if(l)for(var f=l(i),p=0;p<f.length;++p){var u=f[p];nd(i,u)&&W0(o,u);}for(var _=0;_<o.length;++_){var h=o[_];if(nd(i,h)){var m=i[h];n[h]=m;}}}return n};});var Io=x((IM,ad)=>{var xo=Co(),G0=function(){if(!Object.assign)return !1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var s=Object.assign({},r),i="";for(var o in s)i+=o;return t!==i},V0=function(){if(!Object.assign||!Object.preventExtensions)return !1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy");}catch{return t[1]==="y"}return !1};ad.exports=function(){return !Object.assign||G0()||V0()?xo:Object.assign};});var ud=x((RM,ld)=>{var Z0=kt(),X0=Io();ld.exports=function(){var e=X0();return Z0(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e};});var pd=x((PM,dd)=>{var K0=kt(),Y0=Yt(),J0=Co(),cd=Io(),Q0=ud(),eA=Y0.apply(cd()),fd=function(e,r){return eA(Object,arguments)};K0(fd,{getPolyfill:cd,implementation:J0,shim:Q0});dd.exports=fd;});var hd=x((FM,_d)=>{var un=function(){return typeof function(){}.name=="string"},ln=Object.getOwnPropertyDescriptor;un.functionsHaveConfigurableNames=function(){if(!un()||!ln)return !1;var e=ln(function(){},"name");return !!e&&!!e.configurable};var tA=Function.prototype.bind;un.boundFunctionsHaveNames=function(){return un()&&typeof tA=="function"&&function(){}.bind().name!==""};_d.exports=un;});var yd=x((TM,gd)=>{var md=fi(),rA=sn()(),nA=hd().functionsHaveConfigurableNames(),iA=TypeError;gd.exports=function(e,r){if(typeof e!="function")throw new iA("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return (!n||nA)&&(rA?md(e,"name",r,!0,!0):md(e,"name",r)),e};});var Ro=x((OM,vd)=>{var sA=yd(),oA=Object,aA=TypeError;vd.exports=sA(function(){if(this!=null&&this!==oA(this))throw new aA("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0);});var Po=x((NM,Sd)=>{var lA=Ro(),uA=kt().supportsDescriptors,cA=Object.getOwnPropertyDescriptor;Sd.exports=function(){if(uA&&/a/mig.flags==="gim"){var e=cA(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d";}}),Object.defineProperty(n,"sticky",{get:function(){r+="y";}}),r==="dy")return e.get}}return lA};});var Ed=x((HM,bd)=>{var fA=kt().supportsDescriptors,dA=Po(),pA=Object.getOwnPropertyDescriptor,_A=Object.defineProperty,hA=TypeError,wd=Object.getPrototypeOf,mA=/a/;bd.exports=function(){if(!fA||!wd)throw new hA("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=dA(),r=wd(mA),n=pA(r,"flags");return (!n||n.get!==e)&&_A(r,"flags",{configurable:!0,enumerable:!1,get:e}),e};});var Id=x((kM,xd)=>{var gA=kt(),yA=Yt(),vA=Ro(),Ad=Po(),SA=Ed(),Cd=yA(Ad());gA(Cd,{getPolyfill:Ad,implementation:vA,shim:SA});xd.exports=Cd;});var Fd=x(($M,Pd)=>{var Rd=Symbol.iterator;Pd.exports=function(e){if(e!=null&&typeof e[Rd]<"u")return e[Rd]()};});var Od=x((MM,Td)=>{Td.exports=Z("util").inspect;});var Jd=x((LM,Yd)=>{var Do=typeof Map=="function"&&Map.prototype,Fo=Object.getOwnPropertyDescriptor&&Do?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_i=Do&&Fo&&typeof Fo.get=="function"?Fo.get:null,Nd=Do&&Map.prototype.forEach,qo=typeof Set=="function"&&Set.prototype,To=Object.getOwnPropertyDescriptor&&qo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hi=qo&&To&&typeof To.get=="function"?To.get:null,Hd=qo&&Set.prototype.forEach,wA=typeof WeakMap=="function"&&WeakMap.prototype,fn=wA?WeakMap.prototype.has:null,bA=typeof WeakSet=="function"&&WeakSet.prototype,dn=bA?WeakSet.prototype.has:null,EA=typeof WeakRef=="function"&&WeakRef.prototype,kd=EA?WeakRef.prototype.deref:null,AA=Boolean.prototype.valueOf,CA=Object.prototype.toString,xA=Function.prototype.toString,IA=String.prototype.match,Uo=String.prototype.slice,Mt=String.prototype.replace,RA=String.prototype.toUpperCase,$d=String.prototype.toLowerCase,zd=RegExp.prototype.test,Md=Array.prototype.concat,_t=Array.prototype.join,PA=Array.prototype.slice,Ld=Math.floor,Ho=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Oo=Object.getOwnPropertySymbols,ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Er=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ke=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Er||!0)?Symbol.toStringTag:null,Gd=Object.prototype.propertyIsEnumerable,Dd=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function qd(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||zd.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Ld(-t):Ld(t);if(n!==t){var s=String(n),i=Uo.call(e,s.length+1);return Mt.call(s,r,"$&_")+"."+Mt.call(Mt.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mt.call(e,r,"$&_")}var $o=Od(),Ud=$o.custom,Bd=Zd(Ud)?Ud:null;Yd.exports=function t(e,r,n,s){var i=r||{};if($t(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($t(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=$t(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($t(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($t(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof e>"u")return "undefined";if(e===null)return "null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Kd(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return l?qd(e,f):f}if(typeof e=="bigint"){var p=String(e)+"n";return l?qd(e,p):p}var u=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return Mo(e)?"[Array]":"[Object]";var _=VA(i,n);if(typeof s>"u")s=[];else if(Xd(s,e)>=0)return "[Circular]";function h(G,te,P){if(te&&(s=PA.call(s),s.push(te)),P){var T={depth:i.depth};return $t(i,"quoteStyle")&&(T.quoteStyle=i.quoteStyle),t(G,T,n+1,s)}return t(G,i,n+1,s)}if(typeof e=="function"&&!jd(e)){var m=LA(e),y=pi(e,h);return "[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+_t.call(y,", ")+" }":"")}if(Zd(e)){var w=Er?Mt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ko.call(e);return typeof e=="object"&&!Er?cn(w):w}if(WA(e)){for(var E="<"+$d.call(String(e.nodeName)),A=e.attributes||[],S=0;S<A.length;S++)E+=" "+A[S].name+"="+Vd(FA(A[S].value),"double",i);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+$d.call(String(e.nodeName))+">",E}if(Mo(e)){if(e.length===0)return "[]";var R=pi(e,h);return _&&!GA(R)?"["+Lo(R,_)+"]":"[ "+_t.call(R,", ")+" ]"}if(OA(e)){var O=pi(e,h);return !("cause"in Error.prototype)&&"cause"in e&&!Gd.call(e,"cause")?"{ ["+String(e)+"] "+_t.call(Md.call("[cause]: "+h(e.cause),O),", ")+" }":O.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+_t.call(O,", ")+" }"}if(typeof e=="object"&&o){if(Bd&&typeof e[Bd]=="function"&&$o)return $o(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(DA(e)){var k=[];return Nd&&Nd.call(e,function(G,te){k.push(h(te,e,!0)+" => "+h(G,e));}),Wd("Map",_i.call(e),k,_)}if(BA(e)){var B=[];return Hd&&Hd.call(e,function(G){B.push(h(G,e));}),Wd("Set",hi.call(e),B,_)}if(qA(e))return No("WeakMap");if(jA(e))return No("WeakSet");if(UA(e))return No("WeakRef");if(HA(e))return cn(h(Number(e)));if($A(e))return cn(h(Ho.call(e)));if(kA(e))return cn(AA.call(e));if(NA(e))return cn(h(String(e)));if(typeof window<"u"&&e===window)return "{ [object Window] }";if(e===global)return "{ [object globalThis] }";if(!TA(e)&&!jd(e)){var q=pi(e,h),$=Dd?Dd(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",U=!$&&ke&&Object(e)===e&&ke in e?Uo.call(Lt(e),8,-1):N?"Object":"",I=$||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=I+(U||N?"["+_t.call(Md.call([],U||[],N||[]),": ")+"] ":"");return q.length===0?z+"{}":_?z+"{"+Lo(q,_)+"}":z+"{ "+_t.call(q,", ")+" }"}return String(e)};function Vd(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function FA(t){return Mt.call(String(t),/"/g,"&quot;")}function Mo(t){return Lt(t)==="[object Array]"&&(!ke||!(typeof t=="object"&&ke in t))}function TA(t){return Lt(t)==="[object Date]"&&(!ke||!(typeof t=="object"&&ke in t))}function jd(t){return Lt(t)==="[object RegExp]"&&(!ke||!(typeof t=="object"&&ke in t))}function OA(t){return Lt(t)==="[object Error]"&&(!ke||!(typeof t=="object"&&ke in t))}function NA(t){return Lt(t)==="[object String]"&&(!ke||!(typeof t=="object"&&ke in t))}function HA(t){return Lt(t)==="[object Number]"&&(!ke||!(typeof t=="object"&&ke in t))}function kA(t){return Lt(t)==="[object Boolean]"&&(!ke||!(typeof t=="object"&&ke in t))}function Zd(t){if(Er)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return !0;if(!t||typeof t!="object"||!ko)return !1;try{return ko.call(t),!0}catch{}return !1}function $A(t){if(!t||typeof t!="object"||!Ho)return !1;try{return Ho.call(t),!0}catch{}return !1}var MA=Object.prototype.hasOwnProperty||function(t){return t in this};function $t(t,e){return MA.call(t,e)}function Lt(t){return CA.call(t)}function LA(t){if(t.name)return t.name;var e=IA.call(xA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Xd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}function DA(t){if(!_i||!t||typeof t!="object")return !1;try{_i.call(t);try{hi.call(t);}catch{return !0}return t instanceof Map}catch{}return !1}function qA(t){if(!fn||!t||typeof t!="object")return !1;try{fn.call(t,fn);try{dn.call(t,dn);}catch{return !0}return t instanceof WeakMap}catch{}return !1}function UA(t){if(!kd||!t||typeof t!="object")return !1;try{return kd.call(t),!0}catch{}return !1}function BA(t){if(!hi||!t||typeof t!="object")return !1;try{hi.call(t);try{_i.call(t);}catch{return !0}return t instanceof Set}catch{}return !1}function jA(t){if(!dn||!t||typeof t!="object")return !1;try{dn.call(t,dn);try{fn.call(t,fn);}catch{return !0}return t instanceof WeakSet}catch{}return !1}function WA(t){return !t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Kd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Kd(Uo.call(t,0,e.maxStringLength),e)+n}var s=Mt.call(Mt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,zA);return Vd(s,"single",e)}function zA(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+RA.call(e.toString(16))}function cn(t){return "Object("+t+")"}function No(t){return t+" { ? }"}function Wd(t,e,r,n){var s=n?Lo(r,n):_t.call(r,", ");return t+" ("+e+") {"+s+"}"}function GA(t){for(var e=0;e<t.length;e++)if(Xd(t[e],`
`)>=0)return !1;return !0}function VA(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=_t.call(Array(t.indent+1)," ");else return null;return {base:r,prev:_t.call(Array(e+1),r)}}function Lo(t,e){if(t.length===0)return "";var r=`
`+e.prev+e.base;return r+_t.call(t,","+r)+`
`+e.prev}function pi(t,e){var r=Mo(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=$t(t,s)?e(t[s],t):"";}var i=typeof Oo=="function"?Oo(t):[],o;if(Er){o={};for(var l=0;l<i.length;l++)o["$"+i[l]]=i[l];}for(var f in t)$t(t,f)&&(r&&String(Number(f))===f&&f<t.length||Er&&o["$"+f]instanceof Symbol||(zd.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if(typeof Oo=="function")for(var p=0;p<i.length;p++)Gd.call(t,i[p])&&n.push("["+e(i[p])+"]: "+e(t[i[p]],t));return n}});var ep=x((DM,Qd)=>{var Bo=at(),Ar=rt(),ZA=Jd(),XA=Bo("%TypeError%"),mi=Bo("%WeakMap%",!0),gi=Bo("%Map%",!0),KA=Ar("WeakMap.prototype.get",!0),YA=Ar("WeakMap.prototype.set",!0),JA=Ar("WeakMap.prototype.has",!0),QA=Ar("Map.prototype.get",!0),eC=Ar("Map.prototype.set",!0),tC=Ar("Map.prototype.has",!0),jo=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},rC=function(t,e){var r=jo(t,e);return r&&r.value},nC=function(t,e,r){var n=jo(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r};},iC=function(t,e){return !!jo(t,e)};Qd.exports=function(){var e,r,n,s={assert:function(i){if(!s.has(i))throw new XA("Side channel does not contain "+ZA(i))},get:function(i){if(mi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return KA(e,i)}else if(gi){if(r)return QA(r,i)}else if(n)return rC(n,i)},has:function(i){if(mi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return JA(e,i)}else if(gi){if(r)return tC(r,i)}else if(n)return iC(n,i);return !1},set:function(i,o){mi&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new mi),YA(e,i,o)):gi?(r||(r=new gi),eC(r,i,o)):(n||(n={key:{},next:null}),nC(n,i,o));}};return s};});var Wo=x((qM,rp)=>{var tp=function(t){return t!==t};rp.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||tp(e)&&tp(r))};});var zo=x((UM,np)=>{var sC=Wo();np.exports=function(){return typeof Object.is=="function"?Object.is:sC};});var sp=x((BM,ip)=>{var oC=zo(),aC=kt();ip.exports=function(){var e=oC();return aC(Object,{is:e},{is:function(){return Object.is!==e}}),e};});var up=x((jM,lp)=>{var lC=kt(),uC=Yt(),cC=Wo(),op=zo(),fC=sp(),ap=uC(op(),Object);lC(ap,{getPolyfill:op,implementation:cC,shim:fC});lp.exports=ap;});var Dt=x((WM,cp)=>{var dC=si();cp.exports=function(){return dC()&&!!Symbol.toStringTag};});var pp=x((zM,dp)=>{var pC=Dt()(),_C=rt(),Go=_C("Object.prototype.toString"),yi=function(e){return pC&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Go(e)==="[object Arguments]"},fp=function(e){return yi(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Go(e)!=="[object Array]"&&Go(e.callee)==="[object Function]"},hC=function(){return yi(arguments)}();yi.isLegacyArguments=fp;dp.exports=hC?yi:fp;});var hp=x((GM,_p)=>{var mC={}.toString;_p.exports=Array.isArray||function(t){return mC.call(t)=="[object Array]"};});var vp=x((VM,yp)=>{var gp=Function.prototype.toString,Cr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Zo,vi;if(typeof Cr=="function"&&typeof Object.defineProperty=="function")try{Zo=Object.defineProperty({},"length",{get:function(){throw vi}}),vi={},Cr(function(){throw 42},null,Zo);}catch(t){t!==vi&&(Cr=null);}else Cr=null;var gC=/^\s*class\b/,Xo=function(e){try{var r=gp.call(e);return gC.test(r)}catch{return !1}},Vo=function(e){try{return Xo(e)?!1:(gp.call(e),!0)}catch{return !1}},Si=Object.prototype.toString,yC="[object Object]",vC="[object Function]",SC="[object GeneratorFunction]",wC="[object HTMLAllCollection]",bC="[object HTML document.all class]",EC="[object HTMLCollection]",AC=typeof Symbol=="function"&&!!Symbol.toStringTag,CC=!(0 in[,]),Ko=function(){return !1};typeof document=="object"&&(mp=document.all,Si.call(mp)===Si.call(document.all)&&(Ko=function(e){if((CC||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Si.call(e);return (r===wC||r===bC||r===EC||r===yC)&&e("")==null}catch{}return !1}));var mp;yp.exports=Cr?function(e){if(Ko(e))return !0;if(!e||typeof e!="function"&&typeof e!="object")return !1;try{Cr(e,null,Zo);}catch(r){if(r!==vi)return !1}return !Xo(e)&&Vo(e)}:function(e){if(Ko(e))return !0;if(!e||typeof e!="function"&&typeof e!="object")return !1;if(AC)return Vo(e);if(Xo(e))return !1;var r=Si.call(e);return r!==vC&&r!==SC&&!/^\[object HTML/.test(r)?!1:Vo(e)};});var bp=x((ZM,wp)=>{var xC=vp(),IC=Object.prototype.toString,Sp=Object.prototype.hasOwnProperty,RC=function(e,r,n){for(var s=0,i=e.length;s<i;s++)Sp.call(e,s)&&(n==null?r(e[s],s,e):r.call(n,e[s],s,e));},PC=function(e,r,n){for(var s=0,i=e.length;s<i;s++)n==null?r(e.charAt(s),s,e):r.call(n,e.charAt(s),s,e);},FC=function(e,r,n){for(var s in e)Sp.call(e,s)&&(n==null?r(e[s],s,e):r.call(n,e[s],s,e));},TC=function(e,r,n){if(!xC(r))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),IC.call(e)==="[object Array]"?RC(e,r,s):typeof e=="string"?PC(e,r,s):FC(e,r,s);};wp.exports=TC;});var Ap=x((XM,Ep)=>{var Yo=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],OC=typeof globalThis>"u"?global:globalThis;Ep.exports=function(){for(var e=[],r=0;r<Yo.length;r++)typeof OC[Yo[r]]=="function"&&(e[e.length]=Yo[r]);return e};});var ra=x((KM,Rp)=>{var bi=bp(),NC=Ap(),Cp=Yt(),ea=rt(),wi=ci(),HC=ea("Object.prototype.toString"),Ip=Dt()(),xp=typeof globalThis>"u"?global:globalThis,Qo=NC(),ta=ea("String.prototype.slice"),Jo=Object.getPrototypeOf,kC=ea("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return -1},Ei={__proto__:null};Ip&&wi&&Jo?bi(Qo,function(t){var e=new xp[t];if(Symbol.toStringTag in e){var r=Jo(e),n=wi(r,Symbol.toStringTag);if(!n){var s=Jo(r);n=wi(s,Symbol.toStringTag);}Ei["$"+t]=Cp(n.get);}}):bi(Qo,function(t){var e=new xp[t],r=e.slice||e.set;r&&(Ei["$"+t]=Cp(r));});var $C=function(e){var r=!1;return bi(Ei,function(n,s){if(!r)try{"$"+n(e)===s&&(r=ta(s,1));}catch{}}),r},MC=function(e){var r=!1;return bi(Ei,function(n,s){if(!r)try{n(e),r=ta(s,1);}catch{}}),r};Rp.exports=function(e){if(!e||typeof e!="object")return !1;if(!Ip){var r=ta(HC(e),8,-1);return kC(Qo,r)>-1?r:r!=="Object"?!1:MC(e)}return wi?$C(e):null};});var Fp=x((YM,Pp)=>{var LC=ra();Pp.exports=function(e){return !!LC(e)};});var na=x((JM,$p)=>{var DC=Yt(),qC=rt(),kp=at(),UC=Fp(),Tp=kp("ArrayBuffer",!0),Op=kp("Float32Array",!0),Ai=qC("ArrayBuffer.prototype.byteLength",!0),Np=Tp&&!Ai&&new Tp().slice,Hp=Np&&DC(Np);$p.exports=Ai||Hp?function(e){if(!e||typeof e!="object")return !1;try{return Ai?Ai(e):Hp(e,0),!0}catch{return !1}}:Op?function(e){try{return new Op(e).buffer===e&&!UC(e)}catch(r){return typeof e=="object"&&r.name==="RangeError"}}:function(e){return !1};});var Lp=x((QM,Mp)=>{var BC=Date.prototype.getDay,jC=function(e){try{return BC.call(e),!0}catch{return !1}},WC=Object.prototype.toString,zC="[object Date]",GC=Dt()();Mp.exports=function(e){return typeof e!="object"||e===null?!1:GC?jC(e):WC.call(e)===zC};});var jp=x((eL,Bp)=>{var ia=rt(),Dp=Dt()(),qp,Up,sa,oa;Dp&&(qp=ia("Object.prototype.hasOwnProperty"),Up=ia("RegExp.prototype.exec"),sa={},Ci=function(){throw sa},oa={toString:Ci,valueOf:Ci},typeof Symbol.toPrimitive=="symbol"&&(oa[Symbol.toPrimitive]=Ci));var Ci,VC=ia("Object.prototype.toString"),ZC=Object.getOwnPropertyDescriptor,XC="[object RegExp]";Bp.exports=Dp?function(e){if(!e||typeof e!="object")return !1;var r=ZC(e,"lastIndex"),n=r&&qp(r,"value");if(!n)return !1;try{Up(e,oa);}catch(s){return s===sa}}:function(e){return !e||typeof e!="object"&&typeof e!="function"?!1:VC(e)===XC};});var Gp=x((tL,zp)=>{var KC=rt(),Wp=KC("SharedArrayBuffer.prototype.byteLength",!0);zp.exports=Wp?function(e){if(!e||typeof e!="object")return !1;try{return Wp(e),!0}catch{return !1}}:function(e){return !1};});var Zp=x((rL,Vp)=>{var YC=String.prototype.valueOf,JC=function(e){try{return YC.call(e),!0}catch{return !1}},QC=Object.prototype.toString,ex="[object String]",tx=Dt()();Vp.exports=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:tx?JC(e):QC.call(e)===ex};});var Kp=x((nL,Xp)=>{var rx=Number.prototype.toString,nx=function(e){try{return rx.call(e),!0}catch{return !1}},ix=Object.prototype.toString,sx="[object Number]",ox=Dt()();Xp.exports=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:ox?nx(e):ix.call(e)===sx};});var Qp=x((iL,Jp)=>{var Yp=rt(),ax=Yp("Boolean.prototype.toString"),lx=Yp("Object.prototype.toString"),ux=function(e){try{return ax(e),!0}catch{return !1}},cx="[object Boolean]",fx=Dt()();Jp.exports=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:fx&&Symbol.toStringTag in e?ux(e):lx(e)===cx};});var n_=x((sL,aa)=>{var dx=Object.prototype.toString,px=yo()();px?(e_=Symbol.prototype.toString,t_=/^Symbol\(.*\)$/,r_=function(e){return typeof e.valueOf()!="symbol"?!1:t_.test(e_.call(e))},aa.exports=function(e){if(typeof e=="symbol")return !0;if(dx.call(e)!=="[object Symbol]")return !1;try{return r_(e)}catch{return !1}}):aa.exports=function(e){return !1};var e_,t_,r_;});var o_=x((oL,s_)=>{var i_=typeof BigInt<"u"&&BigInt;s_.exports=function(){return typeof i_=="function"&&typeof BigInt=="function"&&typeof i_(42)=="bigint"&&typeof BigInt(42)=="bigint"};});var u_=x((aL,la)=>{var _x=o_()();_x?(a_=BigInt.prototype.valueOf,l_=function(e){try{return a_.call(e),!0}catch{}return !1},la.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:l_(e)}):la.exports=function(e){return !1};var a_,l_;});var f_=x((lL,c_)=>{var hx=Zp(),mx=Kp(),gx=Qp(),yx=n_(),vx=u_();c_.exports=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(hx(e))return "String";if(mx(e))return "Number";if(gx(e))return "Boolean";if(yx(e))return "Symbol";if(vx(e))return "BigInt"};});var h_=x((uL,__)=>{var ua=typeof Map=="function"&&Map.prototype?Map:null,Sx=typeof Set=="function"&&Set.prototype?Set:null,xi;ua||(xi=function(e){return !1});var p_=ua?Map.prototype.has:null,d_=Sx?Set.prototype.has:null;!xi&&!p_&&(xi=function(e){return !1});__.exports=xi||function(e){if(!e||typeof e!="object")return !1;try{if(p_.call(e),d_)try{d_.call(e);}catch{return !0}return e instanceof ua}catch{}return !1};});var v_=x((cL,y_)=>{var wx=typeof Map=="function"&&Map.prototype?Map:null,ca=typeof Set=="function"&&Set.prototype?Set:null,Ii;ca||(Ii=function(e){return !1});var m_=wx?Map.prototype.has:null,g_=ca?Set.prototype.has:null;!Ii&&!g_&&(Ii=function(e){return !1});y_.exports=Ii||function(e){if(!e||typeof e!="object")return !1;try{if(g_.call(e),m_)try{m_.call(e);}catch{return !0}return e instanceof ca}catch{}return !1};});var b_=x((fL,w_)=>{var Ri=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,S_=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Pi;Ri||(Pi=function(e){return !1});var da=Ri?Ri.prototype.has:null,fa=S_?S_.prototype.has:null;!Pi&&!da&&(Pi=function(e){return !1});w_.exports=Pi||function(e){if(!e||typeof e!="object")return !1;try{if(da.call(e,da),fa)try{fa.call(e,fa);}catch{return !0}return e instanceof Ri}catch{}return !1};});var A_=x((dL,_a)=>{var bx=at(),E_=rt(),Ex=bx("%WeakSet%",!0),pa=E_("WeakSet.prototype.has",!0);pa?(Fi=E_("WeakMap.prototype.has",!0),_a.exports=function(e){if(!e||typeof e!="object")return !1;try{if(pa(e,pa),Fi)try{Fi(e,Fi);}catch{return !0}return e instanceof Ex}catch{}return !1}):_a.exports=function(e){return !1};var Fi;});var x_=x((pL,C_)=>{var Ax=h_(),Cx=v_(),xx=b_(),Ix=A_();C_.exports=function(e){if(e&&typeof e=="object"){if(Ax(e))return "Map";if(Cx(e))return "Set";if(xx(e))return "WeakMap";if(Ix(e))return "WeakSet"}return !1};});var P_=x((_L,R_)=>{var Rx=rt(),I_=Rx("ArrayBuffer.prototype.byteLength",!0),Px=na();R_.exports=function(e){return Px(e)?I_?I_(e):e.byteLength:NaN};});var $i=x((hL,Q_)=>{var K_=pd(),ht=rt(),F_=Id(),Fx=at(),xr=Fd(),Tx=ep(),T_=up(),O_=pp(),N_=hp(),H_=na(),k_=Lp(),$_=jp(),M_=Gp(),L_=ii(),D_=f_(),q_=x_(),U_=ra(),B_=P_(),j_=ht("SharedArrayBuffer.prototype.byteLength",!0),W_=ht("Date.prototype.getTime"),ha=Object.getPrototypeOf,z_=ht("Object.prototype.toString"),Oi=Fx("%Set%",!0),ma=ht("Map.prototype.has",!0),Ni=ht("Map.prototype.get",!0),G_=ht("Map.prototype.size",!0),Hi=ht("Set.prototype.add",!0),Y_=ht("Set.prototype.delete",!0),ki=ht("Set.prototype.has",!0),Ti=ht("Set.prototype.size",!0);function V_(t,e,r,n){for(var s=xr(t),i;(i=s.next())&&!i.done;)if(lt(e,i.value,r,n))return Y_(t,i.value),!0;return !1}function J_(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function Ox(t,e,r,n,s,i){var o=J_(r);if(o!=null)return o;var l=Ni(e,o),f=K_({},s,{strict:!1});return typeof l>"u"&&!ma(e,o)||!lt(n,l,f,i)?!1:!ma(t,o)&&lt(n,l,f,i)}function Nx(t,e,r){var n=J_(r);return n??(ki(e,n)&&!ki(t,n))}function Z_(t,e,r,n,s,i){for(var o=xr(t),l,f;(l=o.next())&&!l.done;)if(f=l.value,lt(r,f,s,i)&&lt(n,Ni(e,f),s,i))return Y_(t,f),!0;return !1}function lt(t,e,r,n){var s=r||{};if(s.strict?T_(t,e):t===e)return !0;var i=D_(t),o=D_(e);if(i!==o)return !1;if(!t||!e||typeof t!="object"&&typeof e!="object")return s.strict?T_(t,e):t==e;var l=n.has(t),f=n.has(e),p;if(l&&f){if(n.get(t)===n.get(e))return !0}else p={};return l||n.set(t,p),f||n.set(e,p),$x(t,e,s,n)}function X_(t){return !t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Hx(t,e,r,n){if(Ti(t)!==Ti(e))return !1;for(var s=xr(t),i=xr(e),o,l,f;(o=s.next())&&!o.done;)if(o.value&&typeof o.value=="object")f||(f=new Oi),Hi(f,o.value);else if(!ki(e,o.value)){if(r.strict||!Nx(t,e,o.value))return !1;f||(f=new Oi),Hi(f,o.value);}if(f){for(;(l=i.next())&&!l.done;)if(l.value&&typeof l.value=="object"){if(!V_(f,l.value,r.strict,n))return !1}else if(!r.strict&&!ki(t,l.value)&&!V_(f,l.value,r.strict,n))return !1;return Ti(f)===0}return !0}function kx(t,e,r,n){if(G_(t)!==G_(e))return !1;for(var s=xr(t),i=xr(e),o,l,f,p,u,_;(o=s.next())&&!o.done;)if(p=o.value[0],u=o.value[1],p&&typeof p=="object")f||(f=new Oi),Hi(f,p);else if(_=Ni(e,p),typeof _>"u"&&!ma(e,p)||!lt(u,_,r,n)){if(r.strict||!Ox(t,e,p,u,r,n))return !1;f||(f=new Oi),Hi(f,p);}if(f){for(;(l=i.next())&&!l.done;)if(p=l.value[0],_=l.value[1],p&&typeof p=="object"){if(!Z_(f,t,p,_,r,n))return !1}else if(!r.strict&&(!t.has(p)||!lt(Ni(t,p),_,r,n))&&!Z_(f,t,p,_,K_({},r,{strict:!1}),n))return !1;return Ti(f)===0}return !0}function $x(t,e,r,n){var s,i;if(typeof t!=typeof e||t==null||e==null||z_(t)!==z_(e)||O_(t)!==O_(e))return !1;var o=N_(t),l=N_(e);if(o!==l)return !1;var f=t instanceof Error,p=e instanceof Error;if(f!==p||(f||p)&&(t.name!==e.name||t.message!==e.message))return !1;var u=$_(t),_=$_(e);if(u!==_||(u||_)&&(t.source!==e.source||F_(t)!==F_(e)))return !1;var h=k_(t),m=k_(e);if(h!==m||(h||m)&&W_(t)!==W_(e)||r.strict&&ha&&ha(t)!==ha(e))return !1;var y=U_(t),w=U_(e);if(y!==w)return !1;if(y||w){if(t.length!==e.length)return !1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return !1;return !0}var E=X_(t),A=X_(e);if(E!==A)return !1;if(E||A){if(t.length!==e.length)return !1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return !1;return !0}var S=H_(t),R=H_(e);if(S!==R)return !1;if(S||R)return B_(t)!==B_(e)?!1:typeof Uint8Array=="function"&&lt(new Uint8Array(t),new Uint8Array(e),r,n);var O=M_(t),k=M_(e);if(O!==k)return !1;if(O||k)return j_(t)!==j_(e)?!1:typeof Uint8Array=="function"&&lt(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return !1;var B=L_(t),q=L_(e);if(B.length!==q.length)return !1;for(B.sort(),q.sort(),s=B.length-1;s>=0;s--)if(B[s]!=q[s])return !1;for(s=B.length-1;s>=0;s--)if(i=B[s],!lt(t[i],e[i],r,n))return !1;var $=q_(t),N=q_(e);return $!==N?!1:$==="Set"||N==="Set"?Hx(t,e,r,n):$==="Map"?kx(t,e,r,n):!0}Q_.exports=function(e,r,n){return lt(e,r,n,Tx())};});var uh={};YE(uh,{closest:()=>sI,distance:()=>lh});var Et,nI,iI,lh,sI,ch=ef(()=>{Et=new Uint32Array(65536),nI=(t,e)=>{let r=t.length,n=e.length,s=1<<r-1,i=-1,o=0,l=r,f=r;for(;f--;)Et[t.charCodeAt(f)]|=1<<f;for(f=0;f<n;f++){let p=Et[e.charCodeAt(f)],u=p|o;p|=(p&i)+i^i,o|=~(p|i),i&=p,o&s&&l++,i&s&&l--,o=o<<1|1,i=i<<1|~(u|o),o&=u;}for(f=r;f--;)Et[t.charCodeAt(f)]=0;return l},iI=(t,e)=>{let r=e.length,n=t.length,s=[],i=[],o=Math.ceil(r/32),l=Math.ceil(n/32);for(let y=0;y<o;y++)i[y]=-1,s[y]=0;let f=0;for(;f<l-1;f++){let y=0,w=-1,E=f*32,A=Math.min(32,n)+E;for(let S=E;S<A;S++)Et[t.charCodeAt(S)]|=1<<S;for(let S=0;S<r;S++){let R=Et[e.charCodeAt(S)],O=i[S/32|0]>>>S&1,k=s[S/32|0]>>>S&1,B=R|y,q=((R|k)&w)+w^w|R|k,$=y|~(q|w),N=w&q;$>>>31^O&&(i[S/32|0]^=1<<S),N>>>31^k&&(s[S/32|0]^=1<<S),$=$<<1|O,N=N<<1|k,w=N|~(B|$),y=$&B;}for(let S=E;S<A;S++)Et[t.charCodeAt(S)]=0;}let p=0,u=-1,_=f*32,h=Math.min(32,n-_)+_;for(let y=_;y<h;y++)Et[t.charCodeAt(y)]|=1<<y;let m=n;for(let y=0;y<r;y++){let w=Et[e.charCodeAt(y)],E=i[y/32|0]>>>y&1,A=s[y/32|0]>>>y&1,S=w|p,R=((w|A)&u)+u^u|w|A,O=p|~(R|u),k=u&R;m+=O>>>n-1&1,m-=k>>>n-1&1,O>>>31^E&&(i[y/32|0]^=1<<y),k>>>31^A&&(s[y/32|0]^=1<<y),O=O<<1|E,k=k<<1|A,u=k|~(S|O),p=O&S;}for(let y=_;y<h;y++)Et[t.charCodeAt(y)]=0;return m},lh=(t,e)=>{if(t.length<e.length){let r=e;e=t,t=r;}return e.length===0?t.length:t.length<=32?nI(t,e):iI(t,e)},sI=(t,e)=>{let r=1/0,n=0;for(let s=0;s<e.length;s++){let i=lh(t,e[s]);i<r&&(r=i,n=s);}return e[n]};});var fh=x((wa,_n)=>{(function(){var t;try{t=typeof Intl<"u"&&typeof Intl.Collator<"u"?Intl.Collator("generic",{sensitivity:"base"}):null;}catch{console.log("Collator could not be initialized and wouldn't be used");}var e=(ch(),JE(uh)),r=[],n=[],s={get:function(i,o,l){var f=l&&t&&l.useCollator;if(f){var p=i.length,u=o.length;if(p===0)return u;if(u===0)return p;var _,h,m,y,w;for(m=0;m<u;++m)r[m]=m,n[m]=o.charCodeAt(m);r[u]=u;var E;for(m=0;m<p;++m){for(h=m+1,y=0;y<u;++y)_=h,E=t.compare(i.charAt(m),String.fromCharCode(n[y]))===0,h=r[y]+(E?0:1),w=_+1,h>w&&(h=w),w=r[y+1]+1,h>w&&(h=w),r[y]=_;r[y]=h;}return h}return e.distance(i,o)}};typeof define<"u"&&define!==null&&define.amd?define(function(){return s}):typeof _n<"u"&&_n!==null&&typeof wa<"u"&&_n.exports===wa?_n.exports=s:typeof self<"u"&&typeof self.postMessage=="function"&&typeof self.importScripts=="function"?self.Levenshtein=s:typeof window<"u"&&window!==null&&(window.Levenshtein=s);})();});var Ae=x(Ca=>{Ca.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((r,n)=>{e.push((s,i)=>s!=null?n(s):r(i)),t.apply(this,e);})},"name",{value:t.name})};Ca.fromPromise=function(t){return Object.defineProperty(function(...e){let r=e[e.length-1];if(typeof r!="function")return t.apply(this,e);e.pop(),t.apply(this,e).then(n=>r(null,n),r);},"name",{value:t.name})};});var gh=x((EL,mh)=>{var Ut=Z("constants"),lI=process.cwd,Wi=null,uI=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Wi||(Wi=lI.call(process)),Wi};try{process.cwd();}catch{}typeof process.chdir=="function"&&(xa=process.chdir,process.chdir=function(t){Wi=null,xa.call(process,t);},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,xa));var xa;mh.exports=cI;function cI(t){Ut.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=i(t.chown),t.fchown=i(t.fchown),t.lchown=i(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.stat=l(t.stat),t.fstat=l(t.fstat),t.lstat=l(t.lstat),t.statSync=f(t.statSync),t.fstatSync=f(t.fstatSync),t.lstatSync=f(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,_,h){h&&process.nextTick(h);},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,_,h,m){m&&process.nextTick(m);},t.lchownSync=function(){}),uI==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(u){function _(h,m,y){var w=Date.now(),E=0;u(h,m,function A(S){if(S&&(S.code==="EACCES"||S.code==="EPERM"||S.code==="EBUSY")&&Date.now()-w<6e4){setTimeout(function(){t.stat(m,function(R,O){R&&R.code==="ENOENT"?u(h,m,A):y(S);});},E),E<100&&(E+=10);return}y&&y(S);});}return Object.setPrototypeOf&&Object.setPrototypeOf(_,u),_}(t.rename)),t.read=typeof t.read!="function"?t.read:function(u){function _(h,m,y,w,E,A){var S;if(A&&typeof A=="function"){var R=0;S=function(O,k,B){if(O&&O.code==="EAGAIN"&&R<10)return R++,u.call(t,h,m,y,w,E,S);A.apply(this,arguments);};}return u.call(t,h,m,y,w,E,S)}return Object.setPrototypeOf&&Object.setPrototypeOf(_,u),_}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(u){return function(_,h,m,y,w){for(var E=0;;)try{return u.call(t,_,h,m,y,w)}catch(A){if(A.code==="EAGAIN"&&E<10){E++;continue}throw A}}}(t.readSync);function e(u){u.lchmod=function(_,h,m){u.open(_,Ut.O_WRONLY|Ut.O_SYMLINK,h,function(y,w){if(y){m&&m(y);return}u.fchmod(w,h,function(E){u.close(w,function(A){m&&m(E||A);});});});},u.lchmodSync=function(_,h){var m=u.openSync(_,Ut.O_WRONLY|Ut.O_SYMLINK,h),y=!0,w;try{w=u.fchmodSync(m,h),y=!1;}finally{if(y)try{u.closeSync(m);}catch{}else u.closeSync(m);}return w};}function r(u){Ut.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(_,h,m,y){u.open(_,Ut.O_SYMLINK,function(w,E){if(w){y&&y(w);return}u.futimes(E,h,m,function(A){u.close(E,function(S){y&&y(A||S);});});});},u.lutimesSync=function(_,h,m){var y=u.openSync(_,Ut.O_SYMLINK),w,E=!0;try{w=u.futimesSync(y,h,m),E=!1;}finally{if(E)try{u.closeSync(y);}catch{}else u.closeSync(y);}return w}):u.futimes&&(u.lutimes=function(_,h,m,y){y&&process.nextTick(y);},u.lutimesSync=function(){});}function n(u){return u&&function(_,h,m){return u.call(t,_,h,function(y){p(y)&&(y=null),m&&m.apply(this,arguments);})}}function s(u){return u&&function(_,h){try{return u.call(t,_,h)}catch(m){if(!p(m))throw m}}}function i(u){return u&&function(_,h,m,y){return u.call(t,_,h,m,function(w){p(w)&&(w=null),y&&y.apply(this,arguments);})}}function o(u){return u&&function(_,h,m){try{return u.call(t,_,h,m)}catch(y){if(!p(y))throw y}}}function l(u){return u&&function(_,h,m){typeof h=="function"&&(m=h,h=null);function y(w,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),m&&m.apply(this,arguments);}return h?u.call(t,_,h,y):u.call(t,_,y)}}function f(u){return u&&function(_,h){var m=h?u.call(t,_,h):u.call(t,_);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function p(u){if(!u||u.code==="ENOSYS")return !0;var _=!process.getuid||process.getuid()!==0;return !!(_&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var Sh=x((AL,vh)=>{var yh=Z("stream").Stream;vh.exports=fI;function fI(t){return {ReadStream:e,WriteStream:r};function e(n,s){if(!(this instanceof e))return new e(n,s);yh.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),l=0,f=o.length;l<f;l++){var p=o[l];this[p]=s[p];}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start;}if(this.fd!==null){process.nextTick(function(){i._read();});return}t.open(this.path,this.flags,this.mode,function(u,_){if(u){i.emit("error",u),i.readable=!1;return}i.fd=_,i.emit("open",_),i._read();});}function r(n,s){if(!(this instanceof r))return new r(n,s);yh.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var i=Object.keys(s),o=0,l=i.length;o<l;o++){var f=i[o];this[f]=s[f];}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start;}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush());}}});var bh=x((CL,wh)=>{wh.exports=pI;var dI=Object.getPrototypeOf||function(t){return t.__proto__};function pI(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:dI(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));}),e}});var Pr=x((xL,Pa)=>{var ge=Z("fs"),_I=gh(),hI=Sh(),mI=bh(),zi=Z("util"),He,Vi;typeof Symbol=="function"&&typeof Symbol.for=="function"?(He=Symbol.for("graceful-fs.queue"),Vi=Symbol.for("graceful-fs.previous")):(He="___graceful-fs.queue",Vi="___graceful-fs.previous");function gI(){}function Ch(t,e){Object.defineProperty(t,He,{get:function(){return e}});}var tr=gI;zi.debuglog?tr=zi.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(tr=function(){var t=zi.format.apply(zi,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t);});ge[He]||(Eh=global[He]||[],Ch(ge,Eh),ge.close=function(t){function e(r,n){return t.call(ge,r,function(s){s||Ah(),typeof n=="function"&&n.apply(this,arguments);})}return Object.defineProperty(e,Vi,{value:t}),e}(ge.close),ge.closeSync=function(t){function e(r){t.apply(ge,arguments),Ah();}return Object.defineProperty(e,Vi,{value:t}),e}(ge.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){tr(ge[He]),Z("assert").equal(ge[He].length,0);}));var Eh;global[He]||Ch(global,ge[He]);Pa.exports=Ia(mI(ge));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ge.__patched&&(Pa.exports=Ia(ge),ge.__patched=!0);function Ia(t){_I(t),t.gracefulify=Ia,t.createReadStream=k,t.createWriteStream=B;var e=t.readFile;t.readFile=r;function r(N,U,I){return typeof U=="function"&&(I=U,U=null),z(N,U,I);function z(G,te,P,T){return e(G,te,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?Rr([z,[G,te,P],J,T||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments);})}}var n=t.writeFile;t.writeFile=s;function s(N,U,I,z){return typeof I=="function"&&(z=I,I=null),G(N,U,I,z);function G(te,P,T,J,Q){return n(te,P,T,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Rr([G,[te,P,T,J],ie,Q||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments);})}}var i=t.appendFile;i&&(t.appendFile=o);function o(N,U,I,z){return typeof I=="function"&&(z=I,I=null),G(N,U,I,z);function G(te,P,T,J,Q){return i(te,P,T,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Rr([G,[te,P,T,J],ie,Q||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments);})}}var l=t.copyFile;l&&(t.copyFile=f);function f(N,U,I,z){return typeof I=="function"&&(z=I,I=0),G(N,U,I,z);function G(te,P,T,J,Q){return l(te,P,T,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Rr([G,[te,P,T,J],ie,Q||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments);})}}var p=t.readdir;t.readdir=_;var u=/^v[0-5]\./;function _(N,U,I){typeof U=="function"&&(I=U,U=null);var z=u.test(process.version)?function(P,T,J,Q){return p(P,G(P,T,J,Q))}:function(P,T,J,Q){return p(P,T,G(P,T,J,Q))};return z(N,U,I);function G(te,P,T,J){return function(Q,ie){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?Rr([z,[te,P,T],Q,J||Date.now(),Date.now()]):(ie&&ie.sort&&ie.sort(),typeof T=="function"&&T.call(this,Q,ie));}}}if(process.version.substr(0,4)==="v0.8"){var h=hI(t);A=h.ReadStream,R=h.WriteStream;}var m=t.ReadStream;m&&(A.prototype=Object.create(m.prototype),A.prototype.open=S);var y=t.WriteStream;y&&(R.prototype=Object.create(y.prototype),R.prototype.open=O),Object.defineProperty(t,"ReadStream",{get:function(){return A},set:function(N){A=N;},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(N){R=N;},enumerable:!0,configurable:!0});var w=A;Object.defineProperty(t,"FileReadStream",{get:function(){return w},set:function(N){w=N;},enumerable:!0,configurable:!0});var E=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return E},set:function(N){E=N;},enumerable:!0,configurable:!0});function A(N,U){return this instanceof A?(m.apply(this,arguments),this):A.apply(Object.create(A.prototype),arguments)}function S(){var N=this;$(N.path,N.flags,N.mode,function(U,I){U?(N.autoClose&&N.destroy(),N.emit("error",U)):(N.fd=I,N.emit("open",I),N.read());});}function R(N,U){return this instanceof R?(y.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function O(){var N=this;$(N.path,N.flags,N.mode,function(U,I){U?(N.destroy(),N.emit("error",U)):(N.fd=I,N.emit("open",I));});}function k(N,U){return new t.ReadStream(N,U)}function B(N,U){return new t.WriteStream(N,U)}var q=t.open;t.open=$;function $(N,U,I,z){return typeof I=="function"&&(z=I,I=null),G(N,U,I,z);function G(te,P,T,J,Q){return q(te,P,T,function(ie,Me){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Rr([G,[te,P,T,J],ie,Q||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments);})}}return t}function Rr(t){tr("ENQUEUE",t[0].name,t[1]),ge[He].push(t),Ra();}var Gi;function Ah(){for(var t=Date.now(),e=0;e<ge[He].length;++e)ge[He][e].length>2&&(ge[He][e][3]=t,ge[He][e][4]=t);Ra();}function Ra(){if(clearTimeout(Gi),Gi=void 0,ge[He].length!==0){var t=ge[He].shift(),e=t[0],r=t[1],n=t[2],s=t[3],i=t[4];if(s===void 0)tr("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-s>=6e4){tr("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n);}else {var l=Date.now()-i,f=Math.max(i-s,1),p=Math.min(f*1.2,100);l>=p?(tr("RETRY",e.name,r),e.apply(null,r.concat([s]))):ge[He].push(t);}Gi===void 0&&(Gi=setTimeout(Ra,0));}}});var De=x(At=>{var xh=Ae().fromCallback,Le=Pr(),yI=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Le[t]=="function");Object.assign(At,Le);yI.forEach(t=>{At[t]=xh(Le[t]);});At.exists=function(t,e){return typeof e=="function"?Le.exists(t,e):new Promise(r=>Le.exists(t,r))};At.read=function(t,e,r,n,s,i){return typeof i=="function"?Le.read(t,e,r,n,s,i):new Promise((o,l)=>{Le.read(t,e,r,n,s,(f,p,u)=>{if(f)return l(f);o({bytesRead:p,buffer:u});});})};At.write=function(t,e,...r){return typeof r[r.length-1]=="function"?Le.write(t,e,...r):new Promise((n,s)=>{Le.write(t,e,...r,(i,o,l)=>{if(i)return s(i);n({bytesWritten:o,buffer:l});});})};At.readv=function(t,e,...r){return typeof r[r.length-1]=="function"?Le.readv(t,e,...r):new Promise((n,s)=>{Le.readv(t,e,...r,(i,o,l)=>{if(i)return s(i);n({bytesRead:o,buffers:l});});})};At.writev=function(t,e,...r){return typeof r[r.length-1]=="function"?Le.writev(t,e,...r):new Promise((n,s)=>{Le.writev(t,e,...r,(i,o,l)=>{if(i)return s(i);n({bytesWritten:o,buffers:l});});})};typeof Le.realpath.native=="function"?At.realpath.native=xh(Le.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003");});var Rh=x((RL,Ih)=>{var vI=Z("path");Ih.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(vI.parse(e).root,""))){let n=new Error(`Path contains invalid characters: ${e}`);throw n.code="EINVAL",n}};});var Oh=x((PL,Fa)=>{var Ph=De(),{checkPath:Fh}=Rh(),Th=t=>{let e={mode:511};return typeof t=="number"?t:{...e,...t}.mode};Fa.exports.makeDir=async(t,e)=>(Fh(t),Ph.mkdir(t,{mode:Th(e),recursive:!0}));Fa.exports.makeDirSync=(t,e)=>(Fh(t),Ph.mkdirSync(t,{mode:Th(e),recursive:!0}));});var ut=x((FL,Nh)=>{var SI=Ae().fromPromise,{makeDir:wI,makeDirSync:Ta}=Oh(),Oa=SI(wI);Nh.exports={mkdirs:Oa,mkdirsSync:Ta,mkdirp:Oa,mkdirpSync:Ta,ensureDir:Oa,ensureDirSync:Ta};});var Bt=x((TL,kh)=>{var bI=Ae().fromPromise,Hh=De();function EI(t){return Hh.access(t).then(()=>!0).catch(()=>!1)}kh.exports={pathExists:bI(EI),pathExistsSync:Hh.existsSync};});var Na=x((OL,$h)=>{var Fr=De(),AI=Ae().fromPromise;async function CI(t,e,r){let n=await Fr.open(t,"r+"),s=null;try{await Fr.futimes(n,e,r);}finally{try{await Fr.close(n);}catch(i){s=i;}}if(s)throw s}function xI(t,e,r){let n=Fr.openSync(t,"r+");return Fr.futimesSync(n,e,r),Fr.closeSync(n)}$h.exports={utimesMillis:AI(CI),utimesMillisSync:xI};});var rr=x((NL,qh)=>{var Tr=De(),Ce=Z("path"),Mh=Ae().fromPromise;function II(t,e,r){let n=r.dereference?s=>Tr.stat(s,{bigint:!0}):s=>Tr.lstat(s,{bigint:!0});return Promise.all([n(t),n(e).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,i])=>({srcStat:s,destStat:i}))}function RI(t,e,r){let n,s=r.dereference?o=>Tr.statSync(o,{bigint:!0}):o=>Tr.lstatSync(o,{bigint:!0}),i=s(t);try{n=s(e);}catch(o){if(o.code==="ENOENT")return {srcStat:i,destStat:null};throw o}return {srcStat:i,destStat:n}}async function PI(t,e,r,n){let{srcStat:s,destStat:i}=await II(t,e,n);if(i){if(gn(s,i)){let o=Ce.basename(t),l=Ce.basename(e);if(r==="move"&&o!==l&&o.toLowerCase()===l.toLowerCase())return {srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&Ha(t,e))throw new Error(Zi(t,e,r));return {srcStat:s,destStat:i}}function FI(t,e,r,n){let{srcStat:s,destStat:i}=RI(t,e,n);if(i){if(gn(s,i)){let o=Ce.basename(t),l=Ce.basename(e);if(r==="move"&&o!==l&&o.toLowerCase()===l.toLowerCase())return {srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&Ha(t,e))throw new Error(Zi(t,e,r));return {srcStat:s,destStat:i}}async function Lh(t,e,r,n){let s=Ce.resolve(Ce.dirname(t)),i=Ce.resolve(Ce.dirname(r));if(i===s||i===Ce.parse(i).root)return;let o;try{o=await Tr.stat(i,{bigint:!0});}catch(l){if(l.code==="ENOENT")return;throw l}if(gn(e,o))throw new Error(Zi(t,r,n));return Lh(t,e,i,n)}function Dh(t,e,r,n){let s=Ce.resolve(Ce.dirname(t)),i=Ce.resolve(Ce.dirname(r));if(i===s||i===Ce.parse(i).root)return;let o;try{o=Tr.statSync(i,{bigint:!0});}catch(l){if(l.code==="ENOENT")return;throw l}if(gn(e,o))throw new Error(Zi(t,r,n));return Dh(t,e,i,n)}function gn(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function Ha(t,e){let r=Ce.resolve(t).split(Ce.sep).filter(s=>s),n=Ce.resolve(e).split(Ce.sep).filter(s=>s);return r.every((s,i)=>n[i]===s)}function Zi(t,e,r){return `Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}qh.exports={checkPaths:Mh(PI),checkPathsSync:FI,checkParentPaths:Mh(Lh),checkParentPathsSync:Dh,isSrcSubdir:Ha,areIdentical:gn};});var zh=x((HL,Wh)=>{var $e=De(),yn=Z("path"),{mkdirs:TI}=ut(),{pathExists:OI}=Bt(),{utimesMillis:NI}=Na(),vn=rr();async function HI(t,e,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:s}=await vn.checkPaths(t,e,"copy",r);if(await vn.checkParentPaths(t,n,e,"copy"),!await Bh(t,e,r))return;let o=yn.dirname(e);await OI(o)||await TI(o),await jh(s,t,e,r);}async function Bh(t,e,r){return r.filter?r.filter(t,e):!0}async function jh(t,e,r,n){let i=await(n.dereference?$e.stat:$e.lstat)(e);if(i.isDirectory())return LI(i,t,e,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return kI(i,t,e,r,n);if(i.isSymbolicLink())return DI(t,e,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${e}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}async function kI(t,e,r,n,s){if(!e)return Uh(t,r,n,s);if(s.overwrite)return await $e.unlink(n),Uh(t,r,n,s);if(s.errorOnExist)throw new Error(`'${n}' already exists`)}async function Uh(t,e,r,n){if(await $e.copyFile(e,r),n.preserveTimestamps){$I(t.mode)&&await MI(r,t.mode);let s=await $e.stat(e);await NI(r,s.atime,s.mtime);}return $e.chmod(r,t.mode)}function $I(t){return (t&128)===0}function MI(t,e){return $e.chmod(t,e|128)}async function LI(t,e,r,n,s){e||await $e.mkdir(n);let i=await $e.readdir(r);await Promise.all(i.map(async o=>{let l=yn.join(r,o),f=yn.join(n,o);if(!await Bh(l,f,s))return;let{destStat:u}=await vn.checkPaths(l,f,"copy",s);return jh(u,l,f,s)})),e||await $e.chmod(n,t.mode);}async function DI(t,e,r,n){let s=await $e.readlink(e);if(n.dereference&&(s=yn.resolve(process.cwd(),s)),!t)return $e.symlink(s,r);let i=null;try{i=await $e.readlink(r);}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return $e.symlink(s,r);throw o}if(n.dereference&&(i=yn.resolve(process.cwd(),i)),vn.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(vn.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return await $e.unlink(r),$e.symlink(s,r)}Wh.exports=HI;});var Kh=x((kL,Xh)=>{var qe=Pr(),Sn=Z("path"),qI=ut().mkdirsSync,UI=Na().utimesMillisSync,wn=rr();function BI(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:s}=wn.checkPathsSync(t,e,"copy",r);if(wn.checkParentPathsSync(t,n,e,"copy"),r.filter&&!r.filter(t,e))return;let i=Sn.dirname(e);return qe.existsSync(i)||qI(i),Gh(s,t,e,r)}function Gh(t,e,r,n){let i=(n.dereference?qe.statSync:qe.lstatSync)(e);if(i.isDirectory())return XI(i,t,e,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return jI(i,t,e,r,n);if(i.isSymbolicLink())return JI(t,e,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${e}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function jI(t,e,r,n,s){return e?WI(t,r,n,s):Vh(t,r,n,s)}function WI(t,e,r,n){if(n.overwrite)return qe.unlinkSync(r),Vh(t,e,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Vh(t,e,r,n){return qe.copyFileSync(e,r),n.preserveTimestamps&&zI(t.mode,e,r),ka(r,t.mode)}function zI(t,e,r){return GI(t)&&VI(r,t),ZI(e,r)}function GI(t){return (t&128)===0}function VI(t,e){return ka(t,e|128)}function ka(t,e){return qe.chmodSync(t,e)}function ZI(t,e){let r=qe.statSync(t);return UI(e,r.atime,r.mtime)}function XI(t,e,r,n,s){return e?Zh(r,n,s):KI(t.mode,r,n,s)}function KI(t,e,r,n){return qe.mkdirSync(r),Zh(e,r,n),ka(r,t)}function Zh(t,e,r){qe.readdirSync(t).forEach(n=>YI(n,t,e,r));}function YI(t,e,r,n){let s=Sn.join(e,t),i=Sn.join(r,t);if(n.filter&&!n.filter(s,i))return;let{destStat:o}=wn.checkPathsSync(s,i,"copy",n);return Gh(o,s,i,n)}function JI(t,e,r,n){let s=qe.readlinkSync(e);if(n.dereference&&(s=Sn.resolve(process.cwd(),s)),t){let i;try{i=qe.readlinkSync(r);}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return qe.symlinkSync(s,r);throw o}if(n.dereference&&(i=Sn.resolve(process.cwd(),i)),wn.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(wn.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return QI(s,r)}else return qe.symlinkSync(s,r)}function QI(t,e){return qe.unlinkSync(e),qe.symlinkSync(t,e)}Xh.exports=BI;});var Xi=x(($L,Yh)=>{var eR=Ae().fromPromise;Yh.exports={copy:eR(zh()),copySync:Kh()};});var bn=x((ML,Qh)=>{var Jh=Pr(),tR=Ae().fromCallback;function rR(t,e){Jh.rm(t,{recursive:!0,force:!0},e);}function nR(t){Jh.rmSync(t,{recursive:!0,force:!0});}Qh.exports={remove:tR(rR),removeSync:nR};});var am=x((LL,om)=>{var iR=Ae().fromPromise,rm=De(),nm=Z("path"),im=ut(),sm=bn(),em=iR(async function(e){let r;try{r=await rm.readdir(e);}catch{return im.mkdirs(e)}return Promise.all(r.map(n=>sm.remove(nm.join(e,n))))});function tm(t){let e;try{e=rm.readdirSync(t);}catch{return im.mkdirsSync(t)}e.forEach(r=>{r=nm.join(t,r),sm.removeSync(r);});}om.exports={emptyDirSync:tm,emptydirSync:tm,emptyDir:em,emptydir:em};});var fm=x((DL,cm)=>{var sR=Ae().fromPromise,lm=Z("path"),Ct=De(),um=ut();async function oR(t){let e;try{e=await Ct.stat(t);}catch{}if(e&&e.isFile())return;let r=lm.dirname(t),n=null;try{n=await Ct.stat(r);}catch(s){if(s.code==="ENOENT"){await um.mkdirs(r),await Ct.writeFile(t,"");return}else throw s}n.isDirectory()?await Ct.writeFile(t,""):await Ct.readdir(r);}function aR(t){let e;try{e=Ct.statSync(t);}catch{}if(e&&e.isFile())return;let r=lm.dirname(t);try{Ct.statSync(r).isDirectory()||Ct.readdirSync(r);}catch(n){if(n&&n.code==="ENOENT")um.mkdirsSync(r);else throw n}Ct.writeFileSync(t,"");}cm.exports={createFile:sR(oR),createFileSync:aR};});var mm=x((qL,hm)=>{var lR=Ae().fromPromise,dm=Z("path"),jt=De(),pm=ut(),{pathExists:uR}=Bt(),{areIdentical:_m}=rr();async function cR(t,e){let r;try{r=await jt.lstat(e);}catch{}let n;try{n=await jt.lstat(t);}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&_m(n,r))return;let s=dm.dirname(e);await uR(s)||await pm.mkdirs(s),await jt.link(t,e);}function fR(t,e){let r;try{r=jt.lstatSync(e);}catch{}try{let i=jt.lstatSync(t);if(r&&_m(i,r))return}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}let n=dm.dirname(e);return jt.existsSync(n)||pm.mkdirsSync(n),jt.linkSync(t,e)}hm.exports={createLink:lR(cR),createLinkSync:fR};});var ym=x((UL,gm)=>{var Wt=Z("path"),En=De(),{pathExists:dR}=Bt(),pR=Ae().fromPromise;async function _R(t,e){if(Wt.isAbsolute(t)){try{await En.lstat(t);}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return {toCwd:t,toDst:t}}let r=Wt.dirname(e),n=Wt.join(r,t);if(await dR(n))return {toCwd:n,toDst:t};try{await En.lstat(t);}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return {toCwd:t,toDst:Wt.relative(r,t)}}function hR(t,e){if(Wt.isAbsolute(t)){if(!En.existsSync(t))throw new Error("absolute srcpath does not exist");return {toCwd:t,toDst:t}}let r=Wt.dirname(e),n=Wt.join(r,t);if(En.existsSync(n))return {toCwd:n,toDst:t};if(!En.existsSync(t))throw new Error("relative srcpath does not exist");return {toCwd:t,toDst:Wt.relative(r,t)}}gm.exports={symlinkPaths:pR(_R),symlinkPathsSync:hR};});var wm=x((BL,Sm)=>{var vm=De(),mR=Ae().fromPromise;async function gR(t,e){if(e)return e;let r;try{r=await vm.lstat(t);}catch{return "file"}return r&&r.isDirectory()?"dir":"file"}function yR(t,e){if(e)return e;let r;try{r=vm.lstatSync(t);}catch{return "file"}return r&&r.isDirectory()?"dir":"file"}Sm.exports={symlinkType:mR(gR),symlinkTypeSync:yR};});var Cm=x((jL,Am)=>{var vR=Ae().fromPromise,bm=Z("path"),gt=De(),{mkdirs:SR,mkdirsSync:wR}=ut(),{symlinkPaths:bR,symlinkPathsSync:ER}=ym(),{symlinkType:AR,symlinkTypeSync:CR}=wm(),{pathExists:xR}=Bt(),{areIdentical:Em}=rr();async function IR(t,e,r){let n;try{n=await gt.lstat(e);}catch{}if(n&&n.isSymbolicLink()){let[l,f]=await Promise.all([gt.stat(t),gt.stat(e)]);if(Em(l,f))return}let s=await bR(t,e);t=s.toDst;let i=await AR(s.toCwd,r),o=bm.dirname(e);return await xR(o)||await SR(o),gt.symlink(t,e,i)}function RR(t,e,r){let n;try{n=gt.lstatSync(e);}catch{}if(n&&n.isSymbolicLink()){let l=gt.statSync(t),f=gt.statSync(e);if(Em(l,f))return}let s=ER(t,e);t=s.toDst,r=CR(s.toCwd,r);let i=bm.dirname(e);return gt.existsSync(i)||wR(i),gt.symlinkSync(t,e,r)}Am.exports={createSymlink:vR(IR),createSymlinkSync:RR};});var Nm=x((WL,Om)=>{var{createFile:xm,createFileSync:Im}=fm(),{createLink:Rm,createLinkSync:Pm}=mm(),{createSymlink:Fm,createSymlinkSync:Tm}=Cm();Om.exports={createFile:xm,createFileSync:Im,ensureFile:xm,ensureFileSync:Im,createLink:Rm,createLinkSync:Pm,ensureLink:Rm,ensureLinkSync:Pm,createSymlink:Fm,createSymlinkSync:Tm,ensureSymlink:Fm,ensureSymlinkSync:Tm};});var Ki=x((zL,Hm)=>{function PR(t,{EOL:e=`
`,finalEOL:r=!0,replacer:n=null,spaces:s}={}){let i=r?e:"";return JSON.stringify(t,n,s).replace(/\n/g,e)+i}function FR(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}Hm.exports={stringify:PR,stripBom:FR};});var Lm=x((GL,Mm)=>{var Or;try{Or=Pr();}catch{Or=Z("fs");}var Yi=Ae(),{stringify:km,stripBom:$m}=Ki();async function TR(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||Or,n="throws"in e?e.throws:!0,s=await Yi.fromCallback(r.readFile)(t,e);s=$m(s);let i;try{i=JSON.parse(s,e?e.reviver:null);}catch(o){if(n)throw o.message=`${t}: ${o.message}`,o;return null}return i}var OR=Yi.fromPromise(TR);function NR(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||Or,n="throws"in e?e.throws:!0;try{let s=r.readFileSync(t,e);return s=$m(s),JSON.parse(s,e.reviver)}catch(s){if(n)throw s.message=`${t}: ${s.message}`,s;return null}}async function HR(t,e,r={}){let n=r.fs||Or,s=km(e,r);await Yi.fromCallback(n.writeFile)(t,s,r);}var kR=Yi.fromPromise(HR);function $R(t,e,r={}){let n=r.fs||Or,s=km(e,r);return n.writeFileSync(t,s,r)}var MR={readFile:OR,readFileSync:NR,writeFile:kR,writeFileSync:$R};Mm.exports=MR;});var qm=x((VL,Dm)=>{var Ji=Lm();Dm.exports={readJson:Ji.readFile,readJsonSync:Ji.readFileSync,writeJson:Ji.writeFile,writeJsonSync:Ji.writeFileSync};});var Qi=x((ZL,jm)=>{var LR=Ae().fromPromise,$a=De(),Um=Z("path"),Bm=ut(),DR=Bt().pathExists;async function qR(t,e,r="utf-8"){let n=Um.dirname(t);return await DR(n)||await Bm.mkdirs(n),$a.writeFile(t,e,r)}function UR(t,...e){let r=Um.dirname(t);$a.existsSync(r)||Bm.mkdirsSync(r),$a.writeFileSync(t,...e);}jm.exports={outputFile:LR(qR),outputFileSync:UR};});var zm=x((XL,Wm)=>{var{stringify:BR}=Ki(),{outputFile:jR}=Qi();async function WR(t,e,r={}){let n=BR(e,r);await jR(t,n,r);}Wm.exports=WR;});var Vm=x((KL,Gm)=>{var{stringify:zR}=Ki(),{outputFileSync:GR}=Qi();function VR(t,e,r){let n=zR(e,r);GR(t,n,r);}Gm.exports=VR;});var Xm=x((YL,Zm)=>{var ZR=Ae().fromPromise,Ue=qm();Ue.outputJson=ZR(zm());Ue.outputJsonSync=Vm();Ue.outputJSON=Ue.outputJson;Ue.outputJSONSync=Ue.outputJsonSync;Ue.writeJSON=Ue.writeJson;Ue.writeJSONSync=Ue.writeJsonSync;Ue.readJSON=Ue.readJson;Ue.readJSONSync=Ue.readJsonSync;Zm.exports=Ue;});var eg=x((JL,Qm)=>{var XR=De(),Km=Z("path"),{copy:KR}=Xi(),{remove:Jm}=bn(),{mkdirp:YR}=ut(),{pathExists:JR}=Bt(),Ym=rr();async function QR(t,e,r={}){let n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=await Ym.checkPaths(t,e,"move",r);await Ym.checkParentPaths(t,s,e,"move");let o=Km.dirname(e);return Km.parse(o).root!==o&&await YR(o),e1(t,e,n,i)}async function e1(t,e,r,n){if(!n){if(r)await Jm(e);else if(await JR(e))throw new Error("dest already exists.")}try{await XR.rename(t,e);}catch(s){if(s.code!=="EXDEV")throw s;await t1(t,e,r);}}async function t1(t,e,r){return await KR(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Jm(t)}Qm.exports=QR;});var sg=x((QL,ig)=>{var rg=Pr(),La=Z("path"),r1=Xi().copySync,ng=bn().removeSync,n1=ut().mkdirpSync,tg=rr();function i1(t,e,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=tg.checkPathsSync(t,e,"move",r);return tg.checkParentPathsSync(t,s,e,"move"),s1(e)||n1(La.dirname(e)),o1(t,e,n,i)}function s1(t){let e=La.dirname(t);return La.parse(e).root===e}function o1(t,e,r,n){if(n)return Ma(t,e,r);if(r)return ng(e),Ma(t,e,r);if(rg.existsSync(e))throw new Error("dest already exists.");return Ma(t,e,r)}function Ma(t,e,r){try{rg.renameSync(t,e);}catch(n){if(n.code!=="EXDEV")throw n;return a1(t,e,r)}}function a1(t,e,r){return r1(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),ng(t)}ig.exports=i1;});var ag=x((e2,og)=>{var l1=Ae().fromPromise;og.exports={move:l1(eg()),moveSync:sg()};});var Da=x((t2,lg)=>{lg.exports={...De(),...Xi(),...am(),...Nm(),...Xm(),...ut(),...ag(),...Qi(),...Bt(),...bn()};});var An=x((r2,pg)=>{var u1=Z("path"),yt="\\\\/",ug=`[^${yt}]`,xt="\\.",c1="\\+",f1="\\?",es="\\/",d1="(?=.)",cg="[^/]",qa=`(?:${es}|$)`,fg=`(?:^|${es})`,Ua=`${xt}{1,2}${qa}`,p1=`(?!${xt})`,_1=`(?!${fg}${Ua})`,h1=`(?!${xt}{0,1}${qa})`,m1=`(?!${Ua})`,g1=`[^.${es}]`,y1=`${cg}*?`,dg={DOT_LITERAL:xt,PLUS_LITERAL:c1,QMARK_LITERAL:f1,SLASH_LITERAL:es,ONE_CHAR:d1,QMARK:cg,END_ANCHOR:qa,DOTS_SLASH:Ua,NO_DOT:p1,NO_DOTS:_1,NO_DOT_SLASH:h1,NO_DOTS_SLASH:m1,QMARK_NO_DOT:g1,STAR:y1,START_ANCHOR:fg},v1={...dg,SLASH_LITERAL:`[${yt}]`,QMARK:ug,STAR:`${ug}*?`,DOTS_SLASH:`${xt}{1,2}(?:[${yt}]|$)`,NO_DOT:`(?!${xt})`,NO_DOTS:`(?!(?:^|[${yt}])${xt}{1,2}(?:[${yt}]|$))`,NO_DOT_SLASH:`(?!${xt}{0,1}(?:[${yt}]|$))`,NO_DOTS_SLASH:`(?!${xt}{1,2}(?:[${yt}]|$))`,QMARK_NO_DOT:`[^.${yt}]`,START_ANCHOR:`(?:^|[${yt}])`,END_ANCHOR:`(?:[${yt}]|$)`},S1={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};pg.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:S1,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:u1.sep,extglobChars(t){return {"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?v1:dg}};});var ts=x(ze=>{var w1=Z("path"),b1=process.platform==="win32",{REGEX_BACKSLASH:E1,REGEX_REMOVE_BACKSLASH:A1,REGEX_SPECIAL_CHARS:C1,REGEX_SPECIAL_CHARS_GLOBAL:x1}=An();ze.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);ze.hasRegexChars=t=>C1.test(t);ze.isRegexChar=t=>t.length===1&&ze.hasRegexChars(t);ze.escapeRegex=t=>t.replace(x1,"\\$1");ze.toPosixSlashes=t=>t.replace(E1,"/");ze.removeBackslashes=t=>t.replace(A1,e=>e==="\\"?"":e);ze.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};ze.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:b1===!0||w1.sep==="\\";ze.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?ze.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};ze.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};ze.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",i=`${n}(?:${t})${s}`;return e.negated===!0&&(i=`(?:^(?!${i}).*$)`),i};});var wg=x((i2,Sg)=>{var _g=ts(),{CHAR_ASTERISK:Ba,CHAR_AT:I1,CHAR_BACKWARD_SLASH:Cn,CHAR_COMMA:R1,CHAR_DOT:ja,CHAR_EXCLAMATION_MARK:Wa,CHAR_FORWARD_SLASH:vg,CHAR_LEFT_CURLY_BRACE:za,CHAR_LEFT_PARENTHESES:Ga,CHAR_LEFT_SQUARE_BRACKET:P1,CHAR_PLUS:F1,CHAR_QUESTION_MARK:hg,CHAR_RIGHT_CURLY_BRACE:T1,CHAR_RIGHT_PARENTHESES:mg,CHAR_RIGHT_SQUARE_BRACKET:O1}=An(),gg=t=>t===vg||t===Cn,yg=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1);},N1=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,i=[],o=[],l=[],f=t,p=-1,u=0,_=0,h=!1,m=!1,y=!1,w=!1,E=!1,A=!1,S=!1,R=!1,O=!1,k=!1,B=0,q,$,N={value:"",depth:0,isGlob:!1},U=()=>p>=n,I=()=>f.charCodeAt(p+1),z=()=>(q=$,f.charCodeAt(++p));for(;p<n;){$=z();let J;if($===Cn){S=N.backslashes=!0,$=z(),$===za&&(A=!0);continue}if(A===!0||$===za){for(B++;U()!==!0&&($=z());){if($===Cn){S=N.backslashes=!0,z();continue}if($===za){B++;continue}if(A!==!0&&$===ja&&($=z())===ja){if(h=N.isBrace=!0,y=N.isGlob=!0,k=!0,s===!0)continue;break}if(A!==!0&&$===R1){if(h=N.isBrace=!0,y=N.isGlob=!0,k=!0,s===!0)continue;break}if($===T1&&(B--,B===0)){A=!1,h=N.isBrace=!0,k=!0;break}}if(s===!0)continue;break}if($===vg){if(i.push(p),o.push(N),N={value:"",depth:0,isGlob:!1},k===!0)continue;if(q===ja&&p===u+1){u+=2;continue}_=p+1;continue}if(r.noext!==!0&&($===F1||$===I1||$===Ba||$===hg||$===Wa)===!0&&I()===Ga){if(y=N.isGlob=!0,w=N.isExtglob=!0,k=!0,$===Wa&&p===u&&(O=!0),s===!0){for(;U()!==!0&&($=z());){if($===Cn){S=N.backslashes=!0,$=z();continue}if($===mg){y=N.isGlob=!0,k=!0;break}}continue}break}if($===Ba){if(q===Ba&&(E=N.isGlobstar=!0),y=N.isGlob=!0,k=!0,s===!0)continue;break}if($===hg){if(y=N.isGlob=!0,k=!0,s===!0)continue;break}if($===P1){for(;U()!==!0&&(J=z());){if(J===Cn){S=N.backslashes=!0,z();continue}if(J===O1){m=N.isBracket=!0,y=N.isGlob=!0,k=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&$===Wa&&p===u){R=N.negated=!0,u++;continue}if(r.noparen!==!0&&$===Ga){if(y=N.isGlob=!0,s===!0){for(;U()!==!0&&($=z());){if($===Ga){S=N.backslashes=!0,$=z();continue}if($===mg){k=!0;break}}continue}break}if(y===!0){if(k=!0,s===!0)continue;break}}r.noext===!0&&(w=!1,y=!1);let G=f,te="",P="";u>0&&(te=f.slice(0,u),f=f.slice(u),_-=u),G&&y===!0&&_>0?(G=f.slice(0,_),P=f.slice(_)):y===!0?(G="",P=f):G=f,G&&G!==""&&G!=="/"&&G!==f&&gg(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),r.unescape===!0&&(P&&(P=_g.removeBackslashes(P)),G&&S===!0&&(G=_g.removeBackslashes(G)));let T={prefix:te,input:t,start:u,base:G,glob:P,isBrace:h,isBracket:m,isGlob:y,isExtglob:w,isGlobstar:E,negated:R,negatedExtglob:O};if(r.tokens===!0&&(T.maxDepth=0,gg($)||o.push(N),T.tokens=o),r.parts===!0||r.tokens===!0){let J;for(let Q=0;Q<i.length;Q++){let ie=J?J+1:u,Me=i[Q],be=t.slice(ie,Me);r.tokens&&(Q===0&&u!==0?(o[Q].isPrefix=!0,o[Q].value=te):o[Q].value=be,yg(o[Q]),T.maxDepth+=o[Q].depth),(Q!==0||be!=="")&&l.push(be),J=Me;}if(J&&J+1<t.length){let Q=t.slice(J+1);l.push(Q),r.tokens&&(o[o.length-1].value=Q,yg(o[o.length-1]),T.maxDepth+=o[o.length-1].depth);}T.slashes=i,T.parts=l;}return T};Sg.exports=N1;});var Ag=x((s2,Eg)=>{var rs=An(),Ke=ts(),{MAX_LENGTH:ns,POSIX_REGEX_SOURCE:H1,REGEX_NON_SPECIAL_CHARS:k1,REGEX_SPECIAL_CHARS_BACKREF:$1,REPLACEMENTS:bg}=rs,M1=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;return r},Nr=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Va=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=bg[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(ns,r.maxLength):ns,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:r.prepend||""},o=[i],l=r.capture?"":"?:",f=Ke.isWindows(e),p=rs.globChars(f),u=rs.extglobChars(p),{DOT_LITERAL:_,PLUS_LITERAL:h,SLASH_LITERAL:m,ONE_CHAR:y,DOTS_SLASH:w,NO_DOT:E,NO_DOT_SLASH:A,NO_DOTS_SLASH:S,QMARK:R,QMARK_NO_DOT:O,STAR:k,START_ANCHOR:B}=p,q=X=>`(${l}(?:(?!${B}${X.dot?w:_}).)*?)`,$=r.dot?"":E,N=r.dot?R:O,U=r.bash===!0?q(r):k;r.capture&&(U=`(${U})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let I={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=Ke.removePrefix(t,I),s=t.length;let z=[],G=[],te=[],P=i,T,J=()=>I.index===s-1,Q=I.peek=(X=1)=>t[I.index+X],ie=I.advance=()=>t[++I.index]||"",Me=()=>t.slice(I.index+1),be=(X="",pe=0)=>{I.consumed+=X,I.index+=pe;},Tt=X=>{I.output+=X.output!=null?X.output:X.value,be(X.value);},Vr=()=>{let X=1;for(;Q()==="!"&&(Q(2)!=="("||Q(3)==="?");)ie(),I.start++,X++;return X%2===0?!1:(I.negated=!0,I.start++,!0)},Ot=X=>{I[X]++,te.push(X);},ot=X=>{I[X]--,te.pop();},oe=X=>{if(P.type==="globstar"){let pe=I.braces>0&&(X.type==="comma"||X.type==="brace"),W=X.extglob===!0||z.length&&(X.type==="pipe"||X.type==="paren");X.type!=="slash"&&X.type!=="paren"&&!pe&&!W&&(I.output=I.output.slice(0,-P.output.length),P.type="star",P.value="*",P.output=U,I.output+=P.output);}if(z.length&&X.type!=="paren"&&(z[z.length-1].inner+=X.value),(X.value||X.output)&&Tt(X),P&&P.type==="text"&&X.type==="text"){P.value+=X.value,P.output=(P.output||"")+X.value;return}X.prev=P,o.push(X),P=X;},_r=(X,pe)=>{let W={...u[pe],conditions:1,inner:""};W.prev=P,W.parens=I.parens,W.output=I.output;let ne=(r.capture?"(":"")+W.open;Ot("parens"),oe({type:X,value:pe,output:I.output?"":y}),oe({type:"paren",extglob:!0,value:ie(),output:ne}),z.push(W);},no=X=>{let pe=X.close+(r.capture?")":""),W;if(X.type==="negate"){let ne=U;if(X.inner&&X.inner.length>1&&X.inner.includes("/")&&(ne=q(r)),(ne!==U||J()||/^\)+$/.test(Me()))&&(pe=X.close=`)$))${ne}`),X.inner.includes("*")&&(W=Me())&&/^\.[^\\/.]+$/.test(W)){let _e=Va(W,{...e,fastpaths:!1}).output;pe=X.close=`)${_e})${ne})`;}X.prev.type==="bos"&&(I.negatedExtglob=!0);}oe({type:"paren",extglob:!0,value:T,output:pe}),ot("parens");};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let X=!1,pe=t.replace($1,(W,ne,_e,Pe,ye,Zt)=>Pe==="\\"?(X=!0,W):Pe==="?"?ne?ne+Pe+(ye?R.repeat(ye.length):""):Zt===0?N+(ye?R.repeat(ye.length):""):R.repeat(_e.length):Pe==="."?_.repeat(_e.length):Pe==="*"?ne?ne+Pe+(ye?U:""):U:ne?W:`\\${W}`);return X===!0&&(r.unescape===!0?pe=pe.replace(/\\/g,""):pe=pe.replace(/\\+/g,W=>W.length%2===0?"\\\\":W?"\\":"")),pe===t&&r.contains===!0?(I.output=t,I):(I.output=Ke.wrapOutput(pe,I,e),I)}for(;!J();){if(T=ie(),T==="\0")continue;if(T==="\\"){let W=Q();if(W==="/"&&r.bash!==!0||W==="."||W===";")continue;if(!W){T+="\\",oe({type:"text",value:T});continue}let ne=/^\\+/.exec(Me()),_e=0;if(ne&&ne[0].length>2&&(_e=ne[0].length,I.index+=_e,_e%2!==0&&(T+="\\")),r.unescape===!0?T=ie():T+=ie(),I.brackets===0){oe({type:"text",value:T});continue}}if(I.brackets>0&&(T!=="]"||P.value==="["||P.value==="[^")){if(r.posix!==!1&&T===":"){let W=P.value.slice(1);if(W.includes("[")&&(P.posix=!0,W.includes(":"))){let ne=P.value.lastIndexOf("["),_e=P.value.slice(0,ne),Pe=P.value.slice(ne+2),ye=H1[Pe];if(ye){P.value=_e+ye,I.backtrack=!0,ie(),!i.output&&o.indexOf(P)===1&&(i.output=y);continue}}}(T==="["&&Q()!==":"||T==="-"&&Q()==="]")&&(T=`\\${T}`),T==="]"&&(P.value==="["||P.value==="[^")&&(T=`\\${T}`),r.posix===!0&&T==="!"&&P.value==="["&&(T="^"),P.value+=T,Tt({value:T});continue}if(I.quotes===1&&T!=='"'){T=Ke.escapeRegex(T),P.value+=T,Tt({value:T});continue}if(T==='"'){I.quotes=I.quotes===1?0:1,r.keepQuotes===!0&&oe({type:"text",value:T});continue}if(T==="("){Ot("parens"),oe({type:"paren",value:T});continue}if(T===")"){if(I.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Nr("opening","("));let W=z[z.length-1];if(W&&I.parens===W.parens+1){no(z.pop());continue}oe({type:"paren",value:T,output:I.parens?")":"\\)"}),ot("parens");continue}if(T==="["){if(r.nobracket===!0||!Me().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Nr("closing","]"));T=`\\${T}`;}else Ot("brackets");oe({type:"bracket",value:T});continue}if(T==="]"){if(r.nobracket===!0||P&&P.type==="bracket"&&P.value.length===1){oe({type:"text",value:T,output:`\\${T}`});continue}if(I.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Nr("opening","["));oe({type:"text",value:T,output:`\\${T}`});continue}ot("brackets");let W=P.value.slice(1);if(P.posix!==!0&&W[0]==="^"&&!W.includes("/")&&(T=`/${T}`),P.value+=T,Tt({value:T}),r.literalBrackets===!1||Ke.hasRegexChars(W))continue;let ne=Ke.escapeRegex(P.value);if(I.output=I.output.slice(0,-P.value.length),r.literalBrackets===!0){I.output+=ne,P.value=ne;continue}P.value=`(${l}${ne}|${P.value})`,I.output+=P.value;continue}if(T==="{"&&r.nobrace!==!0){Ot("braces");let W={type:"brace",value:T,output:"(",outputIndex:I.output.length,tokensIndex:I.tokens.length};G.push(W),oe(W);continue}if(T==="}"){let W=G[G.length-1];if(r.nobrace===!0||!W){oe({type:"text",value:T,output:T});continue}let ne=")";if(W.dots===!0){let _e=o.slice(),Pe=[];for(let ye=_e.length-1;ye>=0&&(o.pop(),_e[ye].type!=="brace");ye--)_e[ye].type!=="dots"&&Pe.unshift(_e[ye].value);ne=M1(Pe,r),I.backtrack=!0;}if(W.comma!==!0&&W.dots!==!0){let _e=I.output.slice(0,W.outputIndex),Pe=I.tokens.slice(W.tokensIndex);W.value=W.output="\\{",T=ne="\\}",I.output=_e;for(let ye of Pe)I.output+=ye.output||ye.value;}oe({type:"brace",value:T,output:ne}),ot("braces"),G.pop();continue}if(T==="|"){z.length>0&&z[z.length-1].conditions++,oe({type:"text",value:T});continue}if(T===","){let W=T,ne=G[G.length-1];ne&&te[te.length-1]==="braces"&&(ne.comma=!0,W="|"),oe({type:"comma",value:T,output:W});continue}if(T==="/"){if(P.type==="dot"&&I.index===I.start+1){I.start=I.index+1,I.consumed="",I.output="",o.pop(),P=i;continue}oe({type:"slash",value:T,output:m});continue}if(T==="."){if(I.braces>0&&P.type==="dot"){P.value==="."&&(P.output=_);let W=G[G.length-1];P.type="dots",P.output+=T,P.value+=T,W.dots=!0;continue}if(I.braces+I.parens===0&&P.type!=="bos"&&P.type!=="slash"){oe({type:"text",value:T,output:_});continue}oe({type:"dot",value:T,output:_});continue}if(T==="?"){if(!(P&&P.value==="(")&&r.noextglob!==!0&&Q()==="("&&Q(2)!=="?"){_r("qmark",T);continue}if(P&&P.type==="paren"){let ne=Q(),_e=T;if(ne==="<"&&!Ke.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(P.value==="("&&!/[!=<:]/.test(ne)||ne==="<"&&!/<([!=]|\w+>)/.test(Me()))&&(_e=`\\${T}`),oe({type:"text",value:T,output:_e});continue}if(r.dot!==!0&&(P.type==="slash"||P.type==="bos")){oe({type:"qmark",value:T,output:O});continue}oe({type:"qmark",value:T,output:R});continue}if(T==="!"){if(r.noextglob!==!0&&Q()==="("&&(Q(2)!=="?"||!/[!=<:]/.test(Q(3)))){_r("negate",T);continue}if(r.nonegate!==!0&&I.index===0){Vr();continue}}if(T==="+"){if(r.noextglob!==!0&&Q()==="("&&Q(2)!=="?"){_r("plus",T);continue}if(P&&P.value==="("||r.regex===!1){oe({type:"plus",value:T,output:h});continue}if(P&&(P.type==="bracket"||P.type==="paren"||P.type==="brace")||I.parens>0){oe({type:"plus",value:T});continue}oe({type:"plus",value:h});continue}if(T==="@"){if(r.noextglob!==!0&&Q()==="("&&Q(2)!=="?"){oe({type:"at",extglob:!0,value:T,output:""});continue}oe({type:"text",value:T});continue}if(T!=="*"){(T==="$"||T==="^")&&(T=`\\${T}`);let W=k1.exec(Me());W&&(T+=W[0],I.index+=W[0].length),oe({type:"text",value:T});continue}if(P&&(P.type==="globstar"||P.star===!0)){P.type="star",P.star=!0,P.value+=T,P.output=U,I.backtrack=!0,I.globstar=!0,be(T);continue}let X=Me();if(r.noextglob!==!0&&/^\([^?]/.test(X)){_r("star",T);continue}if(P.type==="star"){if(r.noglobstar===!0){be(T);continue}let W=P.prev,ne=W.prev,_e=W.type==="slash"||W.type==="bos",Pe=ne&&(ne.type==="star"||ne.type==="globstar");if(r.bash===!0&&(!_e||X[0]&&X[0]!=="/")){oe({type:"star",value:T,output:""});continue}let ye=I.braces>0&&(W.type==="comma"||W.type==="brace"),Zt=z.length&&(W.type==="pipe"||W.type==="paren");if(!_e&&W.type!=="paren"&&!ye&&!Zt){oe({type:"star",value:T,output:""});continue}for(;X.slice(0,3)==="/**";){let Nt=t[I.index+4];if(Nt&&Nt!=="/")break;X=X.slice(3),be("/**",3);}if(W.type==="bos"&&J()){P.type="globstar",P.value+=T,P.output=q(r),I.output=P.output,I.globstar=!0,be(T);continue}if(W.type==="slash"&&W.prev.type!=="bos"&&!Pe&&J()){I.output=I.output.slice(0,-(W.output+P.output).length),W.output=`(?:${W.output}`,P.type="globstar",P.output=q(r)+(r.strictSlashes?")":"|$)"),P.value+=T,I.globstar=!0,I.output+=W.output+P.output,be(T);continue}if(W.type==="slash"&&W.prev.type!=="bos"&&X[0]==="/"){let Nt=X[1]!==void 0?"|$":"";I.output=I.output.slice(0,-(W.output+P.output).length),W.output=`(?:${W.output}`,P.type="globstar",P.output=`${q(r)}${m}|${m}${Nt})`,P.value+=T,I.output+=W.output+P.output,I.globstar=!0,be(T+ie()),oe({type:"slash",value:"/",output:""});continue}if(W.type==="bos"&&X[0]==="/"){P.type="globstar",P.value+=T,P.output=`(?:^|${m}|${q(r)}${m})`,I.output=P.output,I.globstar=!0,be(T+ie()),oe({type:"slash",value:"/",output:""});continue}I.output=I.output.slice(0,-P.output.length),P.type="globstar",P.output=q(r),P.value+=T,I.output+=P.output,I.globstar=!0,be(T);continue}let pe={type:"star",value:T,output:U};if(r.bash===!0){pe.output=".*?",(P.type==="bos"||P.type==="slash")&&(pe.output=$+pe.output),oe(pe);continue}if(P&&(P.type==="bracket"||P.type==="paren")&&r.regex===!0){pe.output=T,oe(pe);continue}(I.index===I.start||P.type==="slash"||P.type==="dot")&&(P.type==="dot"?(I.output+=A,P.output+=A):r.dot===!0?(I.output+=S,P.output+=S):(I.output+=$,P.output+=$),Q()!=="*"&&(I.output+=y,P.output+=y)),oe(pe);}for(;I.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Nr("closing","]"));I.output=Ke.escapeLast(I.output,"["),ot("brackets");}for(;I.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Nr("closing",")"));I.output=Ke.escapeLast(I.output,"("),ot("parens");}for(;I.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Nr("closing","}"));I.output=Ke.escapeLast(I.output,"{"),ot("braces");}if(r.strictSlashes!==!0&&(P.type==="star"||P.type==="bracket")&&oe({type:"maybe_slash",value:"",output:`${m}?`}),I.backtrack===!0){I.output="";for(let X of I.tokens)I.output+=X.output!=null?X.output:X.value,X.suffix&&(I.output+=X.suffix);}return I};Va.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(ns,r.maxLength):ns,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=bg[t]||t;let i=Ke.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:p,NO_DOT:u,NO_DOTS:_,NO_DOTS_SLASH:h,STAR:m,START_ANCHOR:y}=rs.globChars(i),w=r.dot?_:u,E=r.dot?h:u,A=r.capture?"":"?:",S={negated:!1,prefix:""},R=r.bash===!0?".*?":m;r.capture&&(R=`(${R})`);let O=$=>$.noglobstar===!0?R:`(${A}(?:(?!${y}${$.dot?p:o}).)*?)`,k=$=>{switch($){case"*":return `${w}${f}${R}`;case".*":return `${o}${f}${R}`;case"*.*":return `${w}${R}${o}${f}${R}`;case"*/*":return `${w}${R}${l}${f}${E}${R}`;case"**":return w+O(r);case"**/*":return `(?:${w}${O(r)}${l})?${E}${f}${R}`;case"**/*.*":return `(?:${w}${O(r)}${l})?${E}${R}${o}${f}${R}`;case"**/.*":return `(?:${w}${O(r)}${l})?${o}${f}${R}`;default:{let N=/^(.*?)\.(\w+)$/.exec($);if(!N)return;let U=k(N[1]);return U?U+o+N[2]:void 0}}},B=Ke.removePrefix(t,S),q=k(B);return q&&r.strictSlashes!==!0&&(q+=`${l}?`),q};Eg.exports=Va;});var xg=x((o2,Cg)=>{var L1=Z("path"),D1=wg(),Za=Ag(),Xa=ts(),q1=An(),U1=t=>t&&typeof t=="object"&&!Array.isArray(t),Se=(t,e,r=!1)=>{if(Array.isArray(t)){let u=t.map(h=>Se(h,e,r));return h=>{for(let m of u){let y=m(h);if(y)return y}return !1}}let n=U1(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},i=Xa.isWindows(e),o=n?Se.compileRe(t,e):Se.makeRe(t,e,!1,!0),l=o.state;delete o.state;let f=()=>!1;if(s.ignore){let u={...e,ignore:null,onMatch:null,onResult:null};f=Se(s.ignore,u,r);}let p=(u,_=!1)=>{let{isMatch:h,match:m,output:y}=Se.test(u,o,e,{glob:t,posix:i}),w={glob:t,state:l,regex:o,posix:i,input:u,output:y,match:m,isMatch:h};return typeof s.onResult=="function"&&s.onResult(w),h===!1?(w.isMatch=!1,_?w:!1):f(u)?(typeof s.onIgnore=="function"&&s.onIgnore(w),w.isMatch=!1,_?w:!1):(typeof s.onMatch=="function"&&s.onMatch(w),_?w:!0)};return r&&(p.state=l),p};Se.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return {isMatch:!1,output:""};let i=r||{},o=i.format||(s?Xa.toPosixSlashes:null),l=t===n,f=l&&o?o(t):t;return l===!1&&(f=o?o(t):t,l=f===n),(l===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?l=Se.matchBase(t,e,r,s):l=e.exec(f)),{isMatch:!!l,match:l,output:f}};Se.matchBase=(t,e,r,n=Xa.isWindows(r))=>(e instanceof RegExp?e:Se.makeRe(e,r)).test(L1.basename(t));Se.isMatch=(t,e,r)=>Se(e,r)(t);Se.parse=(t,e)=>Array.isArray(t)?t.map(r=>Se.parse(r,e)):Za(t,{...e,fastpaths:!1});Se.scan=(t,e)=>D1(t,e);Se.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},i=s.contains?"":"^",o=s.contains?"":"$",l=`${i}(?:${t.output})${o}`;t&&t.negated===!0&&(l=`^(?!${l}).*$`);let f=Se.toRegex(l,e);return n===!0&&(f.state=t),f};Se.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Za.fastpaths(t,e)),s.output||(s=Za(t,e)),Se.compileRe(s,e,r,n)};Se.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return /$^/}};Se.constants=q1;Cg.exports=Se;});var Ka=x((a2,Ig)=>{Ig.exports=xg();});var kg=x((l2,Hg)=>{var In=Z("fs"),{Readable:B1}=Z("stream"),xn=Z("path"),{promisify:as}=Z("util"),Ya=Ka(),j1=as(In.readdir),W1=as(In.stat),Rg=as(In.lstat),z1=as(In.realpath),G1="!",Og="READDIRP_RECURSIVE_ERROR",V1=new Set(["ENOENT","EPERM","EACCES","ELOOP",Og]),Ja="files",Ng="directories",ss="files_directories",is="all",Pg=[Ja,Ng,ss,is],Z1=t=>V1.has(t.code),[Fg,X1]=process.versions.node.split(".").slice(0,2).map(t=>Number.parseInt(t,10)),K1=process.platform==="win32"&&(Fg>10||Fg===10&&X1>=5),Tg=t=>{if(t!==void 0){if(typeof t=="function")return t;if(typeof t=="string"){let e=Ya(t.trim());return r=>e(r.basename)}if(Array.isArray(t)){let e=[],r=[];for(let n of t){let s=n.trim();s.charAt(0)===G1?r.push(Ya(s.slice(1))):e.push(Ya(s));}return r.length>0?e.length>0?n=>e.some(s=>s(n.basename))&&!r.some(s=>s(n.basename)):n=>!r.some(s=>s(n.basename)):n=>e.some(s=>s(n.basename))}}},os=class t extends B1{static get defaultOptions(){return {root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:Ja,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let r={...t.defaultOptions,...e},{root:n,type:s}=r;this._fileFilter=Tg(r.fileFilter),this._directoryFilter=Tg(r.directoryFilter);let i=r.lstat?Rg:W1;K1?this._stat=o=>i(o,{bigint:!0}):this._stat=i,this._maxDepth=r.depth,this._wantsDir=[Ng,ss,is].includes(s),this._wantsFile=[Ja,ss,is].includes(s),this._wantsEverything=s===is,this._root=xn.resolve(n),this._isDirent="Dirent"in In&&!r.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(n,1)],this.reading=!1,this.parent=void 0;}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:r,depth:n,files:s=[]}=this.parent||{};if(s.length>0){let i=s.splice(0,e).map(o=>this._formatEntry(o,r));for(let o of await Promise.all(i)){if(this.destroyed)return;let l=await this._getEntryType(o);l==="directory"&&this._directoryFilter(o)?(n<=this._maxDepth&&this.parents.push(this._exploreDir(o.fullPath,n+1)),this._wantsDir&&(this.push(o),e--)):(l==="file"||this._includeAsFile(o))&&this._fileFilter(o)&&this._wantsFile&&(this.push(o),e--);}}else {let i=this.parents.pop();if(!i){this.push(null);break}if(this.parent=await i,this.destroyed)return}}}catch(r){this.destroy(r);}finally{this.reading=!1;}}}async _exploreDir(e,r){let n;try{n=await j1(e,this._rdOptions);}catch(s){this._onError(s);}return {files:n,depth:r,path:e}}async _formatEntry(e,r){let n;try{let s=this._isDirent?e.name:e,i=xn.resolve(xn.join(r,s));n={path:xn.relative(this._root,i),fullPath:i,basename:s},n[this._statsProp]=this._isDirent?e:await this._stat(i);}catch(s){this._onError(s);}return n}_onError(e){Z1(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e);}async _getEntryType(e){let r=e&&e[this._statsProp];if(r){if(r.isFile())return "file";if(r.isDirectory())return "directory";if(r&&r.isSymbolicLink()){let n=e.fullPath;try{let s=await z1(n),i=await Rg(s);if(i.isFile())return "file";if(i.isDirectory()){let o=s.length;if(n.startsWith(s)&&n.substr(o,1)===xn.sep){let l=new Error(`Circular symlink detected: "${n}" points to "${s}"`);return l.code=Og,this._onError(l)}return "directory"}}catch(s){this._onError(s);}}}}_includeAsFile(e){let r=e&&e[this._statsProp];return r&&this._wantsEverything&&!r.isDirectory()}},Hr=(t,e={})=>{let r=e.entryType||e.type;if(r==="both"&&(r=ss),r&&(e.type=r),t){if(typeof t!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!Pg.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${Pg.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=t,new os(e)},Y1=(t,e={})=>new Promise((r,n)=>{let s=[];Hr(t,e).on("data",i=>s.push(i)).on("end",()=>r(s)).on("error",i=>n(i));});Hr.promise=Y1;Hr.ReaddirpStream=os;Hr.default=Hr;Hg.exports=Hr;});var Qa=x((u2,$g)=>{$g.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return "/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var s=t[2];(s==="?"||s===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//");}var i=t.split(/[/\\]+/);return e!==!1&&i[i.length-1]===""&&i.pop(),n+i.join("/")};});var Bg=x((qg,Ug)=>{Object.defineProperty(qg,"__esModule",{value:!0});var Dg=Ka(),J1=Qa(),Mg="!",Q1={returnIndex:!1},eP=t=>Array.isArray(t)?t:[t],tP=(t,e)=>{if(typeof t=="function")return t;if(typeof t=="string"){let r=Dg(t,e);return n=>t===n||r(n)}return t instanceof RegExp?r=>t.test(r):r=>!1},Lg=(t,e,r,n)=>{let s=Array.isArray(r),i=s?r[0]:r;if(!s&&typeof i!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(i));let o=J1(i,!1);for(let f=0;f<e.length;f++){let p=e[f];if(p(o))return n?-1:!1}let l=s&&[o].concat(r.slice(1));for(let f=0;f<t.length;f++){let p=t[f];if(s?p(...l):p(o))return n?f:!0}return n?-1:!1},el=(t,e,r=Q1)=>{if(t==null)throw new TypeError("anymatch: specify first argument");let n=typeof r=="boolean"?{returnIndex:r}:r,s=n.returnIndex||!1,i=eP(t),o=i.filter(f=>typeof f=="string"&&f.charAt(0)===Mg).map(f=>f.slice(1)).map(f=>Dg(f,n)),l=i.filter(f=>typeof f!="string"||typeof f=="string"&&f.charAt(0)!==Mg).map(f=>tP(f,n));return e==null?(f,p=!1)=>Lg(l,o,f,typeof p=="boolean"?p:!1):Lg(l,o,e,s)};el.default=el;Ug.exports=el;});var Wg=x((c2,jg)=>{jg.exports=function(e){if(typeof e!="string"||e==="")return !1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return !0;e=e.slice(r.index+r[0].length);}return !1};});var tl=x((f2,Gg)=>{var rP=Wg(),zg={"{":"}","(":")","[":"]"},nP=function(t){if(t[0]==="!")return !0;for(var e=0,r=-2,n=-2,s=-2,i=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(o===-1||o>n||(o=t.indexOf("\\",e),o===-1||o>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||i!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(i=t.indexOf(")",e),i>e&&(o=t.indexOf("\\",e),o===-1||o>i))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(i=t.indexOf(")",r),i>r&&(o=t.indexOf("\\",r),o===-1||o>i))))return !0;if(t[e]==="\\"){var l=t[e+1];e+=2;var f=zg[l];if(f){var p=t.indexOf(f,e);p!==-1&&(e=p+1);}if(t[e]==="!")return !0}else e++;}return !1},iP=function(t){if(t[0]==="!")return !0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return !0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=zg[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1);}if(t[e]==="!")return !0}else e++;}return !1};Gg.exports=function(e,r){if(typeof e!="string"||e==="")return !1;if(rP(e))return !0;var n=nP;return r&&r.strict===!1&&(n=iP),n(e)};});var Zg=x((d2,Vg)=>{var sP=tl(),oP=Z("path").posix.dirname,aP=Z("os").platform()==="win32",rl="/",lP=/\\/g,uP=/[\{\[].*[\}\]]$/,cP=/(^|[^\\])([\{\[]|\([^\)]+$)/,fP=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Vg.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&aP&&e.indexOf(rl)<0&&(e=e.replace(lP,rl)),uP.test(e)&&(e+=rl),e+="a";do e=oP(e);while(sP(e)||cP.test(e));return e.replace(fP,"$1")};});var ls=x(nt=>{nt.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;nt.find=(t,e)=>t.nodes.find(r=>r.type===e);nt.exceedsLimit=(t,e,r=1,n)=>n===!1||!nt.isInteger(t)||!nt.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;nt.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0);};nt.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);nt.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;nt.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;nt.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);nt.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?r(i):i!==void 0&&e.push(i);}return e};return r(t),e};});var us=x((_2,Kg)=>{var Xg=ls();Kg.exports=(t,e={})=>{let r=(n,s={})=>{let i=e.escapeInvalid&&Xg.isInvalidBrace(s),o=n.invalid===!0&&e.escapeInvalid===!0,l="";if(n.value)return (i||o)&&Xg.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let f of n.nodes)l+=r(f);return l};return r(t)};});var Jg=x((h2,Yg)=>{Yg.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1};});var ay=x((m2,oy)=>{var Qg=Jg(),nr=(t,e,r)=>{if(Qg(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Qg(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),o=String(n.capture),l=String(n.wrap),f=t+":"+e+"="+s+i+o+l;if(nr.cache.hasOwnProperty(f))return nr.cache[f].result;let p=Math.min(t,e),u=Math.max(t,e);if(Math.abs(p-u)===1){let w=t+"|"+e;return n.capture?`(${w})`:n.wrap===!1?w:`(?:${w})`}let _=sy(t)||sy(e),h={min:t,max:e,a:p,b:u},m=[],y=[];if(_&&(h.isPadded=_,h.maxLen=String(h.max).length),p<0){let w=u<0?Math.abs(u):1;y=ey(w,Math.abs(p),h,n),p=h.a=0;}return u>=0&&(m=ey(p,u,h,n)),h.negatives=y,h.positives=m,h.result=dP(y,m),n.capture===!0?h.result=`(${h.result})`:n.wrap!==!1&&m.length+y.length>1&&(h.result=`(?:${h.result})`),nr.cache[f]=h,h.result};function dP(t,e,r){let n=nl(t,e,"-",!1)||[],s=nl(e,t,"",!1)||[],i=nl(t,e,"-?",!0)||[];return n.concat(i).concat(s).join("|")}function pP(t,e){let r=1,n=1,s=ry(t,r),i=new Set([e]);for(;t<=s&&s<=e;)i.add(s),r+=1,s=ry(t,r);for(s=ny(e+1,n)-1;t<s&&s<=e;)i.add(s),n+=1,s=ny(e+1,n)-1;return i=[...i],i.sort(mP),i}function _P(t,e,r){if(t===e)return {pattern:t,count:[],digits:0};let n=hP(t,e),s=n.length,i="",o=0;for(let l=0;l<s;l++){let[f,p]=n[l];f===p?i+=f:f!=="0"||p!=="9"?i+=gP(f,p):o++;}return o&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:s}}function ey(t,e,r,n){let s=pP(t,e),i=[],o=t,l;for(let f=0;f<s.length;f++){let p=s[f],u=_P(String(o),String(p),n),_="";if(!r.isPadded&&l&&l.pattern===u.pattern){l.count.length>1&&l.count.pop(),l.count.push(u.count[0]),l.string=l.pattern+iy(l.count),o=p+1;continue}r.isPadded&&(_=yP(p,r,n)),u.string=_+u.pattern+iy(u.count),i.push(u),o=p+1,l=u;}return i}function nl(t,e,r,n,s){let i=[];for(let o of t){let{string:l}=o;!n&&!ty(e,"string",l)&&i.push(r+l),n&&ty(e,"string",l)&&i.push(r+l);}return i}function hP(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function mP(t,e){return t>e?1:e>t?-1:0}function ty(t,e,r){return t.some(n=>n[e]===r)}function ry(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function ny(t,e){return t-t%Math.pow(10,e)}function iy(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function gP(t,e,r){return `[${t}${e-t===1?"":"-"}${e}]`}function sy(t){return /^-?(0+)\d/.test(t)}function yP(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return "";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}nr.cache={};nr.clearCache=()=>nr.cache={};oy.exports=nr;});var ol=x((g2,hy)=>{var vP=Z("util"),cy=ay(),ly=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),SP=t=>e=>t===!0?Number(e):String(e),il=t=>typeof t=="number"||typeof t=="string"&&t!=="",Rn=t=>Number.isInteger(+t),sl=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return !1;for(;e[++r]==="0";);return r>0},wP=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,bP=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0");}return r===!1?String(t):t},uy=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},EP=(t,e)=>{t.negatives.sort((o,l)=>o<l?-1:o>l?1:0),t.positives.sort((o,l)=>o<l?-1:o>l?1:0);let r=e.capture?"":"?:",n="",s="",i;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?i=`${n}|${s}`:i=n||s,e.wrap?`(${r}${i})`:i},fy=(t,e,r,n)=>{if(r)return cy(t,e,{wrap:!1,...n});let s=String.fromCharCode(t);if(t===e)return s;let i=String.fromCharCode(e);return `[${s}-${i}]`},dy=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return cy(t,e,r)},py=(...t)=>new RangeError("Invalid range arguments: "+vP.inspect(...t)),_y=(t,e,r)=>{if(r.strictRanges===!0)throw py([t,e]);return []},AP=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return []},CP=(t,e,r=1,n={})=>{let s=Number(t),i=Number(e);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw py([t,e]);return []}s===0&&(s=0),i===0&&(i=0);let o=s>i,l=String(t),f=String(e),p=String(r);r=Math.max(Math.abs(r),1);let u=sl(l)||sl(f)||sl(p),_=u?Math.max(l.length,f.length,p.length):0,h=u===!1&&wP(t,e,n)===!1,m=n.transform||SP(h);if(n.toRegex&&r===1)return fy(uy(t,_),uy(e,_),!0,n);let y={negatives:[],positives:[]},w=S=>y[S<0?"negatives":"positives"].push(Math.abs(S)),E=[],A=0;for(;o?s>=i:s<=i;)n.toRegex===!0&&r>1?w(s):E.push(bP(m(s,A),_,h)),s=o?s-r:s+r,A++;return n.toRegex===!0?r>1?EP(y,n):dy(E,null,{wrap:!1,...n}):E},xP=(t,e,r=1,n={})=>{if(!Rn(t)&&t.length>1||!Rn(e)&&e.length>1)return _y(t,e,n);let s=n.transform||(h=>String.fromCharCode(h)),i=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),l=i>o,f=Math.min(i,o),p=Math.max(i,o);if(n.toRegex&&r===1)return fy(f,p,!1,n);let u=[],_=0;for(;l?i>=o:i<=o;)u.push(s(i,_)),i=l?i-r:i+r,_++;return n.toRegex===!0?dy(u,null,{wrap:!1,options:n}):u},cs=(t,e,r,n={})=>{if(e==null&&il(t))return [t];if(!il(t)||!il(e))return _y(t,e,n);if(typeof r=="function")return cs(t,e,1,{transform:r});if(ly(r))return cs(t,e,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,Rn(r)?Rn(t)&&Rn(e)?CP(t,e,r,s):xP(t,e,Math.max(Math.abs(r),1),s):r!=null&&!ly(r)?AP(r,s):cs(t,e,1,r)};hy.exports=cs;});var yy=x((y2,gy)=>{var IP=ol(),my=ls(),RP=(t,e={})=>{let r=(n,s={})=>{let i=my.isInvalidBrace(s),o=n.invalid===!0&&e.escapeInvalid===!0,l=i===!0||o===!0,f=e.escapeInvalid===!0?"\\":"",p="";if(n.isOpen===!0||n.isClose===!0)return f+n.value;if(n.type==="open")return l?f+n.value:"(";if(n.type==="close")return l?f+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":l?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let u=my.reduce(n.nodes),_=IP(...u,{...e,wrap:!1,toRegex:!0});if(_.length!==0)return u.length>1&&_.length>1?`(${_})`:_}if(n.nodes)for(let u of n.nodes)p+=r(u,n);return p};return r(t)};gy.exports=RP;});var wy=x((v2,Sy)=>{var PP=ol(),vy=us(),kr=ls(),ir=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?kr.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let i of s)n.push(ir(i,e,r));else for(let i of e)r===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?ir(s,i,r):s+i);return kr.flatten(n)},FP=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,i={})=>{s.queue=[];let o=i,l=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,l=o.queue;if(s.invalid||s.dollar){l.push(ir(l.pop(),vy(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){l.push(ir(l.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let _=kr.reduce(s.nodes);if(kr.exceedsLimit(..._,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=PP(..._,e);h.length===0&&(h=vy(s,e)),l.push(ir(l.pop(),h)),s.nodes=[];return}let f=kr.encloseBrace(s),p=s.queue,u=s;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,p=u.queue;for(let _=0;_<s.nodes.length;_++){let h=s.nodes[_];if(h.type==="comma"&&s.type==="brace"){_===1&&p.push(""),p.push("");continue}if(h.type==="close"){l.push(ir(l.pop(),p,f));continue}if(h.value&&h.type!=="open"){p.push(ir(p.pop(),h.value));continue}h.nodes&&n(h,s);}return p};return kr.flatten(n(t))};Sy.exports=FP;});var Ey=x((S2,by)=>{by.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};});var Ry=x((w2,Iy)=>{var TP=us(),{MAX_LENGTH:Ay,CHAR_BACKSLASH:al,CHAR_BACKTICK:OP,CHAR_COMMA:NP,CHAR_DOT:HP,CHAR_LEFT_PARENTHESES:kP,CHAR_RIGHT_PARENTHESES:$P,CHAR_LEFT_CURLY_BRACE:MP,CHAR_RIGHT_CURLY_BRACE:LP,CHAR_LEFT_SQUARE_BRACKET:Cy,CHAR_RIGHT_SQUARE_BRACKET:xy,CHAR_DOUBLE_QUOTE:DP,CHAR_SINGLE_QUOTE:qP,CHAR_NO_BREAK_SPACE:UP,CHAR_ZERO_WIDTH_NOBREAK_SPACE:BP}=Ey(),jP=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(Ay,r.maxLength):Ay;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},i=[s],o=s,l=s,f=0,p=t.length,u=0,_=0,h,y=()=>t[u++],w=E=>{if(E.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&E.type==="text"){l.value+=E.value;return}return o.nodes.push(E),E.parent=o,E.prev=l,l=E,E};for(w({type:"bos"});u<p;)if(o=i[i.length-1],h=y(),!(h===BP||h===UP)){if(h===al){w({type:"text",value:(e.keepEscaping?h:"")+y()});continue}if(h===xy){w({type:"text",value:"\\"+h});continue}if(h===Cy){f++;let A;for(;u<p&&(A=y());){if(h+=A,A===Cy){f++;continue}if(A===al){h+=y();continue}if(A===xy&&(f--,f===0))break}w({type:"text",value:h});continue}if(h===kP){o=w({type:"paren",nodes:[]}),i.push(o),w({type:"text",value:h});continue}if(h===$P){if(o.type!=="paren"){w({type:"text",value:h});continue}o=i.pop(),w({type:"text",value:h}),o=i[i.length-1];continue}if(h===DP||h===qP||h===OP){let E=h,A;for(e.keepQuotes!==!0&&(h="");u<p&&(A=y());){if(A===al){h+=A+y();continue}if(A===E){e.keepQuotes===!0&&(h+=A);break}h+=A;}w({type:"text",value:h});continue}if(h===MP){_++;let A={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||o.dollar===!0,depth:_,commas:0,ranges:0,nodes:[]};o=w(A),i.push(o),w({type:"open",value:h});continue}if(h===LP){if(o.type!=="brace"){w({type:"text",value:h});continue}let E="close";o=i.pop(),o.close=!0,w({type:E,value:h}),_--,o=i[i.length-1];continue}if(h===NP&&_>0){if(o.ranges>0){o.ranges=0;let E=o.nodes.shift();o.nodes=[E,{type:"text",value:TP(o)}];}w({type:"comma",value:h}),o.commas++;continue}if(h===HP&&_>0&&o.commas===0){let E=o.nodes;if(_===0||E.length===0){w({type:"text",value:h});continue}if(l.type==="dot"){if(o.range=[],l.value+=h,l.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,l.type="text";continue}o.ranges++,o.args=[];continue}if(l.type==="range"){E.pop();let A=E[E.length-1];A.value+=l.value+h,l=A,o.ranges--;continue}w({type:"dot",value:h});continue}w({type:"text",value:h});}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(S=>{S.nodes||(S.type==="open"&&(S.isOpen=!0),S.type==="close"&&(S.isClose=!0),S.nodes||(S.type="text"),S.invalid=!0);});let E=i[i.length-1],A=E.nodes.indexOf(o);E.nodes.splice(A,1,...o.nodes);}while(i.length>0);return w({type:"eos"}),s};Iy.exports=jP;});var Ty=x((b2,Fy)=>{var Py=us(),WP=yy(),zP=wy(),GP=Ry(),Ye=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Ye.create(n,e);Array.isArray(s)?r.push(...s):r.push(s);}else r=[].concat(Ye.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Ye.parse=(t,e={})=>GP(t,e);Ye.stringify=(t,e={})=>Py(typeof t=="string"?Ye.parse(t,e):t,e);Ye.compile=(t,e={})=>(typeof t=="string"&&(t=Ye.parse(t,e)),WP(t,e));Ye.expand=(t,e={})=>{typeof t=="string"&&(t=Ye.parse(t,e));let r=zP(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Ye.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Ye.compile(t,e):Ye.expand(t,e);Fy.exports=Ye;});var Oy=x((E2,VP)=>{VP.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"];});var Hy=x((A2,Ny)=>{Ny.exports=Oy();});var $y=x((C2,ky)=>{var ZP=Z("path"),XP=Hy(),KP=new Set(XP);ky.exports=t=>KP.has(ZP.extname(t).slice(1).toLowerCase());});var ds=x(ee=>{var{sep:YP}=Z("path"),{platform:ll}=process,JP=Z("os");ee.EV_ALL="all";ee.EV_READY="ready";ee.EV_ADD="add";ee.EV_CHANGE="change";ee.EV_ADD_DIR="addDir";ee.EV_UNLINK="unlink";ee.EV_UNLINK_DIR="unlinkDir";ee.EV_RAW="raw";ee.EV_ERROR="error";ee.STR_DATA="data";ee.STR_END="end";ee.STR_CLOSE="close";ee.FSEVENT_CREATED="created";ee.FSEVENT_MODIFIED="modified";ee.FSEVENT_DELETED="deleted";ee.FSEVENT_MOVED="moved";ee.FSEVENT_CLONED="cloned";ee.FSEVENT_UNKNOWN="unknown";ee.FSEVENT_TYPE_FILE="file";ee.FSEVENT_TYPE_DIRECTORY="directory";ee.FSEVENT_TYPE_SYMLINK="symlink";ee.KEY_LISTENERS="listeners";ee.KEY_ERR="errHandlers";ee.KEY_RAW="rawEmitters";ee.HANDLER_KEYS=[ee.KEY_LISTENERS,ee.KEY_ERR,ee.KEY_RAW];ee.DOT_SLASH=`.${YP}`;ee.BACK_SLASH_RE=/\\/g;ee.DOUBLE_SLASH_RE=/\/\//;ee.SLASH_OR_BACK_SLASH_RE=/[/\\]/;ee.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;ee.REPLACER_RE=/^\.[/\\]/;ee.SLASH="/";ee.SLASH_SLASH="//";ee.BRACE_START="{";ee.BANG="!";ee.ONE_DOT=".";ee.TWO_DOTS="..";ee.STAR="*";ee.GLOBSTAR="**";ee.ROOT_GLOBSTAR="/**/*";ee.SLASH_GLOBSTAR="/**";ee.DIR_SUFFIX="Dir";ee.ANYMATCH_OPTS={dot:!0};ee.STRING_TYPE="string";ee.FUNCTION_TYPE="function";ee.EMPTY_STR="";ee.EMPTY_FN=()=>{};ee.IDENTITY_FN=t=>t;ee.isWindows=ll==="win32";ee.isMacos=ll==="darwin";ee.isLinux=ll==="linux";ee.isIBMi=JP.type()==="OS400";});var By=x((I2,Uy)=>{var It=Z("fs"),xe=Z("path"),{promisify:On}=Z("util"),QP=$y(),{isWindows:eF,isLinux:tF,EMPTY_FN:rF,EMPTY_STR:nF,KEY_LISTENERS:$r,KEY_ERR:ul,KEY_RAW:Pn,HANDLER_KEYS:iF,EV_CHANGE:_s,EV_ADD:ps,EV_ADD_DIR:sF,EV_ERROR:Ly,STR_DATA:oF,STR_END:aF,BRACE_START:lF,STAR:uF}=ds(),cF="watch",fF=On(It.open),Dy=On(It.stat),dF=On(It.lstat),pF=On(It.close),cl=On(It.realpath),_F={lstat:dF,stat:Dy},dl=(t,e)=>{t instanceof Set?t.forEach(e):e(t);},Fn=(t,e,r)=>{let n=t[e];n instanceof Set||(t[e]=n=new Set([n])),n.add(r);},hF=t=>e=>{let r=t[e];r instanceof Set?r.clear():delete t[e];},Tn=(t,e,r)=>{let n=t[e];n instanceof Set?n.delete(r):n===r&&delete t[e];},qy=t=>t instanceof Set?t.size===0:!t,hs=new Map;function My(t,e,r,n,s){let i=(o,l)=>{r(t),s(o,l,{watchedPath:t}),l&&t!==l&&ms(xe.resolve(t,l),$r,xe.join(t,l));};try{return It.watch(t,e,i)}catch(o){n(o);}}var ms=(t,e,r,n,s)=>{let i=hs.get(t);i&&dl(i[e],o=>{o(r,n,s);});},mF=(t,e,r,n)=>{let{listener:s,errHandler:i,rawEmitter:o}=n,l=hs.get(e),f;if(!r.persistent)return f=My(t,r,s,i,o),f.close.bind(f);if(l)Fn(l,$r,s),Fn(l,ul,i),Fn(l,Pn,o);else {if(f=My(t,r,ms.bind(null,e,$r),i,ms.bind(null,e,Pn)),!f)return;f.on(Ly,async p=>{let u=ms.bind(null,e,ul);if(l.watcherUnusable=!0,eF&&p.code==="EPERM")try{let _=await fF(t,"r");await pF(_),u(p);}catch{}else u(p);}),l={listeners:s,errHandlers:i,rawEmitters:o,watcher:f},hs.set(e,l);}return ()=>{Tn(l,$r,s),Tn(l,ul,i),Tn(l,Pn,o),qy(l.listeners)&&(l.watcher.close(),hs.delete(e),iF.forEach(hF(l)),l.watcher=void 0,Object.freeze(l));}},fl=new Map,gF=(t,e,r,n)=>{let {listener:s,rawEmitter:i}=n,o=fl.get(e),p=o&&o.options;return p&&(p.persistent<r.persistent||p.interval>r.interval)&&(It.unwatchFile(e),o=void 0),o?(Fn(o,$r,s),Fn(o,Pn,i)):(o={listeners:s,rawEmitters:i,options:r,watcher:It.watchFile(e,r,(u,_)=>{dl(o.rawEmitters,m=>{m(_s,e,{curr:u,prev:_});});let h=u.mtimeMs;(u.size!==_.size||h>_.mtimeMs||h===0)&&dl(o.listeners,m=>m(t,u));})},fl.set(e,o)),()=>{Tn(o,$r,s),Tn(o,Pn,i),qy(o.listeners)&&(fl.delete(e),It.unwatchFile(e),o.options=o.watcher=void 0,Object.freeze(o));}},pl=class{constructor(e){this.fsw=e,this._boundHandleError=r=>e._handleError(r);}_watchWithNodeFs(e,r){let n=this.fsw.options,s=xe.dirname(e),i=xe.basename(e);this.fsw._getWatchedDir(s).add(i);let l=xe.resolve(e),f={persistent:n.persistent};r||(r=rF);let p;return n.usePolling?(f.interval=n.enableBinaryInterval&&QP(i)?n.binaryInterval:n.interval,p=gF(e,l,f,{listener:r,rawEmitter:this.fsw._emitRaw})):p=mF(e,l,f,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),p}_handleFile(e,r,n){if(this.fsw.closed)return;let s=xe.dirname(e),i=xe.basename(e),o=this.fsw._getWatchedDir(s),l=r;if(o.has(i))return;let f=async(u,_)=>{if(this.fsw._throttle(cF,e,5)){if(!_||_.mtimeMs===0)try{let h=await Dy(e);if(this.fsw.closed)return;let m=h.atimeMs,y=h.mtimeMs;(!m||m<=y||y!==l.mtimeMs)&&this.fsw._emit(_s,e,h),tF&&l.ino!==h.ino?(this.fsw._closeFile(u),l=h,this.fsw._addPathCloser(u,this._watchWithNodeFs(e,f))):l=h;}catch{this.fsw._remove(s,i);}else if(o.has(i)){let h=_.atimeMs,m=_.mtimeMs;(!h||h<=m||m!==l.mtimeMs)&&this.fsw._emit(_s,e,_),l=_;}}},p=this._watchWithNodeFs(e,f);if(!(n&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(ps,e,0))return;this.fsw._emit(ps,e,r);}return p}async _handleSymlink(e,r,n,s){if(this.fsw.closed)return;let i=e.fullPath,o=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let l;try{l=await cl(n);}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(o.has(s)?this.fsw._symlinkPaths.get(i)!==l&&(this.fsw._symlinkPaths.set(i,l),this.fsw._emit(_s,n,e.stats)):(o.add(s),this.fsw._symlinkPaths.set(i,l),this.fsw._emit(ps,n,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(i))return !0;this.fsw._symlinkPaths.set(i,!0);}_handleRead(e,r,n,s,i,o,l){if(e=xe.join(e,nF),!n.hasGlob&&(l=this.fsw._throttle("readdir",e,1e3),!l))return;let f=this.fsw._getWatchedDir(n.path),p=new Set,u=this.fsw._readdirp(e,{fileFilter:_=>n.filterPath(_),directoryFilter:_=>n.filterDir(_),depth:0}).on(oF,async _=>{if(this.fsw.closed){u=void 0;return}let h=_.path,m=xe.join(e,h);if(p.add(h),!(_.stats.isSymbolicLink()&&await this._handleSymlink(_,e,m,h))){if(this.fsw.closed){u=void 0;return}(h===s||!s&&!f.has(h))&&(this.fsw._incrReadyCount(),m=xe.join(i,xe.relative(i,m)),this._addToNodeFs(m,r,n,o+1));}}).on(Ly,this._boundHandleError);return new Promise(_=>u.once(aF,()=>{if(this.fsw.closed){u=void 0;return}let h=l?l.clear():!1;_(),f.getChildren().filter(m=>m!==e&&!p.has(m)&&(!n.hasGlob||n.filterPath({fullPath:xe.resolve(e,m)}))).forEach(m=>{this.fsw._remove(e,m);}),u=void 0,h&&this._handleRead(e,!1,n,s,i,o,l);}))}async _handleDir(e,r,n,s,i,o,l){let f=this.fsw._getWatchedDir(xe.dirname(e)),p=f.has(xe.basename(e));!(n&&this.fsw.options.ignoreInitial)&&!i&&!p&&(!o.hasGlob||o.globFilter(e))&&this.fsw._emit(sF,e,r),f.add(xe.basename(e)),this.fsw._getWatchedDir(e);let u,_,h=this.fsw.options.depth;if((h==null||s<=h)&&!this.fsw._symlinkPaths.has(l)){if(!i&&(await this._handleRead(e,n,o,i,e,s,u),this.fsw.closed))return;_=this._watchWithNodeFs(e,(m,y)=>{y&&y.mtimeMs===0||this._handleRead(m,!1,o,i,e,s,u);});}return _}async _addToNodeFs(e,r,n,s,i){let o=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return o(),!1;let l=this.fsw._getWatchHelpers(e,s);!l.hasGlob&&n&&(l.hasGlob=n.hasGlob,l.globFilter=n.globFilter,l.filterPath=f=>n.filterPath(f),l.filterDir=f=>n.filterDir(f));try{let f=await _F[l.statMethod](l.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(l.watchPath,f))return o(),!1;let p=this.fsw.options.followSymlinks&&!e.includes(uF)&&!e.includes(lF),u;if(f.isDirectory()){let _=xe.resolve(e),h=p?await cl(e):e;if(this.fsw.closed||(u=await this._handleDir(l.watchPath,f,r,s,i,l,h),this.fsw.closed))return;_!==h&&h!==void 0&&this.fsw._symlinkPaths.set(_,h);}else if(f.isSymbolicLink()){let _=p?await cl(e):e;if(this.fsw.closed)return;let h=xe.dirname(l.watchPath);if(this.fsw._getWatchedDir(h).add(l.watchPath),this.fsw._emit(ps,l.watchPath,f),u=await this._handleDir(h,f,r,s,e,l,_),this.fsw.closed)return;_!==void 0&&this.fsw._symlinkPaths.set(xe.resolve(e),_);}else u=this._handleFile(l.watchPath,f,r);return o(),this.fsw._addPathCloser(e,u),!1}catch(f){if(this.fsw._handleError(f))return o(),e}}};Uy.exports=pl;});var Wy,jy=ef(()=>{Wy="./fsevents-X6WP4TKM.node";});var Gy=x((F2,zy)=>{jy();try{zy.exports=Z(Wy);}catch{}});var Vy=x(gs=>{if(process.platform!=="darwin")throw new Error(`Module 'fsevents' is not compatible with platform '${process.platform}'`);var Nn=Gy(),Be=Nn.constants;function vF(t,e,r){if(typeof t!="string")throw new TypeError(`fsevents argument 1 must be a string and not a ${typeof t}`);if(typeof e=="function"&&typeof r>"u"&&(r=e,e=Nn.flags.SinceNow),typeof e!="number")throw new TypeError(`fsevents argument 2 must be a number and not a ${typeof e}`);if(typeof r!="function")throw new TypeError(`fsevents argument 3 must be a function and not a ${typeof r}`);let n=Nn.start(Nn.global,t,e,r);if(!n)throw new Error(`could not watch: ${t}`);return ()=>{let s=n?Promise.resolve(n).then(Nn.stop):Promise.resolve(void 0);return n=void 0,s}}function SF(t,e){return {path:t,flags:e,event:EF(e),type:wF(e),changes:AF(e)}}function wF(t){if(Be.ItemIsFile&t)return "file";if(Be.ItemIsDir&t||Be.MustScanSubDirs&t)return "directory";if(Be.ItemIsSymlink&t)return "symlink"}function bF(t){for(let e in t)if(t[e])return !0;return !1}function EF(t){return Be.ItemRemoved&t?"deleted":Be.ItemRenamed&t?"moved":Be.ItemCreated&t?"created":Be.ItemModified&t?"modified":Be.RootChanged&t?"root-changed":Be.ItemCloned&t?"cloned":bF(t)?"modified":"unknown"}function AF(t){return {inode:!!(Be.ItemInodeMetaMod&t),finder:!!(Be.ItemFinderInfoMod&t),access:!!(Be.ItemChangeOwner&t),xattrs:!!(Be.ItemXattrMod&t)}}gs.watch=vF;gs.getInfo=SF;gs.constants=Be;});var ev=x((N2,wl)=>{var vl=Z("fs"),Ie=Z("path"),{promisify:Sl}=Z("util"),Mr;try{Mr=Vy();}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t);}if(Mr){let t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){let e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10);e===8&&r<16&&(Mr=void 0);}}var{EV_ADD:_l,EV_CHANGE:CF,EV_ADD_DIR:Zy,EV_UNLINK:ys,EV_ERROR:xF,STR_DATA:IF,STR_END:RF,FSEVENT_CREATED:PF,FSEVENT_MODIFIED:FF,FSEVENT_DELETED:TF,FSEVENT_MOVED:OF,FSEVENT_UNKNOWN:NF,FSEVENT_TYPE_FILE:HF,FSEVENT_TYPE_DIRECTORY:Hn,FSEVENT_TYPE_SYMLINK:Qy,ROOT_GLOBSTAR:Xy,DIR_SUFFIX:kF,DOT_SLASH:Ky,FUNCTION_TYPE:hl,EMPTY_FN:$F,IDENTITY_FN:MF}=ds(),LF=t=>isNaN(t)?{}:{depth:t},gl=Sl(vl.stat),DF=Sl(vl.lstat),Yy=Sl(vl.realpath),qF={stat:gl,lstat:DF},sr=new Map,UF=10,BF=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),jF=(t,e)=>({stop:Mr.watch(t,e)});function WF(t,e,r,n){let s=Ie.extname(e)?Ie.dirname(e):e,i=Ie.dirname(s),o=sr.get(s);zF(i)&&(s=i);let l=Ie.resolve(t),f=l!==e,p=(_,h,m)=>{f&&(_=_.replace(e,l)),(_===l||!_.indexOf(l+Ie.sep))&&r(_,h,m);},u=!1;for(let _ of sr.keys())if(e.indexOf(Ie.resolve(_)+Ie.sep)===0){s=_,o=sr.get(s),u=!0;break}return o||u?o.listeners.add(p):(o={listeners:new Set([p]),rawEmitter:n,watcher:jF(s,(_,h)=>{if(!o.listeners.size)return;let m=Mr.getInfo(_,h);o.listeners.forEach(y=>{y(_,h,m);}),o.rawEmitter(m.event,_,m);})},sr.set(s,o)),()=>{let _=o.listeners;if(_.delete(p),!_.size&&(sr.delete(s),o.watcher))return o.watcher.stop().then(()=>{o.rawEmitter=o.watcher=void 0,Object.freeze(o);})}}var zF=t=>{let e=0;for(let r of sr.keys())if(r.indexOf(t)===0&&(e++,e>=UF))return !0;return !1},GF=()=>Mr&&sr.size<128,ml=(t,e)=>{let r=0;for(;!t.indexOf(e)&&(t=Ie.dirname(t))!==e;)r++;return r},Jy=(t,e)=>t.type===Hn&&e.isDirectory()||t.type===Qy&&e.isSymbolicLink()||t.type===HF&&e.isFile(),yl=class{constructor(e){this.fsw=e;}checkIgnored(e,r){let n=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,r))return n.add(e),r&&r.isDirectory()&&n.add(e+Xy),!0;n.delete(e),n.delete(e+Xy);}addOrChange(e,r,n,s,i,o,l,f){let p=i.has(o)?CF:_l;this.handleEvent(p,e,r,n,s,i,o,l,f);}async checkExists(e,r,n,s,i,o,l,f){try{let p=await gl(e);if(this.fsw.closed)return;Jy(l,p)?this.addOrChange(e,r,n,s,i,o,l,f):this.handleEvent(ys,e,r,n,s,i,o,l,f);}catch(p){p.code==="EACCES"?this.addOrChange(e,r,n,s,i,o,l,f):this.handleEvent(ys,e,r,n,s,i,o,l,f);}}handleEvent(e,r,n,s,i,o,l,f,p){if(!(this.fsw.closed||this.checkIgnored(r)))if(e===ys){let u=f.type===Hn;(u||o.has(l))&&this.fsw._remove(i,l,u);}else {if(e===_l){if(f.type===Hn&&this.fsw._getWatchedDir(r),f.type===Qy&&p.followSymlinks){let _=p.depth===void 0?void 0:ml(n,s)+1;return this._addToFsEvents(r,!1,!0,_)}this.fsw._getWatchedDir(i).add(l);}let u=f.type===Hn?e+kF:e;this.fsw._emit(u,r),u===Zy&&this._addToFsEvents(r,!1,!0);}}_watchWithFsEvents(e,r,n,s){if(this.fsw.closed||this.fsw._isIgnored(e))return;let i=this.fsw.options,l=WF(e,r,async(f,p,u)=>{if(this.fsw.closed||i.depth!==void 0&&ml(f,r)>i.depth)return;let _=n(Ie.join(e,Ie.relative(e,f)));if(s&&!s(_))return;let h=Ie.dirname(_),m=Ie.basename(_),y=this.fsw._getWatchedDir(u.type===Hn?_:h);if(BF.has(p)||u.event===NF)if(typeof i.ignored===hl){let w;try{w=await gl(_);}catch{}if(this.fsw.closed||this.checkIgnored(_,w))return;Jy(u,w)?this.addOrChange(_,f,r,h,y,m,u,i):this.handleEvent(ys,_,f,r,h,y,m,u,i);}else this.checkExists(_,f,r,h,y,m,u,i);else switch(u.event){case PF:case FF:return this.addOrChange(_,f,r,h,y,m,u,i);case TF:case OF:return this.checkExists(_,f,r,h,y,m,u,i)}},this.fsw._emitRaw);return this.fsw._emitReady(),l}async _handleFsEventsSymlink(e,r,n,s){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(r))){this.fsw._symlinkPaths.set(r,!0),this.fsw._incrReadyCount();try{let i=await Yy(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(i))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(i||e,o=>{let l=e;return i&&i!==Ky?l=o.replace(i,e):o!==Ky&&(l=Ie.join(e,o)),n(l)},!1,s);}catch(i){if(this.fsw._handleError(i))return this.fsw._emitReady()}}}emitAdd(e,r,n,s,i){let o=n(e),l=r.isDirectory(),f=this.fsw._getWatchedDir(Ie.dirname(o)),p=Ie.basename(o);l&&this.fsw._getWatchedDir(o),!f.has(p)&&(f.add(p),(!s.ignoreInitial||i===!0)&&this.fsw._emit(l?Zy:_l,o,r));}initWatch(e,r,n,s){if(this.fsw.closed)return;let i=this._watchWithFsEvents(n.watchPath,Ie.resolve(e||n.watchPath),s,n.globFilter);this.fsw._addPathCloser(r,i);}async _addToFsEvents(e,r,n,s){if(this.fsw.closed)return;let i=this.fsw.options,o=typeof r===hl?r:MF,l=this.fsw._getWatchHelpers(e);try{let f=await qF[l.statMethod](l.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(l.watchPath,f))throw null;if(f.isDirectory()){if(l.globFilter||this.emitAdd(o(e),f,o,i,n),s&&s>i.depth)return;this.fsw._readdirp(l.watchPath,{fileFilter:p=>l.filterPath(p),directoryFilter:p=>l.filterDir(p),...LF(i.depth-(s||0))}).on(IF,p=>{if(this.fsw.closed||p.stats.isDirectory()&&!l.filterPath(p))return;let u=Ie.join(l.watchPath,p.path),{fullPath:_}=p;if(l.followSymlinks&&p.stats.isSymbolicLink()){let h=i.depth===void 0?void 0:ml(u,Ie.resolve(l.watchPath))+1;this._handleFsEventsSymlink(u,_,o,h);}else this.emitAdd(u,p.stats,o,i,n);}).on(xF,$F).on(RF,()=>{this.fsw._emitReady();});}else this.emitAdd(l.watchPath,f,o,i,n),this.fsw._emitReady();}catch(f){(!f||this.fsw._handleError(f))&&(this.fsw._emitReady(),this.fsw._emitReady());}if(i.persistent&&n!==!0)if(typeof r===hl)this.initWatch(void 0,e,l,o);else {let f;try{f=await Yy(l.watchPath);}catch{}this.initWatch(f,e,l,o);}}};wl.exports=yl;wl.exports.canUse=GF;});var Ml=x($l=>{var{EventEmitter:VF}=Z("events"),Hl=Z("fs"),fe=Z("path"),{promisify:av}=Z("util"),ZF=kg(),Il=Bg().default,XF=Zg(),bl=tl(),KF=Ty(),YF=Qa(),JF=By(),tv=ev(),{EV_ALL:El,EV_READY:QF,EV_ADD:vs,EV_CHANGE:kn,EV_UNLINK:rv,EV_ADD_DIR:eT,EV_UNLINK_DIR:tT,EV_RAW:rT,EV_ERROR:Al,STR_CLOSE:nT,STR_END:iT,BACK_SLASH_RE:sT,DOUBLE_SLASH_RE:nv,SLASH_OR_BACK_SLASH_RE:oT,DOT_RE:aT,REPLACER_RE:lT,SLASH:Cl,SLASH_SLASH:uT,BRACE_START:cT,BANG:Rl,ONE_DOT:lv,TWO_DOTS:fT,GLOBSTAR:dT,SLASH_GLOBSTAR:xl,ANYMATCH_OPTS:Pl,STRING_TYPE:kl,FUNCTION_TYPE:pT,EMPTY_STR:Fl,EMPTY_FN:_T,isWindows:hT,isMacos:mT,isIBMi:gT}=ds(),yT=av(Hl.stat),vT=av(Hl.readdir),Tl=(t=[])=>Array.isArray(t)?t:[t],uv=(t,e=[])=>(t.forEach(r=>{Array.isArray(r)?uv(r,e):e.push(r);}),e),iv=t=>{let e=uv(Tl(t));if(!e.every(r=>typeof r===kl))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(cv)},sv=t=>{let e=t.replace(sT,Cl),r=!1;for(e.startsWith(uT)&&(r=!0);e.match(nv);)e=e.replace(nv,Cl);return r&&(e=Cl+e),e},cv=t=>sv(fe.normalize(sv(t))),ov=(t=Fl)=>e=>typeof e!==kl?e:cv(fe.isAbsolute(e)?e:fe.join(t,e)),ST=(t,e)=>fe.isAbsolute(t)?t:t.startsWith(Rl)?Rl+fe.join(e,t.slice(1)):fe.join(e,t),ct=(t,e)=>t[e]===void 0,Ol=class{constructor(e,r){this.path=e,this._removeWatcher=r,this.items=new Set;}add(e){let{items:r}=this;r&&e!==lv&&e!==fT&&r.add(e);}async remove(e){let{items:r}=this;if(!r||(r.delete(e),r.size>0))return;let n=this.path;try{await vT(n);}catch{this._removeWatcher&&this._removeWatcher(fe.dirname(n),fe.basename(n));}}has(e){let{items:r}=this;if(r)return r.has(e)}getChildren(){let{items:e}=this;if(e)return [...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this);}},wT="stat",bT="lstat",Nl=class{constructor(e,r,n,s){this.fsw=s,this.path=e=e.replace(lT,Fl),this.watchPath=r,this.fullWatchPath=fe.resolve(r),this.hasGlob=r!==e,e===Fl&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&n?void 0:!1,this.globFilter=this.hasGlob?Il(e,void 0,Pl):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(i=>{i.length>1&&i.pop();}),this.followSymlinks=n,this.statMethod=n?wT:bT;}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return fe.join(this.watchPath,fe.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:r}=e;if(r&&r.isSymbolicLink())return this.filterDir(e);let n=this.entryPath(e);return (this.hasGlob&&typeof this.globFilter===pT?this.globFilter(n):!0)&&this.fsw._isntIgnored(n,r)&&this.fsw._hasReadPermissions(r)}getDirParts(e){if(!this.hasGlob)return [];let r=[];return (e.includes(cT)?KF.expand(e):[e]).forEach(s=>{r.push(fe.relative(this.watchPath,s).split(oT));}),r}filterDir(e){if(this.hasGlob){let r=this.getDirParts(this.checkGlobSymlink(e)),n=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((i,o)=>(i===dT&&(n=!0),n||!r[0][o]||Il(i,r[0][o],Pl))));}return !this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},Ss=class extends VF{constructor(e){super();let r={};e&&Object.assign(r,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ct(r,"persistent")&&(r.persistent=!0),ct(r,"ignoreInitial")&&(r.ignoreInitial=!1),ct(r,"ignorePermissionErrors")&&(r.ignorePermissionErrors=!1),ct(r,"interval")&&(r.interval=100),ct(r,"binaryInterval")&&(r.binaryInterval=300),ct(r,"disableGlobbing")&&(r.disableGlobbing=!1),r.enableBinaryInterval=r.binaryInterval!==r.interval,ct(r,"useFsEvents")&&(r.useFsEvents=!r.usePolling),tv.canUse()||(r.useFsEvents=!1),ct(r,"usePolling")&&!r.useFsEvents&&(r.usePolling=mT),gT&&(r.usePolling=!0);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let f=s.toLowerCase();f==="false"||f==="0"?r.usePolling=!1:f==="true"||f==="1"?r.usePolling=!0:r.usePolling=!!f;}let i=process.env.CHOKIDAR_INTERVAL;i&&(r.interval=Number.parseInt(i,10)),ct(r,"atomic")&&(r.atomic=!r.usePolling&&!r.useFsEvents),r.atomic&&(this._pendingUnlinks=new Map),ct(r,"followSymlinks")&&(r.followSymlinks=!0),ct(r,"awaitWriteFinish")&&(r.awaitWriteFinish=!1),r.awaitWriteFinish===!0&&(r.awaitWriteFinish={});let o=r.awaitWriteFinish;o&&(o.stabilityThreshold||(o.stabilityThreshold=2e3),o.pollInterval||(o.pollInterval=100),this._pendingWrites=new Map),r.ignored&&(r.ignored=Tl(r.ignored));let l=0;this._emitReady=()=>{l++,l>=this._readyCount&&(this._emitReady=_T,this._readyEmitted=!0,process.nextTick(()=>this.emit(QF)));},this._emitRaw=(...f)=>this.emit(rT,...f),this._readyEmitted=!1,this.options=r,r.useFsEvents?this._fsEventsHandler=new tv(this):this._nodeFsHandler=new JF(this),Object.freeze(r);}add(e,r,n){let{cwd:s,disableGlobbing:i}=this.options;this.closed=!1;let o=iv(e);return s&&(o=o.map(l=>{let f=ST(l,s);return i||!bl(l)?f:YF(f)})),o=o.filter(l=>l.startsWith(Rl)?(this._ignoredPaths.add(l.slice(1)),!1):(this._ignoredPaths.delete(l),this._ignoredPaths.delete(l+xl),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach(l=>this._fsEventsHandler._addToFsEvents(l))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async l=>{let f=await this._nodeFsHandler._addToNodeFs(l,!n,0,0,r);return f&&this._emitReady(),f})).then(l=>{this.closed||l.filter(f=>f).forEach(f=>{this.add(fe.dirname(f),fe.basename(r||f));});})),this}unwatch(e){if(this.closed)return this;let r=iv(e),{cwd:n}=this.options;return r.forEach(s=>{!fe.isAbsolute(s)&&!this._closers.has(s)&&(n&&(s=fe.join(n,s)),s=fe.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+xl),this._userIgnored=void 0;}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(r=>r.forEach(n=>{let s=n();s instanceof Promise&&e.push(s);})),this._streams.forEach(r=>r.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(r=>r.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(r=>{this[`_${r}`].clear();}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((r,n)=>{let s=this.options.cwd?fe.relative(this.options.cwd,n):n;e[s||lv]=r.getChildren().sort();}),e}emitWithAll(e,r){this.emit(...r),e!==Al&&this.emit(El,...r);}async _emit(e,r,n,s,i){if(this.closed)return;let o=this.options;hT&&(r=fe.normalize(r)),o.cwd&&(r=fe.relative(o.cwd,r));let l=[e,r];i!==void 0?l.push(n,s,i):s!==void 0?l.push(n,s):n!==void 0&&l.push(n);let f=o.awaitWriteFinish,p;if(f&&(p=this._pendingWrites.get(r)))return p.lastChange=new Date,this;if(o.atomic){if(e===rv)return this._pendingUnlinks.set(r,l),setTimeout(()=>{this._pendingUnlinks.forEach((u,_)=>{this.emit(...u),this.emit(El,...u),this._pendingUnlinks.delete(_);});},typeof o.atomic=="number"?o.atomic:100),this;e===vs&&this._pendingUnlinks.has(r)&&(e=l[0]=kn,this._pendingUnlinks.delete(r));}if(f&&(e===vs||e===kn)&&this._readyEmitted){let u=(_,h)=>{_?(e=l[0]=Al,l[1]=_,this.emitWithAll(e,l)):h&&(l.length>2?l[2]=h:l.push(h),this.emitWithAll(e,l));};return this._awaitWriteFinish(r,f.stabilityThreshold,e,u),this}if(e===kn&&!this._throttle(kn,r,50))return this;if(o.alwaysStat&&n===void 0&&(e===vs||e===eT||e===kn)){let u=o.cwd?fe.join(o.cwd,r):r,_;try{_=await yT(u);}catch{}if(!_||this.closed)return;l.push(_);}return this.emitWithAll(e,l),this}_handleError(e){let r=e&&e.code;return e&&r!=="ENOENT"&&r!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||r!=="EPERM"&&r!=="EACCES")&&this.emit(Al,e),e||this.closed}_throttle(e,r,n){this._throttled.has(e)||this._throttled.set(e,new Map);let s=this._throttled.get(e),i=s.get(r);if(i)return i.count++,!1;let o,l=()=>{let p=s.get(r),u=p?p.count:0;return s.delete(r),clearTimeout(o),p&&clearTimeout(p.timeoutObject),u};o=setTimeout(l,n);let f={timeoutObject:o,clear:l,count:0};return s.set(r,f),f}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,r,n,s){let i,o=e;this.options.cwd&&!fe.isAbsolute(e)&&(o=fe.join(this.options.cwd,e));let l=new Date,f=p=>{Hl.stat(o,(u,_)=>{if(u||!this._pendingWrites.has(e)){u&&u.code!=="ENOENT"&&s(u);return}let h=Number(new Date);p&&_.size!==p.size&&(this._pendingWrites.get(e).lastChange=h);let m=this._pendingWrites.get(e);h-m.lastChange>=r?(this._pendingWrites.delete(e),s(void 0,_)):i=setTimeout(f,this.options.awaitWriteFinish.pollInterval,_);});};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:l,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(i),n)}),i=setTimeout(f,this.options.awaitWriteFinish.pollInterval));}_getGlobIgnored(){return [...this._ignoredPaths.values()]}_isIgnored(e,r){if(this.options.atomic&&aT.test(e))return !0;if(!this._userIgnored){let{cwd:n}=this.options,s=this.options.ignored,i=s&&s.map(ov(n)),o=Tl(i).filter(f=>typeof f===kl&&!bl(f)).map(f=>f+xl),l=this._getGlobIgnored().map(ov(n)).concat(i,o);this._userIgnored=Il(l,void 0,Pl);}return this._userIgnored([e,r])}_isntIgnored(e,r){return !this._isIgnored(e,r)}_getWatchHelpers(e,r){let n=r||this.options.disableGlobbing||!bl(e)?e:XF(e),s=this.options.followSymlinks;return new Nl(e,n,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let r=fe.resolve(e);return this._watched.has(r)||this._watched.set(r,new Ol(r,this._boundRemove)),this._watched.get(r)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return !0;let n=(e&&Number.parseInt(e.mode,10))&511;return !!(4&Number.parseInt(n.toString(8)[0],10))}_remove(e,r,n){let s=fe.join(e,r),i=fe.resolve(s);if(n=n??(this._watched.has(s)||this._watched.has(i)),!this._throttle("remove",s,100))return;!n&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,r,!0),this._getWatchedDir(s).getChildren().forEach(h=>this._remove(s,h));let f=this._getWatchedDir(e),p=f.has(r);f.remove(r),this._symlinkPaths.has(i)&&this._symlinkPaths.delete(i);let u=s;if(this.options.cwd&&(u=fe.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(u)&&this._pendingWrites.get(u).cancelWait()===vs)return;this._watched.delete(s),this._watched.delete(i);let _=n?tT:rv;p&&!this._isIgnored(s)&&this._emit(_,s),this.options.useFsEvents||this._closePath(s);}_closePath(e){this._closeFile(e);let r=fe.dirname(e);this._getWatchedDir(r).remove(fe.basename(e));}_closeFile(e){let r=this._closers.get(e);r&&(r.forEach(n=>n()),this._closers.delete(e));}_addPathCloser(e,r){if(!r)return;let n=this._closers.get(e);n||(n=[],this._closers.set(e,n)),n.push(r);}_readdirp(e,r){if(this.closed)return;let n={type:El,alwaysStat:!0,lstat:!0,...r},s=ZF(e,n);return this._streams.add(s),s.once(nT,()=>{s=void 0;}),s.once(iT,()=>{s&&(this._streams.delete(s),s=void 0);}),s}};$l.FSWatcher=Ss;var ET=(t,e)=>{let r=new Ss(e);return r.add(t),r};$l.watch=ET;});var Bl=x((U2,mv)=>{var $n=t=>t&&typeof t.message=="string",Ul=t=>{if(!t)return;let e=t.cause;if(typeof e=="function"){let r=t.cause();return $n(r)?r:void 0}else return $n(e)?e:void 0},_v=(t,e)=>{if(!$n(t))return "";let r=t.stack||"";if(e.has(t))return r+`
causes have become circular...`;let n=Ul(t);return n?(e.add(t),r+`
caused by: `+_v(n,e)):r},IT=t=>_v(t,new Set),hv=(t,e,r)=>{if(!$n(t))return "";let n=r?"":t.message||"";if(e.has(t))return n+": ...";let s=Ul(t);if(s){e.add(t);let i=typeof t.cause=="function";return n+(i?"":": ")+hv(s,e,i)}else return n},RT=t=>hv(t,new Set);mv.exports={isErrorLike:$n,getErrorCause:Ul,stackWithCauses:IT,messageWithCauses:RT};});var jl=x((B2,yv)=>{var PT=Symbol("circular-ref-tag"),ws=Symbol("pino-raw-err-ref"),gv=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[ws]},set:function(t){this[ws]=t;}}});Object.defineProperty(gv,ws,{writable:!0,value:{}});yv.exports={pinoErrProto:gv,pinoErrorSymbols:{seen:PT,rawSymbol:ws}};});var wv=x((j2,Sv)=>{Sv.exports=zl;var{messageWithCauses:FT,stackWithCauses:TT,isErrorLike:vv}=Bl(),{pinoErrProto:OT,pinoErrorSymbols:NT}=jl(),{seen:Wl}=NT,{toString:HT}=Object.prototype;function zl(t){if(!vv(t))return t;t[Wl]=void 0;let e=Object.create(OT);e.type=HT.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=FT(t),e.stack=TT(t),Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>zl(r)));for(let r in t)if(e[r]===void 0){let n=t[r];vv(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Wl)&&(e[r]=zl(n)):e[r]=n;}return delete t[Wl],e.raw=t,e}});var Ev=x((W2,bv)=>{bv.exports=Es;var{isErrorLike:Gl}=Bl(),{pinoErrProto:kT,pinoErrorSymbols:$T}=jl(),{seen:bs}=$T,{toString:MT}=Object.prototype;function Es(t){if(!Gl(t))return t;t[bs]=void 0;let e=Object.create(kT);e.type=MT.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=t.message,e.stack=t.stack,Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>Es(r))),Gl(t.cause)&&!Object.prototype.hasOwnProperty.call(t.cause,bs)&&(e.cause=Es(t.cause));for(let r in t)if(e[r]===void 0){let n=t[r];Gl(n)?Object.prototype.hasOwnProperty.call(n,bs)||(e[r]=Es(n)):e[r]=n;}return delete t[bs],e.raw=t,e}});var Iv=x((z2,xv)=>{xv.exports={mapHttpRequest:LT,reqSerializer:Cv};var Vl=Symbol("pino-raw-req-ref"),Av=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Vl]},set:function(t){this[Vl]=t;}}});Object.defineProperty(Av,Vl,{writable:!0,value:{}});function Cv(t){let e=t.info||t.socket,r=Object.create(Av);if(r.id=typeof t.id=="function"?t.id():t.id||(t.info?t.info.id:void 0),r.method=t.method,t.originalUrl)r.url=t.originalUrl;else {let n=t.path;r.url=typeof n=="string"?n:t.url?t.url.path||t.url:void 0;}return t.query&&(r.query=t.query),t.params&&(r.params=t.params),r.headers=t.headers,r.remoteAddress=e&&e.remoteAddress,r.remotePort=e&&e.remotePort,r.raw=t.raw||t,r}function LT(t){return {req:Cv(t)}}});var Tv=x((G2,Fv)=>{Fv.exports={mapHttpResponse:DT,resSerializer:Pv};var Zl=Symbol("pino-raw-res-ref"),Rv=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Zl]},set:function(t){this[Zl]=t;}}});Object.defineProperty(Rv,Zl,{writable:!0,value:{}});function Pv(t){let e=Object.create(Rv);return e.statusCode=t.headersSent?t.statusCode:null,e.headers=t.getHeaders?t.getHeaders():t._headers,e.raw=t,e}function DT(t){return {res:Pv(t)}}});var Kl=x((V2,Ov)=>{var Xl=wv(),qT=Ev(),As=Iv(),Cs=Tv();Ov.exports={err:Xl,errWithCause:qT,mapHttpRequest:As.mapHttpRequest,mapHttpResponse:Cs.mapHttpResponse,req:As.reqSerializer,res:Cs.resSerializer,wrapErrorSerializer:function(e){return e===Xl?e:function(n){return e(Xl(n))}},wrapRequestSerializer:function(e){return e===As.reqSerializer?e:function(n){return e(As.reqSerializer(n))}},wrapResponseSerializer:function(e){return e===Cs.resSerializer?e:function(n){return e(Cs.resSerializer(n))}}};});var Yl=x((Z2,Nv)=>{function UT(t,e){return e}Nv.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=UT;let r=new Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(r))return;let n=r.slice(2),s=[];for(let i of n)i&&s.push(i.getFileName());return s};});var kv=x((X2,Hv)=>{Hv.exports=BT;function BT(t={}){let{ERR_PATHS_MUST_BE_STRINGS:e=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=t;return function({paths:s}){s.forEach(i=>{if(typeof i!="string")throw Error(e());try{if(//.test(i))throw Error();let o=(i[0]==="["?"":".")+i.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)();}catch{throw Error(r(i))}});}}});var xs=x((K2,$v)=>{$v.exports=/[^.[\]]+|\[((?:.)*?)\]/g;});var Lv=x((Y2,Mv)=>{var jT=xs();Mv.exports=WT;function WT({paths:t}){let e=[];var r=0;let n=t.reduce(function(s,i,o){var l=i.match(jT).map(u=>u.replace(/'|"|`/g,""));let f=i[0]==="[";l=l.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let p=l.indexOf("*");if(p>-1){let u=l.slice(0,p),_=u.join("."),h=l.slice(p+1,l.length),m=h.length>0;r++,e.push({before:u,beforeStr:_,after:h,nested:m});}else s[i]={path:l,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(i),leadingBracket:f};return s},{});return {wildcards:e,wcLen:r,secret:n}}});var qv=x((J2,Dv)=>{var zT=xs();Dv.exports=GT;function GT({secret:t,serialize:e,wcLen:r,strict:n,isCensorFct:s,censorFctTakesPath:i},o){let l=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${KT(n,e)}
    }
    const { censor, secret } = this
    ${VT(t,s,i)}
    this.compileRestore()
    ${ZT(r>0,s,i)}
    ${XT(e)}
  `).bind(o);return e===!1&&(l.restore=f=>o.restore(f)),l}function VT(t,e,r){return Object.keys(t).map(n=>{let{escPath:s,leadingBracket:i,path:o}=t[n],l=i?1:0,f=i?"":".",p=[];for(var u;(u=zT.exec(n))!==null;){let[,y]=u,{index:w,input:E}=u;w>l&&p.push(E.substring(0,w-(y?0:1)));}var _=p.map(y=>`o${f}${y}`).join(" && ");_.length===0?_+=`o${f}${n} != null`:_+=` && o${f}${n} != null`;let h=`
      switch (true) {
        ${p.reverse().map(y=>`
          case o${f}${y} === censor:
            secret[${s}].circle = ${JSON.stringify(y)}
            break
        `).join(`
`)}
      }
    `,m=r?`val, ${JSON.stringify(o)}`:"val";return `
      if (${_}) {
        const val = o${f}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${f}${n} = ${e?`censor(${m})`:"censor"}
          ${h}
        }
      }
    `}).join(`
`)}function ZT(t,e,r){return t===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${e}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${e}, ${r})
      }
    }
  `:""}function XT(t){return t===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function KT(t,e){return t===!0?"throw Error('fast-redact: primitives cannot be redacted')":e===!1?"return o":"return this.serialize(o)"}});var Ql=x((Q2,jv)=>{jv.exports={groupRedact:JT,groupRestore:YT,nestedRedact:eO,nestedRestore:QT};function YT({keys:t,values:e,target:r}){if(r==null)return;let n=t.length;for(var s=0;s<n;s++){let i=t[s];r[i]=e[s];}}function JT(t,e,r,n,s){let i=Uv(t,e);if(i==null)return {keys:null,values:null,target:null,flat:!0};let o=Object.keys(i),l=o.length,f=e.length,p=s?[...e]:void 0,u=new Array(l);for(var _=0;_<l;_++){let h=o[_];u[_]=i[h],s?(p[f]=h,i[h]=r(i[h],p)):n?i[h]=r(i[h]):i[h]=r;}return {keys:o,values:u,target:i,flat:!0}}function QT(t){for(let e=0;e<t.length;e++){let{target:r,path:n,value:s}=t[e],i=r;for(let o=n.length-1;o>0;o--)i=i[n[o]];i[n[0]]=s;}}function eO(t,e,r,n,s,i,o){let l=Uv(e,r);if(l==null)return;let f=Object.keys(l),p=f.length;for(var u=0;u<p;u++){let _=f[u];tO(t,l,_,r,n,s,i,o);}return t}function Jl(t,e){return t!=null?"hasOwn"in Object?Object.hasOwn(t,e):Object.prototype.hasOwnProperty.call(t,e):!1}function tO(t,e,r,n,s,i,o,l){let f=s.length,p=f-1,u=r;var _=-1,h,m,y,E=null,A,S,R=!1,O=0,k=0,B=rO();if(y=h=e[r],typeof h=="object"){for(;h!=null&&++_<f&&(k+=1,r=s[_],!(r!=="*"&&!E&&!(typeof h=="object"&&r in h)));)if(!(r==="*"&&(E==="*"&&(R=!0),E=r,_!==p))){if(E){let $=Object.keys(h);for(var q=0;q<$.length;q++){let N=$[q];if(S=h[N],A=r==="*",R)B=Rt(B,N,k),O=_,y=Bv(S,O-1,r,n,s,i,o,l,u,h,m,y,A,N,_,p,B,t,e[u],k+1);else if(A||typeof S=="object"&&S!==null&&r in S){if(A?y=S:y=S[r],m=_!==p?y:o?l?i(y,[...n,u,...s]):i(y):i,A){let U=Mn(Rt(B,N,k),y,e[u]);t.push(U),h[N]=m;}else if(S[r]!==m)if(m===void 0&&i!==void 0||Jl(S,r)&&m===y)B=Rt(B,N,k);else {B=Rt(B,N,k);let U=Mn(Rt(B,r,k+1),y,e[u]);t.push(U),S[r]=m;}}}E=null;}else {if(y=h[r],B=Rt(B,r,k),m=_!==p?y:o?l?i(y,[...n,u,...s]):i(y):i,!(Jl(h,r)&&m===y||m===void 0&&i!==void 0)){let $=Mn(B,y,e[u]);t.push($),h[r]=m;}h=h[r];}if(typeof h!="object")break}}}function Uv(t,e){for(var r=-1,n=e.length,s=t;s!=null&&++r<n;)s=s[e[r]];return s}function Bv(t,e,r,n,s,i,o,l,f,p,u,_,h,m,y,w,E,A,S,R){if(e===0&&(h||typeof t=="object"&&t!==null&&r in t)){if(h?_=t:_=t[r],u=y!==w?_:o?l?i(_,[...n,f,...s]):i(_):i,h){let O=Mn(E,_,S);A.push(O),p[m]=u;}else if(t[r]!==u){if(!(u===void 0&&i!==void 0||Jl(t,r)&&u===_)){let O=Mn(Rt(E,r,R+1),_,S);A.push(O),t[r]=u;}}}for(let O in t)typeof t[O]=="object"&&(E=Rt(E,O,R),Bv(t[O],e-1,r,n,s,i,o,l,f,p,u,_,h,m,y,w,E,A,S,R+1));}function rO(){return {parent:null,key:null,children:[],depth:0}}function Rt(t,e,r){if(t.depth===r)return Rt(t.parent,e,r);var n={parent:t,key:e,depth:r,children:[]};return t.children.push(n),n}function Mn(t,e,r){let n=t,s=[];do s.push(n.key),n=n.parent;while(n.parent!=null);return {path:s,value:e,target:r}}});var zv=x((eD,Wv)=>{var{groupRestore:nO,nestedRestore:iO}=Ql();Wv.exports=sO;function sO({secret:t,wcLen:e}){return function(){if(this.restore)return;let n=Object.keys(t),s=oO(t,n),i=e>0,o=i?{secret:t,groupRestore:nO,nestedRestore:iO}:{secret:t};this.restore=Function("o",aO(s,n,i)).bind(o);}}function oO(t,e){return e.map(r=>{let{circle:n,escPath:s,leadingBracket:i}=t[r],l=n?`o.${n} = secret[${s}].val`:`o${i?"":"."}${r} = secret[${s}].val`,f=`secret[${s}].val = undefined`;return `
      if (secret[${s}].val !== undefined) {
        try { ${l} } catch (e) {}
        ${f}
      }
    `}).join("")}function aO(t,e,r){return `
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${e.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:""}
    ${t}
    return o
  `}});var Vv=x((tD,Gv)=>{Gv.exports=lO;function lO(t){let{secret:e,censor:r,compileRestore:n,serialize:s,groupRedact:i,nestedRedact:o,wildcards:l,wcLen:f}=t,p=[{secret:e,censor:r,compileRestore:n}];return s!==!1&&p.push({serialize:s}),f>0&&p.push({groupRedact:i,nestedRedact:o,wildcards:l,wcLen:f}),Object.assign(...p)}});var Kv=x((rD,Xv)=>{var Zv=kv(),uO=Lv(),cO=qv(),fO=zv(),{groupRedact:dO,nestedRedact:pO}=Ql(),_O=Vv(),hO=xs(),mO=Zv(),eu=t=>t;eu.restore=eu;var gO="[REDACTED]";tu.rx=hO;tu.validator=Zv;Xv.exports=tu;function tu(t={}){let e=Array.from(new Set(t.paths||[])),r="serialize"in t&&(t.serialize===!1||typeof t.serialize=="function")?t.serialize:JSON.stringify,n=t.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in t?t.censor:gO,i=typeof s=="function",o=i&&s.length>1;if(e.length===0)return r||eu;mO({paths:e,serialize:r,censor:s});let{wildcards:l,wcLen:f,secret:p}=uO({paths:e,censor:s}),u=fO({secret:p,wcLen:f}),_="strict"in t?t.strict:!0;return cO({secret:p,wcLen:f,serialize:r,strict:_,isCensorFct:i,censorFctTakesPath:o},_O({secret:p,censor:s,compileRestore:u,serialize:r,groupRedact:dO,nestedRedact:pO,wildcards:l,wcLen:f}))}});var Lr=x((nD,Yv)=>{var yO=Symbol("pino.setLevel"),vO=Symbol("pino.getLevel"),SO=Symbol("pino.levelVal"),wO=Symbol("pino.useLevelLabels"),bO=Symbol("pino.useOnlyCustomLevels"),EO=Symbol("pino.mixin"),AO=Symbol("pino.lsCache"),CO=Symbol("pino.chindings"),xO=Symbol("pino.asJson"),IO=Symbol("pino.write"),RO=Symbol("pino.redactFmt"),PO=Symbol("pino.time"),FO=Symbol("pino.timeSliceIndex"),TO=Symbol("pino.stream"),OO=Symbol("pino.stringify"),NO=Symbol("pino.stringifySafe"),HO=Symbol("pino.stringifiers"),kO=Symbol("pino.end"),$O=Symbol("pino.formatOpts"),MO=Symbol("pino.messageKey"),LO=Symbol("pino.errorKey"),DO=Symbol("pino.nestedKey"),qO=Symbol("pino.nestedKeyStr"),UO=Symbol("pino.mixinMergeStrategy"),BO=Symbol("pino.msgPrefix"),jO=Symbol("pino.wildcardFirst"),WO=Symbol.for("pino.serializers"),zO=Symbol.for("pino.formatters"),GO=Symbol.for("pino.hooks"),VO=Symbol.for("pino.metadata");Yv.exports={setLevelSym:yO,getLevelSym:vO,levelValSym:SO,useLevelLabelsSym:wO,mixinSym:EO,lsCacheSym:AO,chindingsSym:CO,asJsonSym:xO,writeSym:IO,serializersSym:WO,redactFmtSym:RO,timeSym:PO,timeSliceIndexSym:FO,streamSym:TO,stringifySym:OO,stringifySafeSym:NO,stringifiersSym:HO,endSym:kO,formatOptsSym:$O,messageKeySym:MO,errorKeySym:LO,nestedKeySym:DO,wildcardFirstSym:jO,needsMetadataGsym:VO,useOnlyCustomLevelsSym:bO,formattersSym:zO,hooksSym:GO,nestedKeyStrSym:qO,mixinMergeStrategySym:UO,msgPrefixSym:BO};});var iu=x((iD,tS)=>{var nu=Kv(),{redactFmtSym:ZO,wildcardFirstSym:Is}=Lr(),{rx:ru,validator:XO}=nu,Jv=XO({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:t=>`pino \u2013 redact paths array contains an invalid path (${t})`}),Qv="[Redacted]",eS=!1;function KO(t,e){let{paths:r,censor:n}=YO(t),s=r.reduce((l,f)=>{ru.lastIndex=0;let p=ru.exec(f),u=ru.exec(f),_=p[1]!==void 0?p[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):p[0];if(_==="*"&&(_=Is),u===null)return l[_]=null,l;if(l[_]===null)return l;let{index:h}=u,m=`${f.substr(h,f.length-1)}`;return l[_]=l[_]||[],_!==Is&&l[_].length===0&&l[_].push(...l[Is]||[]),_===Is&&Object.keys(l).forEach(function(y){l[y]&&l[y].push(m);}),l[_].push(m),l},{}),i={[ZO]:nu({paths:r,censor:n,serialize:e,strict:eS})},o=(...l)=>e(typeof n=="function"?n(...l):n);return [...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((l,f)=>{if(s[f]===null)l[f]=p=>o(p,[f]);else {let p=typeof n=="function"?(u,_)=>n(u,[f,..._]):n;l[f]=nu({paths:s[f],censor:p,serialize:e,strict:eS});}return l},i)}function YO(t){if(Array.isArray(t))return t={paths:t,censor:Qv},Jv(t),t;let{paths:e,censor:r=Qv,remove:n}=t;if(Array.isArray(e)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),Jv({paths:e,censor:r}),{paths:e,censor:r}}tS.exports=KO;});var nS=x((sD,rS)=>{var JO=()=>"",QO=()=>`,"time":${Date.now()}`,eN=()=>`,"time":${Math.round(Date.now()/1e3)}`,tN=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;rS.exports={nullTime:JO,epochTime:QO,unixTime:eN,isoTime:tN};});var sS=x((oD,iS)=>{function rN(t){try{return JSON.stringify(t)}catch{return '"[Circular]"'}}iS.exports=nN;function nN(t,e,r){var n=r&&r.stringify||rN,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=n(t);for(var l=1;l<i;l++)o[l]=n(e[l]);return o.join(" ")}if(typeof t!="string")return t;var f=e.length;if(f===0)return t;for(var p="",u=1-s,_=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(_=_>-1?_:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=f||e[u]==null)break;_<m&&(p+=t.slice(_,m)),p+=Number(e[u]),_=m+2,m++;break;case 105:if(u>=f||e[u]==null)break;_<m&&(p+=t.slice(_,m)),p+=Math.floor(Number(e[u])),_=m+2,m++;break;case 79:case 111:case 106:if(u>=f||e[u]===void 0)break;_<m&&(p+=t.slice(_,m));var y=typeof e[u];if(y==="string"){p+="'"+e[u]+"'",_=m+2,m++;break}if(y==="function"){p+=e[u].name||"<anonymous>",_=m+2,m++;break}p+=n(e[u]),_=m+2,m++;break;case 115:if(u>=f)break;_<m&&(p+=t.slice(_,m)),p+=String(e[u]),_=m+2,m++;break;case 37:_<m&&(p+=t.slice(_,m)),p+="%",_=m+2,m++,u--;break}++u;}++m;}return _===-1?t:(_<h&&(p+=t.slice(_)),p)}});var ou=x((aD,su)=>{if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let e=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(t,0,0,Number(r));},t=new Int32Array(new SharedArrayBuffer(4));su.exports=e;}else {let t=function(e){if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");};su.exports=t;}});var pS=x((lD,dS)=>{var we=Z("fs"),iN=Z("events"),sN=Z("util").inherits,oS=Z("path"),au=ou(),Rs=100,Ps=Buffer.allocUnsafe(0),oN=16*1024,aS="buffer",lS="utf8";function uS(t,e){e._opening=!0,e._writing=!0,e._asyncDrainScheduled=!1;function r(i,o){if(i){e._reopening=!1,e._writing=!1,e._opening=!1,e.sync?process.nextTick(()=>{e.listenerCount("error")>0&&e.emit("error",i);}):e.emit("error",i);return}e.fd=o,e.file=t,e._reopening=!1,e._opening=!1,e._writing=!1,e.sync?process.nextTick(()=>e.emit("ready")):e.emit("ready"),!(e._reopening||e.destroyed)&&(!e._writing&&e._len>e.minLength||e._flushPending)&&e._actualWrite();}let n=e.append?"a":"w",s=e.mode;if(e.sync)try{e.mkdir&&we.mkdirSync(oS.dirname(t),{recursive:!0});let i=we.openSync(t,n,s);r(null,i);}catch(i){throw r(i),i}else e.mkdir?we.mkdir(oS.dirname(t),{recursive:!0},i=>{if(i)return r(i);we.open(t,n,s,r);}):we.open(t,n,s,r);}function ft(t){if(!(this instanceof ft))return new ft(t);let{fd:e,dest:r,minLength:n,maxLength:s,maxWrite:i,sync:o,append:l=!0,mkdir:f,retryEAGAIN:p,fsync:u,contentMode:_,mode:h}=t||{};e=e||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=s||0,this.maxWrite=i||oN,this.sync=o||!1,this.writable=!0,this._fsync=u||!1,this.append=l||!1,this.mode=h,this.retryEAGAIN=p||(()=>!0),this.mkdir=f||!1;let m,y;if(_===aS)this._writingBuf=Ps,this.write=uN,this.flush=fN,this.flushSync=pN,this._actualWrite=hN,m=()=>we.writeSync(this.fd,this._writingBuf),y=()=>we.write(this.fd,this._writingBuf,this.release);else if(_===void 0||_===lS)this._writingBuf="",this.write=lN,this.flush=cN,this.flushSync=dN,this._actualWrite=_N,m=()=>we.writeSync(this.fd,this._writingBuf,"utf8"),y=()=>we.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${lS}" and "${aS}", but passed ${_}`);if(typeof e=="number")this.fd=e,process.nextTick(()=>this.emit("ready"));else if(typeof e=="string")uS(e,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(w,E)=>{if(w){if((w.code==="EAGAIN"||w.code==="EBUSY")&&this.retryEAGAIN(w,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{au(Rs),this.release(void 0,0);}catch(S){this.release(S);}else setTimeout(y,Rs);else this._writing=!1,this.emit("error",w);return}if(this.emit("write",E),this._len-=E,this._len<0&&(this._len=0),this._writingBuf=this._writingBuf.slice(E),this._writingBuf.length){if(!this.sync){y();return}try{do{let S=m();this._len-=S,this._writingBuf=this._writingBuf.slice(S);}while(this._writingBuf.length)}catch(S){this.release(S);return}}this._fsync&&we.fsyncSync(this.fd);let A=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):A>this.minLength?this._actualWrite():this._ending?A>0?this._actualWrite():(this._writing=!1,Fs(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(aN,this)):this.emit("drain"));},this.on("newListener",function(w){w==="drain"&&(this._asyncDrainScheduled=!1);});}function aN(t){t.listenerCount("drain")>0&&(t._asyncDrainScheduled=!1,t.emit("drain"));}sN(ft,iN);function cS(t,e){return t.length===0?Ps:t.length===1?t[0]:Buffer.concat(t,e)}function lN(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||r[r.length-1].length+t.length>this.maxWrite?r.push(""+t):r[r.length-1]+=t,this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function uN(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs,n=this._lens;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||n[n.length-1]+t.length>this.maxWrite?(r.push([t]),n.push(t.length)):(r[r.length-1].push(t),n[n.length-1]+=t.length),this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function fS(t){this._flushPending=!0;let e=()=>{this._fsync?(this._flushPending=!1,t()):we.fsync(this.fd,n=>{this._flushPending=!1,t(n);}),this.off("error",r);},r=n=>{this._flushPending=!1,t(n),this.off("drain",e);};this.once("drain",e),this.once("error",r);}function cN(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&fS.call(this,t),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite());}function fN(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&fS.call(this,t),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite());}ft.prototype.reopen=function(t){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(t);});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let e=this.fd;this.once("ready",()=>{e!==this.fd&&we.close(e,r=>{if(r)return this.emit("error",r)});}),uS(t||this.file,this);};ft.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end();});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():Fs(this)));};function dN(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let t="";for(;this._bufs.length||t;){t.length<=0&&(t=this._bufs[0]);try{let e=we.writeSync(this.fd,t,"utf8");t=t.slice(e),this._len=Math.max(this._len-e,0),t.length<=0&&this._bufs.shift();}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;au(Rs);}}try{we.fsyncSync(this.fd);}catch{}}function pN(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=Ps);let t=Ps;for(;this._bufs.length||t.length;){t.length<=0&&(t=cS(this._bufs[0],this._lens[0]));try{let e=we.writeSync(this.fd,t);t=t.subarray(e),this._len=Math.max(this._len-e,0),t.length<=0&&(this._bufs.shift(),this._lens.shift());}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;au(Rs);}}}ft.prototype.destroy=function(){this.destroyed||Fs(this);};function _N(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let e=we.writeSync(this.fd,this._writingBuf,"utf8");t(null,e);}catch(e){t(e);}else we.write(this.fd,this._writingBuf,"utf8",t);}function hN(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:cS(this._bufs.shift(),this._lens.shift()),this.sync)try{let e=we.writeSync(this.fd,this._writingBuf);t(null,e);}catch(e){t(e);}else we.write(this.fd,this._writingBuf,t);}function Fs(t){if(t.fd===-1){t.once("ready",Fs.bind(null,t));return}t.destroyed=!0,t._bufs=[],t._lens=[],we.fsync(t.fd,e);function e(){t.fd!==1&&t.fd!==2?we.close(t.fd,r):r();}function r(n){if(n){t.emit("error",n);return}t._ending&&!t._writing&&t.emit("finish"),t.emit("close");}}ft.SonicBoom=ft;ft.default=ft;dS.exports=ft;});var lu=x((uD,yS)=>{var dt={exit:[],beforeExit:[]},_S={exit:yN,beforeExit:vN},Dr;function mN(){Dr===void 0&&(Dr=new FinalizationRegistry(SN));}function gN(t){dt[t].length>0||process.on(t,_S[t]);}function hS(t){dt[t].length>0||(process.removeListener(t,_S[t]),dt.exit.length===0&&dt.beforeExit.length===0&&(Dr=void 0));}function yN(){mS("exit");}function vN(){mS("beforeExit");}function mS(t){for(let e of dt[t]){let r=e.deref(),n=e.fn;r!==void 0&&n(r,t);}dt[t]=[];}function SN(t){for(let e of ["exit","beforeExit"]){let r=dt[e].indexOf(t);dt[e].splice(r,r+1),hS(e);}}function gS(t,e,r){if(e===void 0)throw new Error("the object can't be undefined");gN(t);let n=new WeakRef(e);n.fn=r,mN(),Dr.register(e,n),dt[t].push(n);}function wN(t,e){gS("exit",t,e);}function bN(t,e){gS("beforeExit",t,e);}function EN(t){if(Dr!==void 0){Dr.unregister(t);for(let e of ["exit","beforeExit"])dt[e]=dt[e].filter(r=>{let n=r.deref();return n&&n!==t}),hS(e);}}yS.exports={register:wN,registerBeforeExit:bN,unregister:EN};});var vS=x((cD,AN)=>{AN.exports={name:"thread-stream",version:"2.4.1",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^8.0.1","pino-elasticsearch":"^6.0.0","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^4.7.2","why-is-node-running":"^2.2.2"},scripts:{test:"standard && npm run transpile && tap test/*.test.*js && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"};});var wS=x((fD,SS)=>{function CN(t,e,r,n,s){let i=Date.now()+n,o=Atomics.load(t,e);if(o===r){s(null,"ok");return}let l=o,f=p=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{l=o,o=Atomics.load(t,e),o===l?f(p>=1e3?1e3:p*2):o===r?s(null,"ok"):s(null,"not-equal");},p);};f(1);}function xN(t,e,r,n,s){let i=Date.now()+n,o=Atomics.load(t,e);if(o!==r){s(null,"ok");return}let l=f=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{o=Atomics.load(t,e),o!==r?s(null,"ok"):l(f>=1e3?1e3:f*2);},f);};l(1);}SS.exports={wait:CN,waitDiff:xN};});var ES=x((dD,bS)=>{bS.exports={WRITE_INDEX:4,READ_INDEX:8};});var RS=x((pD,IS)=>{var{version:IN}=vS(),{EventEmitter:RN}=Z("events"),{Worker:PN}=Z("worker_threads"),{join:FN}=Z("path"),{pathToFileURL:TN}=Z("url"),{wait:ON}=wS(),{WRITE_INDEX:Ge,READ_INDEX:vt}=ES(),NN=Z("buffer"),HN=Z("assert"),M=Symbol("kImpl"),kN=NN.constants.MAX_STRING_LENGTH,Ln=class{constructor(e){this._value=e;}deref(){return this._value}},Os=class{register(){}unregister(){}},$N=process.env.NODE_V8_COVERAGE?Os:global.FinalizationRegistry||Os,MN=process.env.NODE_V8_COVERAGE?Ln:global.WeakRef||Ln,AS=new $N(t=>{t.exited||t.terminate();});function LN(t,e){let{filename:r,workerData:n}=e,i=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||FN(__dirname,"lib","worker.js"),o=new PN(i,{...e.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:TN(r).href,dataBuf:t[M].dataBuf,stateBuf:t[M].stateBuf,workerData:{$context:{threadStreamVersion:IN},...n}}});return o.stream=new Ln(t),o.on("message",DN),o.on("exit",xS),AS.register(t,o),o}function CS(t){HN(!t[M].sync),t[M].needDrain&&(t[M].needDrain=!1,t.emit("drain"));}function Ts(t){let e=Atomics.load(t[M].state,Ge),r=t[M].data.length-e;if(r>0){if(t[M].buf.length===0){t[M].flushing=!1,t[M].ending?pu(t):t[M].needDrain&&process.nextTick(CS,t);return}let n=t[M].buf.slice(0,r),s=Buffer.byteLength(n);s<=r?(t[M].buf=t[M].buf.slice(r),Ns(t,n,Ts.bind(null,t))):t.flush(()=>{if(!t.destroyed){for(Atomics.store(t[M].state,vt,0),Atomics.store(t[M].state,Ge,0);s>t[M].data.length;)r=r/2,n=t[M].buf.slice(0,r),s=Buffer.byteLength(n);t[M].buf=t[M].buf.slice(r),Ns(t,n,Ts.bind(null,t));}});}else if(r===0){if(e===0&&t[M].buf.length===0)return;t.flush(()=>{Atomics.store(t[M].state,vt,0),Atomics.store(t[M].state,Ge,0),Ts(t);});}else St(t,new Error("overwritten"));}function DN(t){let e=this.stream.deref();if(e===void 0){this.exited=!0,this.terminate();return}switch(t.code){case"READY":this.stream=new MN(e),e.flush(()=>{e[M].ready=!0,e.emit("ready");});break;case"ERROR":St(e,t.err);break;case"EVENT":Array.isArray(t.args)?e.emit(t.name,...t.args):e.emit(t.name,t.args);break;case"WARNING":process.emitWarning(t.err);break;default:St(e,new Error("this should not happen: "+t.code));}}function xS(t){let e=this.stream.deref();e!==void 0&&(AS.unregister(e),e.worker.exited=!0,e.worker.off("exit",xS),St(e,t!==0?new Error("the worker thread exited"):null));}var cu=class extends RN{constructor(e={}){if(super(),e.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[M]={},this[M].stateBuf=new SharedArrayBuffer(128),this[M].state=new Int32Array(this[M].stateBuf),this[M].dataBuf=new SharedArrayBuffer(e.bufferSize||4*1024*1024),this[M].data=Buffer.from(this[M].dataBuf),this[M].sync=e.sync||!1,this[M].ending=!1,this[M].ended=!1,this[M].needDrain=!1,this[M].destroyed=!1,this[M].flushing=!1,this[M].ready=!1,this[M].finished=!1,this[M].errored=null,this[M].closed=!1,this[M].buf="",this.worker=LN(this,e);}write(e){if(this[M].destroyed)return fu(this,new Error("the worker has exited")),!1;if(this[M].ending)return fu(this,new Error("the worker is ending")),!1;if(this[M].flushing&&this[M].buf.length+e.length>=kN)try{uu(this),this[M].flushing=!0;}catch(r){return St(this,r),!1}if(this[M].buf+=e,this[M].sync)try{return uu(this),!0}catch(r){return St(this,r),!1}return this[M].flushing||(this[M].flushing=!0,setImmediate(Ts,this)),this[M].needDrain=this[M].data.length-this[M].buf.length-Atomics.load(this[M].state,Ge)<=0,!this[M].needDrain}end(){this[M].destroyed||(this[M].ending=!0,pu(this));}flush(e){if(this[M].destroyed){typeof e=="function"&&process.nextTick(e,new Error("the worker has exited"));return}let r=Atomics.load(this[M].state,Ge);ON(this[M].state,vt,r,1/0,(n,s)=>{if(n){St(this,n),process.nextTick(e,n);return}if(s==="not-equal"){this.flush(e);return}process.nextTick(e);});}flushSync(){this[M].destroyed||(uu(this),du(this));}unref(){this.worker.unref();}ref(){this.worker.ref();}get ready(){return this[M].ready}get destroyed(){return this[M].destroyed}get closed(){return this[M].closed}get writable(){return !this[M].destroyed&&!this[M].ending}get writableEnded(){return this[M].ending}get writableFinished(){return this[M].finished}get writableNeedDrain(){return this[M].needDrain}get writableObjectMode(){return !1}get writableErrored(){return this[M].errored}};function fu(t,e){setImmediate(()=>{t.emit("error",e);});}function St(t,e){t[M].destroyed||(t[M].destroyed=!0,e&&(t[M].errored=e,fu(t,e)),t.worker.exited?setImmediate(()=>{t[M].closed=!0,t.emit("close");}):t.worker.terminate().catch(()=>{}).then(()=>{t[M].closed=!0,t.emit("close");}));}function Ns(t,e,r){let n=Atomics.load(t[M].state,Ge),s=Buffer.byteLength(e);return t[M].data.write(e,n),Atomics.store(t[M].state,Ge,n+s),Atomics.notify(t[M].state,Ge),r(),!0}function pu(t){if(!(t[M].ended||!t[M].ending||t[M].flushing)){t[M].ended=!0;try{t.flushSync();let e=Atomics.load(t[M].state,vt);Atomics.store(t[M].state,Ge,-1),Atomics.notify(t[M].state,Ge);let r=0;for(;e!==-1;){if(Atomics.wait(t[M].state,vt,e,1e3),e=Atomics.load(t[M].state,vt),e===-2){St(t,new Error("end() failed"));return}if(++r===10){St(t,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{t[M].finished=!0,t.emit("finish");});}catch(e){St(t,e);}}}function uu(t){let e=()=>{t[M].ending?pu(t):t[M].needDrain&&process.nextTick(CS,t);};for(t[M].flushing=!1;t[M].buf.length!==0;){let r=Atomics.load(t[M].state,Ge),n=t[M].data.length-r;if(n===0){du(t),Atomics.store(t[M].state,vt,0),Atomics.store(t[M].state,Ge,0);continue}else if(n<0)throw new Error("overwritten");let s=t[M].buf.slice(0,n),i=Buffer.byteLength(s);if(i<=n)t[M].buf=t[M].buf.slice(n),Ns(t,s,e);else {for(du(t),Atomics.store(t[M].state,vt,0),Atomics.store(t[M].state,Ge,0);i>t[M].buf.length;)n=n/2,s=t[M].buf.slice(0,n),i=Buffer.byteLength(s);t[M].buf=t[M].buf.slice(n),Ns(t,s,e);}}}function du(t){if(t[M].flushing)throw new Error("unable to flush while flushing");let e=Atomics.load(t[M].state,Ge),r=0;for(;;){let n=Atomics.load(t[M].state,vt);if(n===-2)throw Error("_flushSync failed");if(n!==e)Atomics.wait(t[M].state,vt,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}IS.exports=cu;});var mu=x((_D,PS)=>{var{createRequire:qN}=Z("module"),UN=Yl(),{join:_u,isAbsolute:BN,sep:jN}=Z("path"),WN=ou(),hu=lu(),zN=RS();function GN(t){hu.register(t,ZN),hu.registerBeforeExit(t,XN),t.on("close",function(){hu.unregister(t);});}function VN(t,e,r){let n=new zN({filename:t,workerData:e,workerOpts:r});n.on("ready",s),n.on("close",function(){process.removeListener("exit",i);}),process.on("exit",i);function s(){process.removeListener("exit",i),n.unref(),r.autoEnd!==!1&&GN(n);}function i(){n.closed||(n.flushSync(),WN(100),n.end());}return n}function ZN(t){t.ref(),t.flushSync(),t.end(),t.once("close",function(){t.unref();});}function XN(t){t.flushSync();}function KN(t){let{pipeline:e,targets:r,levels:n,dedupe:s,options:i={},worker:o={},caller:l=UN()}=t,f=typeof l=="string"?[l]:l,p="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},u=t.target;if(u&&r)throw new Error("only one of target or targets can be specified");return r?(u=p["pino-worker"]||_u(__dirname,"worker.js"),i.targets=r.map(h=>({...h,target:_(h.target)}))):e&&(u=p["pino-pipeline-worker"]||_u(__dirname,"worker-pipeline.js"),i.targets=e.map(h=>({...h,target:_(h.target)}))),n&&(i.levels=n),s&&(i.dedupe=s),VN(_(u),i,o);function _(h){if(h=p[h]||h,BN(h)||h.indexOf("file://")===0)return h;if(h==="pino/file")return _u(__dirname,"..","file.js");let m;for(let y of f)try{let w=y==="node:repl"?process.cwd()+jN:y;m=qN(w).resolve(h);break}catch{continue}if(!m)throw new Error(`unable to determine transport target for "${h}"`);return m}}PS.exports=KN;});var $s=x((hD,US)=>{var TS=sS(),{mapHttpRequest:YN,mapHttpResponse:JN}=Kl(),yu=pS(),OS=lu(),{lsCacheSym:QN,chindingsSym:kS,writeSym:NS,serializersSym:$S,formatOptsSym:HS,endSym:eH,stringifiersSym:MS,stringifySym:LS,stringifySafeSym:vu,wildcardFirstSym:DS,nestedKeySym:tH,formattersSym:qS,messageKeySym:rH,errorKeySym:nH,nestedKeyStrSym:iH,msgPrefixSym:Hs}=Lr(),{isMainThread:sH}=Z("worker_threads"),oH=mu();function qr(){}function aH(t,e){if(!e)return r;return function(...s){e.call(this,s,r,t);};function r(n,...s){if(typeof n=="object"){let i=n;n!==null&&(n.method&&n.headers&&n.socket?n=YN(n):typeof n.setHeader=="function"&&(n=JN(n)));let o;i===null&&s.length===0?o=[null]:(i=s.shift(),o=s),typeof this[Hs]=="string"&&i!==void 0&&i!==null&&(i=this[Hs]+i),this[NS](n,TS(i,o,this[HS]),t);}else {let i=n===void 0?s.shift():n;typeof this[Hs]=="string"&&i!==void 0&&i!==null&&(i=this[Hs]+i),this[NS](null,TS(i,s,this[HS]),t);}}}function gu(t){let e="",r=0,n=!1,s=255,i=t.length;if(i>100)return JSON.stringify(t);for(var o=0;o<i&&s>=32;o++)s=t.charCodeAt(o),(s===34||s===92)&&(e+=t.slice(r,o)+"\\",r=o,n=!0);return n?e+=t.slice(r):e=t,s<32?JSON.stringify(t):'"'+e+'"'}function lH(t,e,r,n){let s=this[LS],i=this[vu],o=this[MS],l=this[eH],f=this[kS],p=this[$S],u=this[qS],_=this[rH],h=this[nH],m=this[QN][r]+n;m=m+f;let y;u.log&&(t=u.log(t));let w=o[DS],E="";for(let S in t)if(y=t[S],Object.prototype.hasOwnProperty.call(t,S)&&y!==void 0){p[S]?y=p[S](y):S===h&&p.err&&(y=p.err(y));let R=o[S]||w;switch(typeof y){case"undefined":case"function":continue;case"number":Number.isFinite(y)===!1&&(y=null);case"boolean":R&&(y=R(y));break;case"string":y=(R||gu)(y);break;default:y=(R||s)(y,i);}if(y===void 0)continue;let O=gu(S);E+=","+O+":"+y;}let A="";if(e!==void 0){y=p[_]?p[_](e):e;let S=o[_]||w;switch(typeof y){case"function":break;case"number":Number.isFinite(y)===!1&&(y=null);case"boolean":S&&(y=S(y)),A=',"'+_+'":'+y;break;case"string":y=(S||gu)(y),A=',"'+_+'":'+y;break;default:y=(S||s)(y,i),A=',"'+_+'":'+y;}}return this[tH]&&E?m+this[iH]+E.slice(1)+"}"+A+l:m+E+A+l}function uH(t,e){let r,n=t[kS],s=t[LS],i=t[vu],o=t[MS],l=o[DS],f=t[$S],p=t[qS].bindings;e=p(e);for(let u in e)if(r=e[u],(u!=="level"&&u!=="serializers"&&u!=="formatters"&&u!=="customLevels"&&e.hasOwnProperty(u)&&r!==void 0)===!0){if(r=f[u]?f[u](r):r,r=(o[u]||l||s)(r,i),r===void 0)continue;n+=',"'+u+'":'+r;}return n}function cH(t){return t.write!==t.constructor.prototype.write}var fH=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function ks(t){let e=new yu(t);return e.on("error",r),!fH&&!t.sync&&sH&&(OS.register(e,dH),e.on("close",function(){OS.unregister(e);})),e;function r(n){if(n.code==="EPIPE"){e.write=qr,e.end=qr,e.flushSync=qr,e.destroy=qr;return}e.removeListener("error",r),e.emit("error",n);}}function dH(t,e){t.destroyed||(e==="beforeExit"?(t.flush(),t.on("drain",function(){t.end();})):t.flushSync());}function pH(t){return function(r,n,s={},i){if(typeof s=="string")i=ks({dest:s}),s={};else if(typeof i=="string"){if(s&&s.transport)throw Error("only one of option.transport or stream can be specified");i=ks({dest:i});}else if(s instanceof yu||s.writable||s._writableState)i=s,s={};else if(s.transport){if(s.transport instanceof yu||s.transport.writable||s.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(s.transport.targets&&s.transport.targets.length&&s.formatters&&typeof s.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let f;s.customLevels&&(f=s.useOnlyCustomLevels?s.customLevels:Object.assign({},s.levels,s.customLevels)),i=oH({caller:n,...s.transport,levels:f});}if(s=Object.assign({},t,s),s.serializers=Object.assign({},t.serializers,s.serializers),s.formatters=Object.assign({},t.formatters,s.formatters),s.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:l}=s;return o===!1&&(s.level="silent"),l||(s.onChild=qr),i||(cH(process.stdout)?i=process.stdout:i=ks({fd:process.stdout.fd||1})),{opts:s,stream:i}}}function _H(t,e){try{return JSON.stringify(t)}catch{try{return (e||this[vu])(t)}catch{return '"[unable to serialize, circular reference is too complex to analyze]"'}}}function hH(t,e,r){return {level:t,bindings:e,log:r}}function mH(t){let e=Number(t);return typeof t=="string"&&Number.isFinite(e)?e:t===void 0?1:t}US.exports={noop:qr,buildSafeSonicBoom:ks,asChindings:uH,asJson:lH,genLog:aH,createArgsNormalizer:pH,stringify:_H,buildFormatters:hH,normalizeDestFileDescriptor:mH};});var Ms=x((mD,jS)=>{var{lsCacheSym:gH,levelValSym:Su,useOnlyCustomLevelsSym:yH,streamSym:vH,formattersSym:SH,hooksSym:wH}=Lr(),{noop:bH,genLog:ar}=$s(),pt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},BS={fatal:t=>{let e=ar(pt.fatal,t);return function(...r){let n=this[vH];if(e.call(this,...r),typeof n.flushSync=="function")try{n.flushSync();}catch{}}},error:t=>ar(pt.error,t),warn:t=>ar(pt.warn,t),info:t=>ar(pt.info,t),debug:t=>ar(pt.debug,t),trace:t=>ar(pt.trace,t)},wu=Object.keys(pt).reduce((t,e)=>(t[pt[e]]=e,t),{}),EH=Object.keys(wu).reduce((t,e)=>(t[e]='{"level":'+Number(e),t),{});function AH(t){let e=t[SH].level,{labels:r}=t.levels,n={};for(let s in r){let i=e(r[s],Number(s));n[s]=JSON.stringify(i).slice(0,-1);}return t[gH]=n,t}function CH(t,e){if(e)return !1;switch(t){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return !0;default:return !1}}function xH(t){let{labels:e,values:r}=this.levels;if(typeof t=="number"){if(e[t]===void 0)throw Error("unknown level value"+t);t=e[t];}if(r[t]===void 0)throw Error("unknown level "+t);let n=this[Su],s=this[Su]=r[t],i=this[yH],o=this[wH].logMethod;for(let l in r){if(s>r[l]){this[l]=bH;continue}this[l]=CH(l,i)?BS[l](o):ar(r[l],o);}this.emit("level-change",t,s,e[n],n,this);}function IH(t){let{levels:e,levelVal:r}=this;return e&&e.labels?e.labels[r]:""}function RH(t){let{values:e}=this.levels,r=e[t];return r!==void 0&&r>=this[Su]}function PH(t=null,e=!1){let r=t?Object.keys(t).reduce((i,o)=>(i[t[o]]=o,i),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),e?null:wu,r),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),e?null:pt,t);return {labels:n,values:s}}function FH(t,e,r){if(typeof t=="number"){if(![].concat(Object.keys(e||{}).map(i=>e[i]),r?[]:Object.keys(wu).map(i=>+i),1/0).includes(t))throw Error(`default level:${t} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:pt,e);if(!(t in n))throw Error(`default level:${t} must be included in custom levels`)}function TH(t,e){let{labels:r,values:n}=t;for(let s in e){if(s in n)throw Error("levels cannot be overridden");if(e[s]in r)throw Error("pre-existing level values cannot be used for new levels")}}jS.exports={initialLsCache:EH,genLsCache:AH,levelMethods:BS,getLevel:IH,setLevel:xH,isLevelEnabled:RH,mappings:PH,levels:pt,assertNoLevelCollisions:TH,assertDefaultLevelFound:FH};});var bu=x((gD,WS)=>{WS.exports={version:"8.17.1"};});var tw=x((vD,ew)=>{var{EventEmitter:OH}=Z("events"),{lsCacheSym:NH,levelValSym:HH,setLevelSym:Au,getLevelSym:zS,chindingsSym:Cu,parsedChindingsSym:kH,mixinSym:$H,asJsonSym:KS,writeSym:MH,mixinMergeStrategySym:LH,timeSym:DH,timeSliceIndexSym:qH,streamSym:YS,serializersSym:lr,formattersSym:Eu,errorKeySym:UH,messageKeySym:BH,useOnlyCustomLevelsSym:jH,needsMetadataGsym:WH,redactFmtSym:zH,stringifySym:GH,formatOptsSym:VH,stringifiersSym:ZH,msgPrefixSym:GS}=Lr(),{getLevel:XH,setLevel:KH,isLevelEnabled:YH,mappings:JH,initialLsCache:QH,genLsCache:ek,assertNoLevelCollisions:tk}=Ms(),{asChindings:JS,asJson:rk,buildFormatters:VS,stringify:ZS}=$s(),{version:nk}=bu(),ik=iu(),sk=class{},QS={constructor:sk,child:ok,bindings:ak,setBindings:lk,flush:dk,isLevelEnabled:YH,version:nk,get level(){return this[zS]()},set level(t){this[Au](t);},get levelVal(){return this[HH]},set levelVal(t){throw Error("levelVal is read-only")},[NH]:QH,[MH]:ck,[KS]:rk,[zS]:XH,[Au]:KH};Object.setPrototypeOf(QS,OH.prototype);ew.exports=function(){return Object.create(QS)};var XS=t=>t;function ok(t,e){if(!t)throw Error("missing bindings for child Pino");e=e||{};let r=this[lr],n=this[Eu],s=Object.create(this);if(e.hasOwnProperty("serializers")===!0){s[lr]=Object.create(null);for(let u in r)s[lr][u]=r[u];let f=Object.getOwnPropertySymbols(r);for(var i=0;i<f.length;i++){let u=f[i];s[lr][u]=r[u];}for(let u in e.serializers)s[lr][u]=e.serializers[u];let p=Object.getOwnPropertySymbols(e.serializers);for(var o=0;o<p.length;o++){let u=p[o];s[lr][u]=e.serializers[u];}}else s[lr]=r;if(e.hasOwnProperty("formatters")){let{level:f,bindings:p,log:u}=e.formatters;s[Eu]=VS(f||n.level,p||XS,u||n.log);}else s[Eu]=VS(n.level,XS,n.log);if(e.hasOwnProperty("customLevels")===!0&&(tk(this.levels,e.customLevels),s.levels=JH(e.customLevels,s[jH]),ek(s)),typeof e.redact=="object"&&e.redact!==null||Array.isArray(e.redact)){s.redact=e.redact;let f=ik(s.redact,ZS),p={stringify:f[zH]};s[GH]=ZS,s[ZH]=f,s[VH]=p;}typeof e.msgPrefix=="string"&&(s[GS]=(this[GS]||"")+e.msgPrefix),s[Cu]=JS(s,t);let l=e.level||this.level;return s[Au](l),this.onChild(s),s}function ak(){let e=`{${this[Cu].substr(1)}}`,r=JSON.parse(e);return delete r.pid,delete r.hostname,r}function lk(t){let e=JS(this,t);this[Cu]=e,delete this[kH];}function uk(t,e){return Object.assign(e,t)}function ck(t,e,r){let n=this[DH](),s=this[$H],i=this[UH],o=this[BH],l=this[LH]||uk,f;t==null?f={}:t instanceof Error?(f={[i]:t},e===void 0&&(e=t.message)):(f=t,e===void 0&&t[o]===void 0&&t[i]&&(e=t[i].message)),s&&(f=l(f,s(f,r,this)));let p=this[KS](f,e,r,n),u=this[YS];u[WH]===!0&&(u.lastLevel=r,u.lastObj=f,u.lastMsg=e,u.lastTime=n.slice(this[qH]),u.lastLogger=this),u.write(p);}function fk(){}function dk(t){if(t!=null&&typeof t!="function")throw Error("callback must be a function");let e=this[YS];typeof e.flush=="function"?e.flush(t||fk):t&&t();}});var ow=x((Pu,sw)=>{var{hasOwnProperty:Ls}=Object.prototype,cr=Ru();cr.configure=Ru;cr.stringify=cr;cr.default=cr;Pu.stringify=cr;Pu.configure=Ru;sw.exports=cr;var pk=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function zt(t){return t.length<5e3&&!pk.test(t)?`"${t}"`:JSON.stringify(t)}function xu(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r;}return t}var _k=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function Iu(t){return _k.call(t)!==void 0&&t.length!==0}function rw(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",s=`"0":${n}${t[0]}`;for(let i=1;i<r;i++)s+=`${e}"${i}":${n}${t[i]}`;return s}function hk(t){if(Ls.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return `"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return {toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return '"[Circular]"'}function nw(t,e){let r;if(Ls.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function iw(t,e){let r;if(Ls.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function ur(t){return t===1?"1 item":`${t} items`}function mk(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function gk(t){if(Ls.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function Ru(t){t={...t};let e=gk(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=hk(t),n=nw(t,"bigint"),s=nw(t,"deterministic"),i=iw(t,"maximumDepth"),o=iw(t,"maximumBreadth");function l(h,m,y,w,E,A){let S=m[h];switch(typeof S=="object"&&S!==null&&typeof S.toJSON=="function"&&(S=S.toJSON(h)),S=w.call(m,h,S),typeof S){case"string":return zt(S);case"object":{if(S===null)return "null";if(y.indexOf(S)!==-1)return r;let R="",O=",",k=A;if(Array.isArray(S)){if(S.length===0)return "[]";if(i<y.length+1)return '"[Array]"';y.push(S),E!==""&&(A+=E,R+=`
${A}`,O=`,
${A}`);let I=Math.min(S.length,o),z=0;for(;z<I-1;z++){let te=l(String(z),S,y,w,E,A);R+=te!==void 0?te:"null",R+=O;}let G=l(String(z),S,y,w,E,A);if(R+=G!==void 0?G:"null",S.length-1>o){let te=S.length-o-1;R+=`${O}"... ${ur(te)} not stringified"`;}return E!==""&&(R+=`
${k}`),y.pop(),`[${R}]`}let B=Object.keys(S),q=B.length;if(q===0)return "{}";if(i<y.length+1)return '"[Object]"';let $="",N="";E!==""&&(A+=E,O=`,
${A}`,$=" ");let U=Math.min(q,o);s&&!Iu(S)&&(B=xu(B)),y.push(S);for(let I=0;I<U;I++){let z=B[I],G=l(z,S,y,w,E,A);G!==void 0&&(R+=`${N}${zt(z)}:${$}${G}`,N=O);}if(q>o){let I=q-o;R+=`${N}"...":${$}"${ur(I)} not stringified"`,N=O;}return E!==""&&N.length>1&&(R=`
${A}${R}
${k}`),y.pop(),`{${R}}`}case"number":return isFinite(S)?String(S):e?e(S):"null";case"boolean":return S===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(S);default:return e?e(S):void 0}}function f(h,m,y,w,E,A){switch(typeof m=="object"&&m!==null&&typeof m.toJSON=="function"&&(m=m.toJSON(h)),typeof m){case"string":return zt(m);case"object":{if(m===null)return "null";if(y.indexOf(m)!==-1)return r;let S=A,R="",O=",";if(Array.isArray(m)){if(m.length===0)return "[]";if(i<y.length+1)return '"[Array]"';y.push(m),E!==""&&(A+=E,R+=`
${A}`,O=`,
${A}`);let q=Math.min(m.length,o),$=0;for(;$<q-1;$++){let U=f(String($),m[$],y,w,E,A);R+=U!==void 0?U:"null",R+=O;}let N=f(String($),m[$],y,w,E,A);if(R+=N!==void 0?N:"null",m.length-1>o){let U=m.length-o-1;R+=`${O}"... ${ur(U)} not stringified"`;}return E!==""&&(R+=`
${S}`),y.pop(),`[${R}]`}y.push(m);let k="";E!==""&&(A+=E,O=`,
${A}`,k=" ");let B="";for(let q of w){let $=f(q,m[q],y,w,E,A);$!==void 0&&(R+=`${B}${zt(q)}:${k}${$}`,B=O);}return E!==""&&B.length>1&&(R=`
${A}${R}
${S}`),y.pop(),`{${R}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function p(h,m,y,w,E){switch(typeof m){case"string":return zt(m);case"object":{if(m===null)return "null";if(typeof m.toJSON=="function"){if(m=m.toJSON(h),typeof m!="object")return p(h,m,y,w,E);if(m===null)return "null"}if(y.indexOf(m)!==-1)return r;let A=E;if(Array.isArray(m)){if(m.length===0)return "[]";if(i<y.length+1)return '"[Array]"';y.push(m),E+=w;let $=`
${E}`,N=`,
${E}`,U=Math.min(m.length,o),I=0;for(;I<U-1;I++){let G=p(String(I),m[I],y,w,E);$+=G!==void 0?G:"null",$+=N;}let z=p(String(I),m[I],y,w,E);if($+=z!==void 0?z:"null",m.length-1>o){let G=m.length-o-1;$+=`${N}"... ${ur(G)} not stringified"`;}return $+=`
${A}`,y.pop(),`[${$}]`}let S=Object.keys(m),R=S.length;if(R===0)return "{}";if(i<y.length+1)return '"[Object]"';E+=w;let O=`,
${E}`,k="",B="",q=Math.min(R,o);Iu(m)&&(k+=rw(m,O,o),S=S.slice(m.length),q-=m.length,B=O),s&&(S=xu(S)),y.push(m);for(let $=0;$<q;$++){let N=S[$],U=p(N,m[N],y,w,E);U!==void 0&&(k+=`${B}${zt(N)}: ${U}`,B=O);}if(R>o){let $=R-o;k+=`${B}"...": "${ur($)} not stringified"`,B=O;}return B!==""&&(k=`
${E}${k}
${A}`),y.pop(),`{${k}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function u(h,m,y){switch(typeof m){case"string":return zt(m);case"object":{if(m===null)return "null";if(typeof m.toJSON=="function"){if(m=m.toJSON(h),typeof m!="object")return u(h,m,y);if(m===null)return "null"}if(y.indexOf(m)!==-1)return r;let w="";if(Array.isArray(m)){if(m.length===0)return "[]";if(i<y.length+1)return '"[Array]"';y.push(m);let O=Math.min(m.length,o),k=0;for(;k<O-1;k++){let q=u(String(k),m[k],y);w+=q!==void 0?q:"null",w+=",";}let B=u(String(k),m[k],y);if(w+=B!==void 0?B:"null",m.length-1>o){let q=m.length-o-1;w+=`,"... ${ur(q)} not stringified"`;}return y.pop(),`[${w}]`}let E=Object.keys(m),A=E.length;if(A===0)return "{}";if(i<y.length+1)return '"[Object]"';let S="",R=Math.min(A,o);Iu(m)&&(w+=rw(m,",",o),E=E.slice(m.length),R-=m.length,S=","),s&&(E=xu(E)),y.push(m);for(let O=0;O<R;O++){let k=E[O],B=u(k,m[k],y);B!==void 0&&(w+=`${S}${zt(k)}:${B}`,S=",");}if(A>o){let O=A-o;w+=`${S}"...":"${ur(O)} not stringified"`;}return y.pop(),`{${w}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function _(h,m,y){if(arguments.length>1){let w="";if(typeof y=="number"?w=" ".repeat(Math.min(y,10)):typeof y=="string"&&(w=y.slice(0,10)),m!=null){if(typeof m=="function")return l("",{"":h},[],m,w,"");if(Array.isArray(m))return f("",h,[],mk(m),w,"")}if(w.length!==0)return p("",h,[],w,"")}return u("",h,[])}return _}});var uw=x((SD,lw)=>{var Fu=Symbol.for("pino.metadata"),{levels:aw}=Ms(),yk=aw.info;function vk(t,e){let r=0;t=t||[],e=e||{dedupe:!1};let n=Object.create(aw);n.silent=1/0,e.levels&&typeof e.levels=="object"&&Object.keys(e.levels).forEach(u=>{n[u]=e.levels[u];});let s={write:i,add:l,flushSync:o,end:f,minLevel:0,streams:[],clone:p,[Fu]:!0,streamLevels:n};return Array.isArray(t)?t.forEach(l,s):l.call(s,t),t=null,s;function i(u){let _,h=this.lastLevel,{streams:m}=this,y=0,w;for(let E=wk(m.length,e.dedupe);Ek(E,m.length,e.dedupe);E=bk(E,e.dedupe))if(_=m[E],_.level<=h){if(y!==0&&y!==_.level)break;if(w=_.stream,w[Fu]){let{lastTime:A,lastMsg:S,lastObj:R,lastLogger:O}=this;w.lastLevel=h,w.lastTime=A,w.lastMsg=S,w.lastObj=R,w.lastLogger=O;}w.write(u),e.dedupe&&(y=_.level);}else if(!e.dedupe)break}function o(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync();}function l(u){if(!u)return s;let _=typeof u.write=="function"||u.stream,h=u.write?u:u.stream;if(!_)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:m,streamLevels:y}=this,w;typeof u.levelVal=="number"?w=u.levelVal:typeof u.level=="string"?w=y[u.level]:typeof u.level=="number"?w=u.level:w=yk;let E={stream:h,level:w,levelVal:void 0,id:r++};return m.unshift(E),m.sort(Sk),this.minLevel=m[0].level,s}function f(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync(),u.end();}function p(u){let _=new Array(this.streams.length);for(let h=0;h<_.length;h++)_[h]={level:u,stream:this.streams[h].stream};return {write:i,add:l,minLevel:u,streams:_,clone:p,flushSync:o,[Fu]:!0}}}function Sk(t,e){return t.level-e.level}function wk(t,e){return e?t-1:0}function bk(t,e){return e?t-1:t+1}function Ek(t,e,r){return r?t>=0:t<e}lw.exports=vk;});var bw=x((wD,st)=>{var Ak=Z("os"),gw=Kl(),Ck=Yl(),xk=iu(),yw=nS(),Ik=tw(),vw=Lr(),{configure:Rk}=ow(),{assertDefaultLevelFound:Pk,mappings:Sw,genLsCache:Fk,levels:Tk}=Ms(),{createArgsNormalizer:Ok,asChindings:Nk,buildSafeSonicBoom:cw,buildFormatters:Hk,stringify:Tu,normalizeDestFileDescriptor:fw,noop:kk}=$s(),{version:$k}=bu(),{chindingsSym:dw,redactFmtSym:Mk,serializersSym:pw,timeSym:Lk,timeSliceIndexSym:Dk,streamSym:qk,stringifySym:_w,stringifySafeSym:Ou,stringifiersSym:hw,setLevelSym:Uk,endSym:Bk,formatOptsSym:jk,messageKeySym:Wk,errorKeySym:zk,nestedKeySym:Gk,mixinSym:Vk,useOnlyCustomLevelsSym:Zk,formattersSym:mw,hooksSym:Xk,nestedKeyStrSym:Kk,mixinMergeStrategySym:Yk,msgPrefixSym:Jk}=vw,{epochTime:ww,nullTime:Qk}=yw,{pid:e$}=process,t$=Ak.hostname(),r$=gw.err,n$={level:"info",levels:Tk,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:e$,hostname:t$},serializers:Object.assign(Object.create(null),{err:r$}),formatters:Object.assign(Object.create(null),{bindings(t){return t},level(t,e){return {level:e}}}),hooks:{logMethod:void 0},timestamp:ww,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},i$=Ok(n$),s$=Object.assign(Object.create(null),gw);function Nu(...t){let e={},{opts:r,stream:n}=i$(e,Ck(),...t),{redact:s,crlf:i,serializers:o,timestamp:l,messageKey:f,errorKey:p,nestedKey:u,base:_,name:h,level:m,customLevels:y,mixin:w,mixinMergeStrategy:E,useOnlyCustomLevels:A,formatters:S,hooks:R,depthLimit:O,edgeLimit:k,onChild:B,msgPrefix:q}=r,$=Rk({maximumDepth:O,maximumBreadth:k}),N=Hk(S.level,S.bindings,S.log),U=Tu.bind({[Ou]:$}),I=s?xk(s,U):{},z=s?{stringify:I[Mk]}:{stringify:U},G="}"+(i?`\r
`:`
`),te=Nk.bind(null,{[dw]:"",[pw]:o,[hw]:I,[_w]:Tu,[Ou]:$,[mw]:N}),P="";_!==null&&(h===void 0?P=te(_):P=te(Object.assign({},_,{name:h})));let T=l instanceof Function?l:l?ww:Qk,J=T().indexOf(":")+1;if(A&&!y)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(w&&typeof w!="function")throw Error(`Unknown mixin type "${typeof w}" - expected "function"`);if(q&&typeof q!="string")throw Error(`Unknown msgPrefix type "${typeof q}" - expected "string"`);Pk(m,y,A);let Q=Sw(y,A);return Object.assign(e,{levels:Q,[Zk]:A,[qk]:n,[Lk]:T,[Dk]:J,[_w]:Tu,[Ou]:$,[hw]:I,[Bk]:G,[jk]:z,[Wk]:f,[zk]:p,[Gk]:u,[Kk]:u?`,${JSON.stringify(u)}:{`:"",[pw]:o,[Vk]:w,[Yk]:E,[dw]:P,[mw]:N,[Xk]:R,silent:kk,onChild:B,[Jk]:q}),Object.setPrototypeOf(e,Ik()),Fk(e),e[Uk](m),e}st.exports=Nu;st.exports.destination=(t=process.stdout.fd)=>typeof t=="object"?(t.dest=fw(t.dest||process.stdout.fd),cw(t)):cw({dest:fw(t),minLength:0});st.exports.transport=mu();st.exports.multistream=uw();st.exports.levels=Sw();st.exports.stdSerializers=s$;st.exports.stdTimeFunctions=Object.assign({},yw);st.exports.symbols=vw;st.exports.version=$k;st.exports.default=Nu;st.exports.pino=Nu;});var Dn=x(Gt=>{Object.defineProperty(Gt,"__esModule",{value:!0});Gt.Frequency=Gt.KeepLogFiles=void 0;(function(t){t[t.days=1]="days",t[t.fileCount=2]="fileCount";})(Gt.KeepLogFiles||(Gt.KeepLogFiles={}));(function(t){t[t.daily=1]="daily",t[t.minutes=2]="minutes",t[t.hours=3]="hours",t[t.date=4]="date",t[t.none=5]="none";})(Gt.Frequency||(Gt.Frequency={}));});var Aw=x(ku=>{Object.defineProperty(ku,"__esModule",{value:!0});var Ew=Dn(),Hu=class{static fileStreamRotatorOptions(e){return Object.assign(Object.assign({},{filename:"",verbose:!1,end_stream:!1,utc:!1,create_symlink:!1,symlink_name:"current.log"}),e)}static fileOptions(e){return Object.assign(Object.assign({},{flags:"a"}),e)}static auditSettings(e){let r={keepSettings:{type:Ew.KeepLogFiles.fileCount,amount:10},auditFilename:"audit.json",hashType:"md5",extension:"",files:[]};return Object.assign(Object.assign({},r),e)}static rotationSettings(e){let r={filename:"",frequency:Ew.Frequency.none,utc:!1};return Object.assign(Object.assign({},r),e)}static extractParam(e,r=!0){let n=e.toString().match(/(\w)$/),s={number:0};n?.length==2&&(s.letter=n[1].toLowerCase());let i=e.toString().match(/^(\d+)/);return i?.length==2&&(s.number=Number(i[1])),s}};ku.default=Hu;});var Ds=x(Ur=>{Object.defineProperty(Ur,"__esModule",{value:!0});Ur.Logger=Ur.makeDirectory=void 0;var l$=Z("fs"),u$=Z("path");function c$(t){if(t.trim()!==""){var e=u$.dirname(t);try{l$.mkdirSync(e,{recursive:!0});}catch(r){if(r.code!=="EEXIST")throw r}}}Ur.makeDirectory=c$;var $u=class t{constructor(){this.isVerbose=!1,this.allowDebug=!1;}static getInstance(e,r){return t.instance||(t.instance=new t,t.instance.isVerbose=e??!1,t.instance.allowDebug=r??!1),t.instance}static verbose(...e){t.getInstance().isVerbose&&console.log.apply(null,[new Date,"[FileStreamRotator:VERBOSE]",...e]);}static log(...e){console.log.apply(null,[new Date,"[FileStreamRotator]",...e]);}static debug(...e){t.getInstance().allowDebug&&console.debug.apply(null,[new Date,"[FileStreamRotator:DEBUG]",...e]);}};Ur.Logger=$u;});var xw=x(Lu=>{Object.defineProperty(Lu,"__esModule",{value:!0});var Cw=Z("fs"),Je=Dn(),fr=Ds(),Mu=class t{constructor(e,r){var n;switch(this.currentSize=0,this.lastDate="",this.fileIndx=0,this.settings=e,this.settings.frequency){case Je.Frequency.hours:this.settings.amount&&this.settings.amount<13?this.settings.amount&&this.settings.amount>0||(this.settings.amount=1):this.settings.amount=12,this.isFormatValidForHour()||(fr.Logger.log("Date format not suitable for X hours rotation. Changing date format to 'YMDHm'"),this.settings.format="YMDHm");break;case Je.Frequency.minutes:this.settings.amount&&this.settings.amount<31?this.settings.amount&&this.settings.amount>0||(this.settings.amount=1):this.settings.amount=30,this.isFormatValidForMinutes()||(this.settings.format="YMDHm",fr.Logger.log("Date format not suitable for X minutes rotation. Changing date format to 'YMDHm'"));break;case Je.Frequency.daily:this.isFormatValidForDaily()||(this.settings.format="YMD",fr.Logger.log("Date format not suitable for daily rotation. Changing date format to 'YMD'"));break}if(this.settings.frequency!==Je.Frequency.none&&!this.settings.filename.match("%DATE%")&&(this.settings.filename+=".%DATE%",fr.Logger.log("Appending date to the end of the filename")),this.lastDate=this.getDateString(),this.settings.maxSize&&r){let i=new Date(r.date),o=(n=this.settings.extension)!==null&&n!==void 0?n:"";if(fr.Logger.debug(this.getDateString(i)==this.getDateString(new Date),this.getDateString(i),this.getDateString(new Date)),this.getDateString(i)==this.getDateString(new Date)){let l=r.name.match(RegExp("(\\d+)"+o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));l&&(this.fileIndx=Number(l[1]));var s=this.getSizeForFile(this.getNewFilename());s&&(this.currentSize=s),this.lastDate=this.getDateString(i),fr.Logger.debug("LOADED LAST ENTRY",this.currentSize,this.lastDate,this.fileIndx);}else {var s=this.getSizeForFile(this.getNewFilename());s&&(this.currentSize=s),fr.Logger.debug("CURRENT FILE:",this.getNewFilename(),this.currentSize);}}}getSizeForFile(e){try{if(Cw.existsSync(e)){var r=Cw.statSync(this.getNewFilename());if(r)return r.size}}catch{return}}hasMaxSizeReached(){return this.settings.maxSize?this.currentSize>this.settings.maxSize:!1}shouldRotate(){let e=this.hasMaxSizeReached();switch(this.settings.frequency){case Je.Frequency.none:return e;case Je.Frequency.hours:case Je.Frequency.minutes:case Je.Frequency.date:case Je.Frequency.daily:default:let r=this.getDateString();return this.lastDate!=r?!0:e}}isFormatValidForDaily(){let e=new Date(2022,2,20,1,2,3),r=new Date(2022,2,20,23,55,45),n=new Date(2022,2,21,2,55,45);return this.getDateString(e)===this.getDateString(r)&&this.getDateString(e)!==this.getDateString(n)}isFormatValidForHour(){if(!this.settings.amount||this.settings.frequency!=Je.Frequency.hours)return !1;let e=new Date(2022,2,20,1,2,3),r=new Date(2022,2,20,2+this.settings.amount,55,45);return this.getDateString(e)!==this.getDateString(r)}isFormatValidForMinutes(){if(!this.settings.amount||this.settings.frequency!=Je.Frequency.minutes)return !1;let e=new Date(2022,2,20,1,2,3),r=new Date(2022,2,20,1,2+this.settings.amount,45);return this.getDateString(e)!==this.getDateString(r)}getDateString(e){let r=e||new Date,n=t.getDateComponents(r,this.settings.utc),s=this.settings.format;if(s){switch(this.settings.frequency){case Je.Frequency.hours:if(this.settings.amount){var i=Math.floor(n.hour/this.settings.amount)*this.settings.amount;n.hour=i,n.minute=0,n.second=0;}case Je.Frequency.minutes:if(this.settings.amount){var o=Math.floor(n.minute/this.settings.amount)*this.settings.amount;n.minute=o,n.second=0;}}return s?.replace(/D+/,n.day.toString().padStart(2,"0")).replace(/M+/,n.month.toString().padStart(2,"0")).replace(/Y+/,n.year.toString()).replace(/H+/,n.hour.toString().padStart(2,"0")).replace(/m+/,n.minute.toString().padStart(2,"0")).replace(/s+/,n.second.toString().padStart(2,"0")).replace(/A+/,n.hour>11?"PM":"AM")}return ""}getFilename(e,r){return e.replace("%DATE%",this.lastDate)+(this.settings.maxSize||this.fileIndx>0?"."+this.fileIndx:"")+(r||"")}getNewFilename(){return this.getFilename(this.settings.filename,this.settings.extension)}addBytes(e){this.currentSize+=e;}rotate(e=!1){return e?(this.fileIndx+=1,this.currentSize=0,this.lastDate=this.getDateString()):this.shouldRotate()&&(this.hasMaxSizeReached()?this.fileIndx+=1:this.fileIndx=0,this.currentSize=0,this.lastDate=this.getDateString()),this.getNewFilename()}static getDateComponents(e,r){return r?{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),utc:r,source:e}:{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),utc:r,source:e}}static createDate(e,r){return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second)}};Lu.default=Mu;});var Iw=x(Uu=>{Object.defineProperty(Uu,"__esModule",{value:!0});var qs=Z("fs"),f$=Z("path"),d$=Dn(),wt=Ds(),Du=Z("crypto"),qu=class{constructor(e,r){this.config=e,this.emitter=r,this.loadLog();}loadLog(){var e;if(!this.config.keepSettings||((e=this.config.keepSettings)===null||e===void 0?void 0:e.amount)==0||!this.config.auditFilename||this.config.auditFilename==""){wt.Logger.verbose("no existing audit settings found",this.config);return}try{let r=f$.resolve(this.config.auditFilename),n=JSON.parse(qs.readFileSync(r,{encoding:"utf-8"}));this.config.files=n.files;}catch(r){if(r.code!=="ENOENT"){wt.Logger.log("Failed to load config file",r);return}}}writeLog(){if(this.config.auditFilename)try{(0, wt.makeDirectory)(this.config.auditFilename),qs.writeFileSync(this.config.auditFilename,JSON.stringify(this.config,null,4));}catch(e){wt.Logger.verbose("ERROR: Failed to store log audit",e);}}addLog(e){var r;if(!this.config.keepSettings||((r=this.config.keepSettings)===null||r===void 0?void 0:r.amount)==0||!this.config.auditFilename||this.config.auditFilename==""){wt.Logger.verbose("audit log missing");return}if(this.config.files.findIndex(i=>i.name===e)!==-1){wt.Logger.debug("file already in the log",e);return}var n=Date.now();if(this.config.files.push({date:n,name:e,hash:Du.createHash(this.config.hashType).update(e+"LOG_FILE"+n).digest("hex")}),wt.Logger.debug(`added file ${e} to log`),this.config.keepSettings&&this.config.keepSettings.amount){if(this.config.keepSettings.type==d$.KeepLogFiles.days){let i=Date.now()-86400*this.config.keepSettings.amount*1e3,o=this.config.files.filter(l=>{if(l.date>=i)return !0;this.removeLog(l);});this.config.files=o;}else if(this.config.files.length>this.config.keepSettings.amount){var s=this.config.files.splice(-this.config.keepSettings.amount);this.config.files.length>0&&this.config.files.filter(i=>(this.removeLog(i),!1)),this.config.files=s;}}this.writeLog();}removeLog(e){if(e.hash===Du.createHash(this.config.hashType).update(e.name+"LOG_FILE"+e.date).digest("hex"))try{qs.existsSync(e.name)&&(wt.Logger.debug("removing log file",e.name),qs.unlinkSync(e.name),this.emitter.emit("logRemoved",e.name));}catch{wt.Logger.verbose("Could not remove old log file: ",e.name);}else wt.Logger.debug("incorrect hash",e.name,e.hash,Du.createHash(this.config.hashType).update(e.name+"LOG_FILE"+e.date).digest("hex"));}};Uu.default=qu;});var Pw=x(Wu=>{Object.defineProperty(Wu,"__esModule",{value:!0});var p$=Z("stream"),Br=Z("fs"),Bu=Z("path"),Pt=Dn(),Ft=Aw(),Rw=xw(),_$=Iw(),qn=Ds(),ju=class t extends p$.EventEmitter{constructor(e,r=!1){var n,s;super(),this.config={},this.config=this.parseOptions(e),qn.Logger.getInstance(e.verbose,r),this.auditManager=new _$.default((n=this.config.auditSettings)!==null&&n!==void 0?n:Ft.default.auditSettings({}),this);let i=this.auditManager.config.files.slice(-1).shift();this.rotator=new Rw.default((s=this.config.rotationSettings)!==null&&s!==void 0?s:Ft.default.rotationSettings({}),i),this.rotate();}static getStream(e){return new t(e)}parseOptions(e){var r,n,s,i;let o={};o.options=Ft.default.fileStreamRotatorOptions(e),o.fileOptions=Ft.default.fileOptions((r=e.file_options)!==null&&r!==void 0?r:{});let l=Ft.default.auditSettings({});if(e.audit_file&&(l.auditFilename=e.audit_file),e.audit_hash_type&&(l.hashType=e.audit_hash_type),e.extension&&(l.extension=e.extension),e.max_logs){let p=Ft.default.extractParam(e.max_logs);l.keepSettings={type:((n=p.letter)===null||n===void 0?void 0:n.toLowerCase())=="d"?Pt.KeepLogFiles.days:Pt.KeepLogFiles.fileCount,amount:p.number};}switch(o.auditSettings=l,o.rotationSettings=Ft.default.rotationSettings({filename:e.filename,extension:e.extension}),e.date_format&&!e.frequency?o.rotationSettings.frequency=Pt.Frequency.date:o.rotationSettings.frequency=Pt.Frequency.none,e.date_format&&(o.rotationSettings.format=e.date_format),o.rotationSettings.utc=(s=e.utc)!==null&&s!==void 0?s:!1,e.frequency){case"daily":o.rotationSettings.frequency=Pt.Frequency.daily;break;case"custom":case"date":o.rotationSettings.frequency=Pt.Frequency.date;break;case"test":o.rotationSettings.frequency=Pt.Frequency.minutes,o.rotationSettings.amount=1;break;default:if(e.frequency){let p=Ft.default.extractParam(e.frequency);!((i=p.letter)===null||i===void 0)&&i.match(/^([mh])$/)&&(o.rotationSettings.frequency=p.letter=="h"?Pt.Frequency.hours:Pt.Frequency.minutes,o.rotationSettings.amount=p.number);}}if(e.size){let p=Ft.default.extractParam(e.size);switch(p.letter){case"k":o.rotationSettings.maxSize=p.number*1024;break;case"m":o.rotationSettings.maxSize=p.number*1024*1024;break;case"g":o.rotationSettings.maxSize=p.number*1024*1024*1024;break}}this.rotator=new Rw.default(o.rotationSettings);this.rotator.getNewFilename();return o}rotate(e=!1){var r;let n=this.currentFile;this.rotator.rotate(e),this.currentFile=this.rotator.getNewFilename(),this.currentFile!=n&&(this.fs&&(((r=this.config.options)===null||r===void 0?void 0:r.end_stream)===!0?this.fs.end():this.fs.destroy()),n&&this.auditManager.addLog(n),this.createNewLog(this.currentFile),this.emit("new",this.currentFile),this.emit("rotate",n,this.currentFile,e));}createNewLog(e){var r;(0, qn.makeDirectory)(e),this.auditManager.addLog(e);let n={};this.config.fileOptions&&(n=this.config.fileOptions),this.fs=Br.createWriteStream(e,n),this.bubbleEvents(this.fs,e),!((r=this.config.options)===null||r===void 0)&&r.create_symlink&&this.createCurrentSymLink(e);}write(e,r){this.fs&&(this.rotator.shouldRotate()&&this.rotate(),this.fs.write(e,r??"utf8"),this.rotator.addBytes(Buffer.byteLength(e,r)),this.rotator.hasMaxSizeReached()&&this.rotate());}end(e){this.fs&&(this.fs.end(e),this.fs=void 0);}bubbleEvents(e,r){e.on("close",()=>{this.emit("close");}),e.on("finish",()=>{this.emit("finish");}),e.on("error",n=>{this.emit("error",n);}),e.on("open",n=>{this.emit("open",r);});}createCurrentSymLink(e){var r,n;if(!e)return;let s=(n=(r=this.config.options)===null||r===void 0?void 0:r.symlink_name)!==null&&n!==void 0?n:"current.log",i=Bu.dirname(e),o=Bu.basename(e),l=i+Bu.sep+s;try{if(Br.existsSync(l)){if(Br.lstatSync(l).isSymbolicLink()){Br.unlinkSync(l),Br.symlinkSync(o,l);return}qn.Logger.verbose("Could not create symlink file as file with the same name exists: ",l);}else Br.symlinkSync(o,l);}catch(f){qn.Logger.verbose("[Could not create symlink file: ",l," -> ",o),qn.Logger.debug("error creating sym link",l,f);}}test(){return {config:this.config,rotator:this.rotator}}};Wu.default=ju;});var Fw=x(Us=>{Object.defineProperty(Us,"__esModule",{value:!0});Us.getStream=void 0;var h$=Pw();function m$(t){return new h$.default(t)}Us.getStream=m$;});var kw=x((BD,Hw)=>{Hw.exports=function(){function t(n,s){function i(){this.constructor=n;}i.prototype=s.prototype,n.prototype=new i;}function e(n,s,i,o,l,f){this.message=n,this.expected=s,this.found=i,this.offset=o,this.line=l,this.column=f,this.name="SyntaxError";}t(e,Error);function r(n){var s=arguments.length>1?arguments[1]:{},i={},o={start:Nc},l=Nc,p=function(){return Jc},u=i,_="#",h={type:"literal",value:"#",description:'"#"'},m=void 0,y={type:"any",description:"any character"},w="[",E={type:"literal",value:"[",description:'"["'},A="]",S={type:"literal",value:"]",description:'"]"'},R=function(a){co(Oe("ObjectPath",a,Fe,Te));},O=function(a){co(Oe("ArrayPath",a,Fe,Te));},k=function(a,d){return a.concat(d)},B=function(a){return [a]},q=function(a){return a},$=".",N={type:"literal",value:".",description:'"."'},U="=",I={type:"literal",value:"=",description:'"="'},z=function(a,d){co(Oe("Assign",d,Fe,Te,a));},G=function(a){return a.join("")},te=function(a){return a.value},P='"""',T={type:"literal",value:'"""',description:'"\\"\\"\\""'},J=null,Q=function(a){return Oe("String",a.join(""),Fe,Te)},ie='"',Me={type:"literal",value:'"',description:'"\\""'},be="'''",Tt={type:"literal",value:"'''",description:`"'''"`},Vr="'",Ot={type:"literal",value:"'",description:`"'"`},ot=function(a){return a},oe=function(a){return a},_r="\\",no={type:"literal",value:"\\",description:'"\\\\"'},X=function(){return ""},pe="e",W={type:"literal",value:"e",description:'"e"'},ne="E",_e={type:"literal",value:"E",description:'"E"'},Pe=function(a,d){return Oe("Float",parseFloat(a+"e"+d),Fe,Te)},ye=function(a){return Oe("Float",parseFloat(a),Fe,Te)},Zt="+",Nt={type:"literal",value:"+",description:'"+"'},cc=function(a){return a.join("")},Zr="-",Xr={type:"literal",value:"-",description:'"-"'},fc=function(a){return "-"+a.join("")},Fb=function(a){return Oe("Integer",parseInt(a,10),Fe,Te)},dc="true",Tb={type:"literal",value:"true",description:'"true"'},Ob=function(){return Oe("Boolean",!0,Fe,Te)},pc="false",Nb={type:"literal",value:"false",description:'"false"'},Hb=function(){return Oe("Boolean",!1,Fe,Te)},kb=function(){return Oe("Array",[],Fe,Te)},$b=function(a){return Oe("Array",a?[a]:[],Fe,Te)},Mb=function(a){return Oe("Array",a,Fe,Te)},Lb=function(a,d){return Oe("Array",a.concat(d),Fe,Te)},_c=function(a){return a},hc=",",mc={type:"literal",value:",",description:'","'},Db="{",qb={type:"literal",value:"{",description:'"{"'},Ub="}",Bb={type:"literal",value:"}",description:'"}"'},jb=function(a){return Oe("InlineTable",a,Fe,Te)},gc=function(a,d){return Oe("InlineTableValue",d,Fe,Te,a)},Wb=function(a){return "."+a},zb=function(a){return a.join("")},Kr=":",Yr={type:"literal",value:":",description:'":"'},yc=function(a){return a.join("")},vc="T",Sc={type:"literal",value:"T",description:'"T"'},Gb="Z",Vb={type:"literal",value:"Z",description:'"Z"'},Zb=function(a,d){return Oe("Date",new Date(a+"T"+d+"Z"),Fe,Te)},Xb=function(a,d){return Oe("Date",new Date(a+"T"+d),Fe,Te)},Kb=/^[ \t]/,Yb={type:"class",value:"[ \\t]",description:"[ \\t]"},wc=`
`,bc={type:"literal",value:`
`,description:'"\\n"'},Jb="\r",Qb={type:"literal",value:"\r",description:'"\\r"'},eE=/^[0-9a-f]/i,tE={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},rE=/^[0-9]/,nE={type:"class",value:"[0-9]",description:"[0-9]"},iE="_",sE={type:"literal",value:"_",description:'"_"'},oE=function(){return ""},aE=/^[A-Za-z0-9_\-]/,lE={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},uE=function(a){return a.join("")},Ec='\\"',cE={type:"literal",value:'\\"',description:'"\\\\\\""'},fE=function(){return '"'},Ac="\\\\",dE={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},pE=function(){return "\\"},Cc="\\b",_E={type:"literal",value:"\\b",description:'"\\\\b"'},hE=function(){return "\b"},xc="\\t",mE={type:"literal",value:"\\t",description:'"\\\\t"'},gE=function(){return "	"},Ic="\\n",yE={type:"literal",value:"\\n",description:'"\\\\n"'},vE=function(){return `
`},Rc="\\f",SE={type:"literal",value:"\\f",description:'"\\\\f"'},wE=function(){return "\f"},Pc="\\r",bE={type:"literal",value:"\\r",description:'"\\\\r"'},EE=function(){return "\r"},Fc="\\U",AE={type:"literal",value:"\\U",description:'"\\\\U"'},Tc=function(a){return WE(a.join(""))},Oc="\\u",CE={type:"literal",value:"\\u",description:'"\\\\u"'},c=0,K=0,Jr=0,io={line:1,column:1,seenCR:!1},Zn=0,so=[],L=0,D={},Xn;if("startRule"in s){if(!(s.startRule in o))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');l=o[s.startRule];}function Fe(){return oo(K).line}function Te(){return oo(K).column}function oo(a){function d(g,v,b){var F,H;for(F=v;F<b;F++)H=n.charAt(F),H===`
`?(g.seenCR||g.line++,g.column=1,g.seenCR=!1):H==="\r"||H==="\u2028"||H==="\u2029"?(g.line++,g.column=1,g.seenCR=!0):(g.column++,g.seenCR=!1);}return Jr!==a&&(Jr>a&&(Jr=0,io={line:1,column:1,seenCR:!1}),d(io,Jr,a),Jr=a),io}function j(a){c<Zn||(c>Zn&&(Zn=c,so=[]),so.push(a));}function ao(a,d,g){function v(V){var re=1;for(V.sort(function(ce,le){return ce.description<le.description?-1:ce.description>le.description?1:0});re<V.length;)V[re-1]===V[re]?V.splice(re,1):re++;}function b(V,re){function ce(mr){function Ht(Xe){return Xe.charCodeAt(0).toString(16).toUpperCase()}return mr.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(Xe){return "\\x0"+Ht(Xe)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(Xe){return "\\x"+Ht(Xe)}).replace(/[\u0180-\u0FFF]/g,function(Xe){return "\\u0"+Ht(Xe)}).replace(/[\u1080-\uFFFF]/g,function(Xe){return "\\u"+Ht(Xe)})}var le=new Array(V.length),me,ve,Ze;for(Ze=0;Ze<V.length;Ze++)le[Ze]=V[Ze].description;return me=V.length>1?le.slice(0,-1).join(", ")+" or "+le[V.length-1]:le[0],ve=re?'"'+ce(re)+'"':"end of input","Expected "+me+" but "+ve+" found."}var F=oo(g),H=g<n.length?n.charAt(g):null;return d!==null&&v(d),new e(a!==null?a:b(d,H),d,H,g,F.line,F.column)}function Nc(){var a,d,g,v=c*49+0,b=D[v];if(b)return c=b.nextPos,b.result;for(a=c,d=[],g=Hc();g!==i;)d.push(g),g=Hc();return d!==i&&(K=a,d=p()),a=d,D[v]={nextPos:c,result:a},a}function Hc(){var a,d,g,v,b,F,H,V=c*49+1,re=D[V];if(re)return c=re.nextPos,re.result;for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=xE(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i){for(b=[],F=Kn();F!==i;)b.push(F),F=Kn();if(b!==i){if(F=[],H=et(),H!==i)for(;H!==i;)F.push(H),H=et();else F=u;F===i&&(F=Jn()),F!==i?(d=[d,g,v,b,F],a=d):(c=a,a=u);}else c=a,a=u;}else c=a,a=u;}else c=a,a=u;else c=a,a=u;if(a===i){if(a=c,d=[],g=Y(),g!==i)for(;g!==i;)d.push(g),g=Y();else d=u;if(d!==i){if(g=[],v=et(),v!==i)for(;v!==i;)g.push(v),v=et();else g=u;g===i&&(g=Jn()),g!==i?(d=[d,g],a=d):(c=a,a=u);}else c=a,a=u;a===i&&(a=et());}return D[V]={nextPos:c,result:a},a}function xE(){var a,d=c*49+2,g=D[d];return g?(c=g.nextPos,g.result):(a=Kn(),a===i&&(a=IE(),a===i&&(a=RE(),a===i&&(a=PE()))),D[d]={nextPos:c,result:a},a)}function Kn(){var a,d,g,v,b,F,H=c*49+3,V=D[H];if(V)return c=V.nextPos,V.result;if(a=c,n.charCodeAt(c)===35?(d=_,c++):(d=i,L===0&&j(h)),d!==i){for(g=[],v=c,b=c,L++,F=et(),F===i&&(F=Jn()),L--,F===i?b=m:(c=b,b=u),b!==i?(n.length>c?(F=n.charAt(c),c++):(F=i,L===0&&j(y)),F!==i?(b=[b,F],v=b):(c=v,v=u)):(c=v,v=u);v!==i;)g.push(v),v=c,b=c,L++,F=et(),F===i&&(F=Jn()),L--,F===i?b=m:(c=b,b=u),b!==i?(n.length>c?(F=n.charAt(c),c++):(F=i,L===0&&j(y)),F!==i?(b=[b,F],v=b):(c=v,v=u)):(c=v,v=u);g!==i?(d=[d,g],a=d):(c=a,a=u);}else c=a,a=u;return D[H]={nextPos:c,result:a},a}function IE(){var a,d,g,v,b,F,H=c*49+4,V=D[H];if(V)return c=V.nextPos,V.result;if(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i){for(g=[],v=Y();v!==i;)g.push(v),v=Y();if(g!==i)if(v=kc(),v!==i){for(b=[],F=Y();F!==i;)b.push(F),F=Y();b!==i?(n.charCodeAt(c)===93?(F=A,c++):(F=i,L===0&&j(S)),F!==i?(K=a,d=R(v),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;return D[H]={nextPos:c,result:a},a}function RE(){var a,d,g,v,b,F,H,V,re=c*49+5,ce=D[re];if(ce)return c=ce.nextPos,ce.result;if(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i)if(n.charCodeAt(c)===91?(g=w,c++):(g=i,L===0&&j(E)),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i)if(b=kc(),b!==i){for(F=[],H=Y();H!==i;)F.push(H),H=Y();F!==i?(n.charCodeAt(c)===93?(H=A,c++):(H=i,L===0&&j(S)),H!==i?(n.charCodeAt(c)===93?(V=A,c++):(V=i,L===0&&j(S)),V!==i?(K=a,d=O(b),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;return D[re]={nextPos:c,result:a},a}function kc(){var a,d,g,v=c*49+6,b=D[v];if(b)return c=b.nextPos,b.result;if(a=c,d=[],g=Mc(),g!==i)for(;g!==i;)d.push(g),g=Mc();else d=u;return d!==i?(g=$c(),g!==i?(K=a,d=k(d,g),a=d):(c=a,a=u)):(c=a,a=u),a===i&&(a=c,d=$c(),d!==i&&(K=a,d=B(d)),a=d),D[v]={nextPos:c,result:a},a}function $c(){var a,d,g,v,b,F=c*49+7,H=D[F];if(H)return c=H.nextPos,H.result;for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=Qr(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();v!==i?(K=a,d=q(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;if(a===i){for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=lo(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();v!==i?(K=a,d=q(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}return D[F]={nextPos:c,result:a},a}function Mc(){var a,d,g,v,b,F,H,V=c*49+8,re=D[V];if(re)return c=re.nextPos,re.result;for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=Qr(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i)if(n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),b!==i){for(F=[],H=Y();H!==i;)F.push(H),H=Y();F!==i?(K=a,d=q(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;if(a===i){for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=lo(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i)if(n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),b!==i){for(F=[],H=Y();H!==i;)F.push(H),H=Y();F!==i?(K=a,d=q(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;}return D[V]={nextPos:c,result:a},a}function PE(){var a,d,g,v,b,F,H=c*49+9,V=D[H];if(V)return c=V.nextPos,V.result;if(a=c,d=Qr(),d!==i){for(g=[],v=Y();v!==i;)g.push(v),v=Y();if(g!==i)if(n.charCodeAt(c)===61?(v=U,c++):(v=i,L===0&&j(I)),v!==i){for(b=[],F=Y();F!==i;)b.push(F),F=Y();b!==i?(F=hr(),F!==i?(K=a,d=z(d,F),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;if(a===i)if(a=c,d=lo(),d!==i){for(g=[],v=Y();v!==i;)g.push(v),v=Y();if(g!==i)if(n.charCodeAt(c)===61?(v=U,c++):(v=i,L===0&&j(I)),v!==i){for(b=[],F=Y();F!==i;)b.push(F),F=Y();b!==i?(F=hr(),F!==i?(K=a,d=z(d,F),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;return D[H]={nextPos:c,result:a},a}function Qr(){var a,d,g,v=c*49+10,b=D[v];if(b)return c=b.nextPos,b.result;if(a=c,d=[],g=Kc(),g!==i)for(;g!==i;)d.push(g),g=Kc();else d=u;return d!==i&&(K=a,d=G(d)),a=d,D[v]={nextPos:c,result:a},a}function lo(){var a,d,g=c*49+11,v=D[g];return v?(c=v.nextPos,v.result):(a=c,d=Lc(),d!==i&&(K=a,d=te(d)),a=d,a===i&&(a=c,d=Dc(),d!==i&&(K=a,d=te(d)),a=d),D[g]={nextPos:c,result:a},a)}function hr(){var a,d=c*49+12,g=D[d];return g?(c=g.nextPos,g.result):(a=FE(),a===i&&(a=UE(),a===i&&(a=HE(),a===i&&(a=kE(),a===i&&(a=$E(),a===i&&(a=ME(),a===i&&(a=LE())))))),D[d]={nextPos:c,result:a},a)}function FE(){var a,d=c*49+13,g=D[d];return g?(c=g.nextPos,g.result):(a=TE(),a===i&&(a=Lc(),a===i&&(a=OE(),a===i&&(a=Dc()))),D[d]={nextPos:c,result:a},a)}function TE(){var a,d,g,v,b,F=c*49+14,H=D[F];if(H)return c=H.nextPos,H.result;if(a=c,n.substr(c,3)===P?(d=P,c+=3):(d=i,L===0&&j(T)),d!==i)if(g=et(),g===i&&(g=J),g!==i){for(v=[],b=Bc();b!==i;)v.push(b),b=Bc();v!==i?(n.substr(c,3)===P?(b=P,c+=3):(b=i,L===0&&j(T)),b!==i?(K=a,d=Q(v),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;return D[F]={nextPos:c,result:a},a}function Lc(){var a,d,g,v,b=c*49+15,F=D[b];if(F)return c=F.nextPos,F.result;if(a=c,n.charCodeAt(c)===34?(d=ie,c++):(d=i,L===0&&j(Me)),d!==i){for(g=[],v=qc();v!==i;)g.push(v),v=qc();g!==i?(n.charCodeAt(c)===34?(v=ie,c++):(v=i,L===0&&j(Me)),v!==i?(K=a,d=Q(g),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;return D[b]={nextPos:c,result:a},a}function OE(){var a,d,g,v,b,F=c*49+16,H=D[F];if(H)return c=H.nextPos,H.result;if(a=c,n.substr(c,3)===be?(d=be,c+=3):(d=i,L===0&&j(Tt)),d!==i)if(g=et(),g===i&&(g=J),g!==i){for(v=[],b=jc();b!==i;)v.push(b),b=jc();v!==i?(n.substr(c,3)===be?(b=be,c+=3):(b=i,L===0&&j(Tt)),b!==i?(K=a,d=Q(v),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;return D[F]={nextPos:c,result:a},a}function Dc(){var a,d,g,v,b=c*49+17,F=D[b];if(F)return c=F.nextPos,F.result;if(a=c,n.charCodeAt(c)===39?(d=Vr,c++):(d=i,L===0&&j(Ot)),d!==i){for(g=[],v=Uc();v!==i;)g.push(v),v=Uc();g!==i?(n.charCodeAt(c)===39?(v=Vr,c++):(v=i,L===0&&j(Ot)),v!==i?(K=a,d=Q(g),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;return D[b]={nextPos:c,result:a},a}function qc(){var a,d,g,v=c*49+18,b=D[v];return b?(c=b.nextPos,b.result):(a=Yc(),a===i&&(a=c,d=c,L++,n.charCodeAt(c)===34?(g=ie,c++):(g=i,L===0&&j(Me)),L--,g===i?d=m:(c=d,d=u),d!==i?(n.length>c?(g=n.charAt(c),c++):(g=i,L===0&&j(y)),g!==i?(K=a,d=ot(g),a=d):(c=a,a=u)):(c=a,a=u)),D[v]={nextPos:c,result:a},a)}function Uc(){var a,d,g,v=c*49+19,b=D[v];return b?(c=b.nextPos,b.result):(a=c,d=c,L++,n.charCodeAt(c)===39?(g=Vr,c++):(g=i,L===0&&j(Ot)),L--,g===i?d=m:(c=d,d=u),d!==i?(n.length>c?(g=n.charAt(c),c++):(g=i,L===0&&j(y)),g!==i?(K=a,d=ot(g),a=d):(c=a,a=u)):(c=a,a=u),D[v]={nextPos:c,result:a},a)}function Bc(){var a,d,g,v=c*49+20,b=D[v];return b?(c=b.nextPos,b.result):(a=Yc(),a===i&&(a=NE(),a===i&&(a=c,d=c,L++,n.substr(c,3)===P?(g=P,c+=3):(g=i,L===0&&j(T)),L--,g===i?d=m:(c=d,d=u),d!==i?(n.length>c?(g=n.charAt(c),c++):(g=i,L===0&&j(y)),g!==i?(K=a,d=oe(g),a=d):(c=a,a=u)):(c=a,a=u))),D[v]={nextPos:c,result:a},a)}function NE(){var a,d,g,v,b,F=c*49+21,H=D[F];if(H)return c=H.nextPos,H.result;if(a=c,n.charCodeAt(c)===92?(d=_r,c++):(d=i,L===0&&j(no)),d!==i)if(g=et(),g!==i){for(v=[],b=Xc();b!==i;)v.push(b),b=Xc();v!==i?(K=a,d=X(),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;return D[F]={nextPos:c,result:a},a}function jc(){var a,d,g,v=c*49+22,b=D[v];return b?(c=b.nextPos,b.result):(a=c,d=c,L++,n.substr(c,3)===be?(g=be,c+=3):(g=i,L===0&&j(Tt)),L--,g===i?d=m:(c=d,d=u),d!==i?(n.length>c?(g=n.charAt(c),c++):(g=i,L===0&&j(y)),g!==i?(K=a,d=ot(g),a=d):(c=a,a=u)):(c=a,a=u),D[v]={nextPos:c,result:a},a)}function HE(){var a,d,g,v,b=c*49+23,F=D[b];return F?(c=F.nextPos,F.result):(a=c,d=Wc(),d===i&&(d=uo()),d!==i?(n.charCodeAt(c)===101?(g=pe,c++):(g=i,L===0&&j(W)),g===i&&(n.charCodeAt(c)===69?(g=ne,c++):(g=i,L===0&&j(_e))),g!==i?(v=uo(),v!==i?(K=a,d=Pe(d,v),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u),a===i&&(a=c,d=Wc(),d!==i&&(K=a,d=ye(d)),a=d),D[b]={nextPos:c,result:a},a)}function Wc(){var a,d,g,v,b,F,H=c*49+24,V=D[H];return V?(c=V.nextPos,V.result):(a=c,n.charCodeAt(c)===43?(d=Zt,c++):(d=i,L===0&&j(Nt)),d===i&&(d=J),d!==i?(g=c,v=en(),v!==i?(n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),b!==i?(F=en(),F!==i?(v=[v,b,F],g=v):(c=g,g=u)):(c=g,g=u)):(c=g,g=u),g!==i?(K=a,d=cc(g),a=d):(c=a,a=u)):(c=a,a=u),a===i&&(a=c,n.charCodeAt(c)===45?(d=Zr,c++):(d=i,L===0&&j(Xr)),d!==i?(g=c,v=en(),v!==i?(n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),b!==i?(F=en(),F!==i?(v=[v,b,F],g=v):(c=g,g=u)):(c=g,g=u)):(c=g,g=u),g!==i?(K=a,d=fc(g),a=d):(c=a,a=u)):(c=a,a=u)),D[H]={nextPos:c,result:a},a)}function kE(){var a,d,g=c*49+25,v=D[g];return v?(c=v.nextPos,v.result):(a=c,d=uo(),d!==i&&(K=a,d=Fb(d)),a=d,D[g]={nextPos:c,result:a},a)}function uo(){var a,d,g,v,b,F=c*49+26,H=D[F];if(H)return c=H.nextPos,H.result;if(a=c,n.charCodeAt(c)===43?(d=Zt,c++):(d=i,L===0&&j(Nt)),d===i&&(d=J),d!==i){if(g=[],v=ue(),v!==i)for(;v!==i;)g.push(v),v=ue();else g=u;g!==i?(v=c,L++,n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),L--,b===i?v=m:(c=v,v=u),v!==i?(K=a,d=cc(g),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;if(a===i)if(a=c,n.charCodeAt(c)===45?(d=Zr,c++):(d=i,L===0&&j(Xr)),d!==i){if(g=[],v=ue(),v!==i)for(;v!==i;)g.push(v),v=ue();else g=u;g!==i?(v=c,L++,n.charCodeAt(c)===46?(b=$,c++):(b=i,L===0&&j(N)),L--,b===i?v=m:(c=v,v=u),v!==i?(K=a,d=fc(g),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;return D[F]={nextPos:c,result:a},a}function $E(){var a,d,g=c*49+27,v=D[g];return v?(c=v.nextPos,v.result):(a=c,n.substr(c,4)===dc?(d=dc,c+=4):(d=i,L===0&&j(Tb)),d!==i&&(K=a,d=Ob()),a=d,a===i&&(a=c,n.substr(c,5)===pc?(d=pc,c+=5):(d=i,L===0&&j(Nb)),d!==i&&(K=a,d=Hb()),a=d),D[g]={nextPos:c,result:a},a)}function ME(){var a,d,g,v,b,F=c*49+28,H=D[F];if(H)return c=H.nextPos,H.result;if(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i){for(g=[],v=Qe();v!==i;)g.push(v),v=Qe();g!==i?(n.charCodeAt(c)===93?(v=A,c++):(v=i,L===0&&j(S)),v!==i?(K=a,d=kb(),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;if(a===i&&(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i?(g=zc(),g===i&&(g=J),g!==i?(n.charCodeAt(c)===93?(v=A,c++):(v=i,L===0&&j(S)),v!==i?(K=a,d=$b(g),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u),a===i)){if(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i){if(g=[],v=Yn(),v!==i)for(;v!==i;)g.push(v),v=Yn();else g=u;g!==i?(n.charCodeAt(c)===93?(v=A,c++):(v=i,L===0&&j(S)),v!==i?(K=a,d=Mb(g),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;if(a===i)if(a=c,n.charCodeAt(c)===91?(d=w,c++):(d=i,L===0&&j(E)),d!==i){if(g=[],v=Yn(),v!==i)for(;v!==i;)g.push(v),v=Yn();else g=u;g!==i?(v=zc(),v!==i?(n.charCodeAt(c)===93?(b=A,c++):(b=i,L===0&&j(S)),b!==i?(K=a,d=Lb(g,v),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;}return D[F]={nextPos:c,result:a},a}function zc(){var a,d,g,v,b,F=c*49+29,H=D[F];if(H)return c=H.nextPos,H.result;for(a=c,d=[],g=Qe();g!==i;)d.push(g),g=Qe();if(d!==i)if(g=hr(),g!==i){for(v=[],b=Qe();b!==i;)v.push(b),b=Qe();v!==i?(K=a,d=_c(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;return D[F]={nextPos:c,result:a},a}function Yn(){var a,d,g,v,b,F,H,V=c*49+30,re=D[V];if(re)return c=re.nextPos,re.result;for(a=c,d=[],g=Qe();g!==i;)d.push(g),g=Qe();if(d!==i)if(g=hr(),g!==i){for(v=[],b=Qe();b!==i;)v.push(b),b=Qe();if(v!==i)if(n.charCodeAt(c)===44?(b=hc,c++):(b=i,L===0&&j(mc)),b!==i){for(F=[],H=Qe();H!==i;)F.push(H),H=Qe();F!==i?(K=a,d=_c(g),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;return D[V]={nextPos:c,result:a},a}function Qe(){var a,d=c*49+31,g=D[d];return g?(c=g.nextPos,g.result):(a=Y(),a===i&&(a=et(),a===i&&(a=Kn())),D[d]={nextPos:c,result:a},a)}function LE(){var a,d,g,v,b,F,H=c*49+32,V=D[H];if(V)return c=V.nextPos,V.result;if(a=c,n.charCodeAt(c)===123?(d=Db,c++):(d=i,L===0&&j(qb)),d!==i){for(g=[],v=Y();v!==i;)g.push(v),v=Y();if(g!==i){for(v=[],b=Gc();b!==i;)v.push(b),b=Gc();if(v!==i){for(b=[],F=Y();F!==i;)b.push(F),F=Y();b!==i?(n.charCodeAt(c)===125?(F=Ub,c++):(F=i,L===0&&j(Bb)),F!==i?(K=a,d=jb(v),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;}else c=a,a=u;}else c=a,a=u;return D[H]={nextPos:c,result:a},a}function Gc(){var a,d,g,v,b,F,H,V,re,ce,le,me=c*49+33,ve=D[me];if(ve)return c=ve.nextPos,ve.result;for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=Qr(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i)if(n.charCodeAt(c)===61?(b=U,c++):(b=i,L===0&&j(I)),b!==i){for(F=[],H=Y();H!==i;)F.push(H),H=Y();if(F!==i)if(H=hr(),H!==i){for(V=[],re=Y();re!==i;)V.push(re),re=Y();if(V!==i)if(n.charCodeAt(c)===44?(re=hc,c++):(re=i,L===0&&j(mc)),re!==i){for(ce=[],le=Y();le!==i;)ce.push(le),le=Y();ce!==i?(K=a,d=gc(g,H),a=d):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;if(a===i){for(a=c,d=[],g=Y();g!==i;)d.push(g),g=Y();if(d!==i)if(g=Qr(),g!==i){for(v=[],b=Y();b!==i;)v.push(b),b=Y();if(v!==i)if(n.charCodeAt(c)===61?(b=U,c++):(b=i,L===0&&j(I)),b!==i){for(F=[],H=Y();H!==i;)F.push(H),H=Y();F!==i?(H=hr(),H!==i?(K=a,d=gc(g,H),a=d):(c=a,a=u)):(c=a,a=u);}else c=a,a=u;else c=a,a=u;}else c=a,a=u;else c=a,a=u;}return D[me]={nextPos:c,result:a},a}function Vc(){var a,d,g,v=c*49+34,b=D[v];return b?(c=b.nextPos,b.result):(a=c,n.charCodeAt(c)===46?(d=$,c++):(d=i,L===0&&j(N)),d!==i?(g=en(),g!==i?(K=a,d=Wb(g),a=d):(c=a,a=u)):(c=a,a=u),D[v]={nextPos:c,result:a},a)}function Zc(){var a,d,g,v,b,F,H,V,re,ce,le,me,ve=c*49+35,Ze=D[ve];return Ze?(c=Ze.nextPos,Ze.result):(a=c,d=c,g=ue(),g!==i?(v=ue(),v!==i?(b=ue(),b!==i?(F=ue(),F!==i?(n.charCodeAt(c)===45?(H=Zr,c++):(H=i,L===0&&j(Xr)),H!==i?(V=ue(),V!==i?(re=ue(),re!==i?(n.charCodeAt(c)===45?(ce=Zr,c++):(ce=i,L===0&&j(Xr)),ce!==i?(le=ue(),le!==i?(me=ue(),me!==i?(g=[g,v,b,F,H,V,re,ce,le,me],d=g):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u),d!==i&&(K=a,d=zb(d)),a=d,D[ve]={nextPos:c,result:a},a)}function DE(){var a,d,g,v,b,F,H,V,re,ce,le,me=c*49+36,ve=D[me];return ve?(c=ve.nextPos,ve.result):(a=c,d=c,g=ue(),g!==i?(v=ue(),v!==i?(n.charCodeAt(c)===58?(b=Kr,c++):(b=i,L===0&&j(Yr)),b!==i?(F=ue(),F!==i?(H=ue(),H!==i?(n.charCodeAt(c)===58?(V=Kr,c++):(V=i,L===0&&j(Yr)),V!==i?(re=ue(),re!==i?(ce=ue(),ce!==i?(le=Vc(),le===i&&(le=J),le!==i?(g=[g,v,b,F,H,V,re,ce,le],d=g):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u),d!==i&&(K=a,d=yc(d)),a=d,D[me]={nextPos:c,result:a},a)}function qE(){var a,d,g,v,b,F,H,V,re,ce,le,me,ve,Ze,mr,Ht,Xe,Qc=c*49+37,fo=D[Qc];return fo?(c=fo.nextPos,fo.result):(a=c,d=c,g=ue(),g!==i?(v=ue(),v!==i?(n.charCodeAt(c)===58?(b=Kr,c++):(b=i,L===0&&j(Yr)),b!==i?(F=ue(),F!==i?(H=ue(),H!==i?(n.charCodeAt(c)===58?(V=Kr,c++):(V=i,L===0&&j(Yr)),V!==i?(re=ue(),re!==i?(ce=ue(),ce!==i?(le=Vc(),le===i&&(le=J),le!==i?(n.charCodeAt(c)===45?(me=Zr,c++):(me=i,L===0&&j(Xr)),me===i&&(n.charCodeAt(c)===43?(me=Zt,c++):(me=i,L===0&&j(Nt))),me!==i?(ve=ue(),ve!==i?(Ze=ue(),Ze!==i?(n.charCodeAt(c)===58?(mr=Kr,c++):(mr=i,L===0&&j(Yr)),mr!==i?(Ht=ue(),Ht!==i?(Xe=ue(),Xe!==i?(g=[g,v,b,F,H,V,re,ce,le,me,ve,Ze,mr,Ht,Xe],d=g):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u)):(c=d,d=u),d!==i&&(K=a,d=yc(d)),a=d,D[Qc]={nextPos:c,result:a},a)}function UE(){var a,d,g,v,b,F=c*49+38,H=D[F];return H?(c=H.nextPos,H.result):(a=c,d=Zc(),d!==i?(n.charCodeAt(c)===84?(g=vc,c++):(g=i,L===0&&j(Sc)),g!==i?(v=DE(),v!==i?(n.charCodeAt(c)===90?(b=Gb,c++):(b=i,L===0&&j(Vb)),b!==i?(K=a,d=Zb(d,v),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u)):(c=a,a=u),a===i&&(a=c,d=Zc(),d!==i?(n.charCodeAt(c)===84?(g=vc,c++):(g=i,L===0&&j(Sc)),g!==i?(v=qE(),v!==i?(K=a,d=Xb(d,v),a=d):(c=a,a=u)):(c=a,a=u)):(c=a,a=u)),D[F]={nextPos:c,result:a},a)}function Y(){var a,d=c*49+39,g=D[d];return g?(c=g.nextPos,g.result):(Kb.test(n.charAt(c))?(a=n.charAt(c),c++):(a=i,L===0&&j(Yb)),D[d]={nextPos:c,result:a},a)}function et(){var a,d,g,v=c*49+40,b=D[v];return b?(c=b.nextPos,b.result):(n.charCodeAt(c)===10?(a=wc,c++):(a=i,L===0&&j(bc)),a===i&&(a=c,n.charCodeAt(c)===13?(d=Jb,c++):(d=i,L===0&&j(Qb)),d!==i?(n.charCodeAt(c)===10?(g=wc,c++):(g=i,L===0&&j(bc)),g!==i?(d=[d,g],a=d):(c=a,a=u)):(c=a,a=u)),D[v]={nextPos:c,result:a},a)}function Xc(){var a,d=c*49+41,g=D[d];return g?(c=g.nextPos,g.result):(a=et(),a===i&&(a=Y()),D[d]={nextPos:c,result:a},a)}function Jn(){var a,d,g=c*49+42,v=D[g];return v?(c=v.nextPos,v.result):(a=c,L++,n.length>c?(d=n.charAt(c),c++):(d=i,L===0&&j(y)),L--,d===i?a=m:(c=a,a=u),D[g]={nextPos:c,result:a},a)}function tt(){var a,d=c*49+43,g=D[d];return g?(c=g.nextPos,g.result):(eE.test(n.charAt(c))?(a=n.charAt(c),c++):(a=i,L===0&&j(tE)),D[d]={nextPos:c,result:a},a)}function ue(){var a,d,g=c*49+44,v=D[g];return v?(c=v.nextPos,v.result):(rE.test(n.charAt(c))?(a=n.charAt(c),c++):(a=i,L===0&&j(nE)),a===i&&(a=c,n.charCodeAt(c)===95?(d=iE,c++):(d=i,L===0&&j(sE)),d!==i&&(K=a,d=oE()),a=d),D[g]={nextPos:c,result:a},a)}function Kc(){var a,d=c*49+45,g=D[d];return g?(c=g.nextPos,g.result):(aE.test(n.charAt(c))?(a=n.charAt(c),c++):(a=i,L===0&&j(lE)),D[d]={nextPos:c,result:a},a)}function en(){var a,d,g,v=c*49+46,b=D[v];if(b)return c=b.nextPos,b.result;if(a=c,d=[],g=ue(),g!==i)for(;g!==i;)d.push(g),g=ue();else d=u;return d!==i&&(K=a,d=uE(d)),a=d,D[v]={nextPos:c,result:a},a}function Yc(){var a,d,g=c*49+47,v=D[g];return v?(c=v.nextPos,v.result):(a=c,n.substr(c,2)===Ec?(d=Ec,c+=2):(d=i,L===0&&j(cE)),d!==i&&(K=a,d=fE()),a=d,a===i&&(a=c,n.substr(c,2)===Ac?(d=Ac,c+=2):(d=i,L===0&&j(dE)),d!==i&&(K=a,d=pE()),a=d,a===i&&(a=c,n.substr(c,2)===Cc?(d=Cc,c+=2):(d=i,L===0&&j(_E)),d!==i&&(K=a,d=hE()),a=d,a===i&&(a=c,n.substr(c,2)===xc?(d=xc,c+=2):(d=i,L===0&&j(mE)),d!==i&&(K=a,d=gE()),a=d,a===i&&(a=c,n.substr(c,2)===Ic?(d=Ic,c+=2):(d=i,L===0&&j(yE)),d!==i&&(K=a,d=vE()),a=d,a===i&&(a=c,n.substr(c,2)===Rc?(d=Rc,c+=2):(d=i,L===0&&j(SE)),d!==i&&(K=a,d=wE()),a=d,a===i&&(a=c,n.substr(c,2)===Pc?(d=Pc,c+=2):(d=i,L===0&&j(bE)),d!==i&&(K=a,d=EE()),a=d,a===i&&(a=BE()))))))),D[g]={nextPos:c,result:a},a)}function BE(){var a,d,g,v,b,F,H,V,re,ce,le,me=c*49+48,ve=D[me];return ve?(c=ve.nextPos,ve.result):(a=c,n.substr(c,2)===Fc?(d=Fc,c+=2):(d=i,L===0&&j(AE)),d!==i?(g=c,v=tt(),v!==i?(b=tt(),b!==i?(F=tt(),F!==i?(H=tt(),H!==i?(V=tt(),V!==i?(re=tt(),re!==i?(ce=tt(),ce!==i?(le=tt(),le!==i?(v=[v,b,F,H,V,re,ce,le],g=v):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u),g!==i?(K=a,d=Tc(g),a=d):(c=a,a=u)):(c=a,a=u),a===i&&(a=c,n.substr(c,2)===Oc?(d=Oc,c+=2):(d=i,L===0&&j(CE)),d!==i?(g=c,v=tt(),v!==i?(b=tt(),b!==i?(F=tt(),F!==i?(H=tt(),H!==i?(v=[v,b,F,H],g=v):(c=g,g=u)):(c=g,g=u)):(c=g,g=u)):(c=g,g=u),g!==i?(K=a,d=Tc(g),a=d):(c=a,a=u)):(c=a,a=u)),D[me]={nextPos:c,result:a},a)}var Jc=[];function jE(a,d,g){var v=new Error(a);throw v.line=d,v.column=g,v}function co(a){Jc.push(a);}function Oe(a,d,g,v,b){var F={type:a,value:d,line:g(),column:v()};return b&&(F.key=b),F}function WE(a,d,g){var v=parseInt("0x"+a);if(!isFinite(v)||Math.floor(v)!=v||v<0||v>1114111||v>55295&&v<57344)jE("Invalid Unicode escape code: "+a,d,g);else return zE(v)}function zE(){var a=16384,d=[],g,v,b=-1,F=arguments.length;if(!F)return "";for(var H="";++b<F;){var V=Number(arguments[b]);V<=65535?d.push(V):(V-=65536,g=(V>>10)+55296,v=V%1024+56320,d.push(g,v)),(b+1==F||d.length>a)&&(H+=String.fromCharCode.apply(null,d),d.length=0);}return H}if(Xn=l(),Xn!==i&&c===n.length)return Xn;throw Xn!==i&&c<n.length&&j({type:"end",description:"end of input"}),ao(null,so,Zn)}return {SyntaxError:e,parse:r}}();});var Mw=x((jD,$w)=>{function S$(t){var e=[],r=[],n="",s=Object.create(null),i=s;return l(t);function l(S){for(var R,O=0;O<S.length;O++)switch(R=S[O],R.type){case"Assign":p(R);break;case"ObjectPath":m(R);break;case"ArrayPath":y(R);break}return s}function f(S,R,O){var k=new Error(S);throw k.line=R,k.column=O,k}function p(S){var R=S.key,O=S.value,k=S.line,B=S.column,q;n?q=n+"."+R:q=R,typeof i[R]<"u"&&f("Cannot redefine existing key '"+q+"'.",k,B),i[R]=_(O),u(q)||(e.push(q),r.push(q));}function u(S){return e.indexOf(S)!==-1}function _(S){return S.type==="Array"?E(S.value):S.type==="InlineTable"?h(S.value):S.value}function h(S){for(var R=Object.create(null),O=0;O<S.length;O++){var k=S[O];k.value.type==="InlineTable"?R[k.key]=h(k.value.value):k.type==="InlineTableValue"&&(R[k.key]=_(k.value));}return R}function m(S){var R=S.value,O=R.map(A).join("."),k=S.line,B=S.column;u(O)&&f("Cannot redefine existing key '"+R+"'.",k,B),e.push(O),i=w(s,R,Object.create(null),k,B),n=R;}function y(S){var R=S.value,O=R.map(A).join("."),k=S.line,B=S.column;if(u(O)||e.push(O),e=e.filter(function($){return $.indexOf(O)!==0}),e.push(O),i=w(s,R,[],k,B),n=O,i instanceof Array){var q=Object.create(null);i.push(q),i=q;}else f("Cannot redefine existing key '"+R+"'.",k,B);}function w(S,R,O,k,B){for(var q=[],$="",N=R.join("."),U=S,I=0;I<R.length;I++){var z=R[I];q.push(z),$=q.join("."),typeof U[z]>"u"?I===R.length-1?U[z]=O:U[z]=Object.create(null):I!==R.length-1&&r.indexOf($)>-1&&f("Cannot redefine existing key '"+$+"'.",k,B),U=U[z],U instanceof Array&&U.length&&I<R.length-1&&(U=U[U.length-1]);}return U}function E(S){for(var R=null,O=0;O<S.length;O++){var k=S[O];R===null?R=k.type:k.type!==R&&f("Cannot add value of type "+k.type+" to array of type "+R+".",k.line,k.column);}return S.map(_)}function A(S){return S.indexOf(".")>-1?'"'+S+'"':S}}$w.exports={compile:S$};});var Dw=x((WD,Lw)=>{var w$=kw(),b$=Mw();Lw.exports={parse:function(t){var e=w$.parse(t.toString());return b$.compile(e)}};});var Qw=x((dr,Jw)=>{var Ju=Z("crypto");dr=Jw.exports=Wn;function Wn(t,e){return e=Kw(t,e),F$(t,e)}dr.sha1=function(t){return Wn(t)};dr.keys=function(t){return Wn(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};dr.MD5=function(t){return Wn(t,{algorithm:"md5",encoding:"hex"})};dr.keysMD5=function(t){return Wn(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var zr=Ju.getHashes?Ju.getHashes().slice():["sha1","md5"];zr.push("passthrough");var Zw=["buffer","hex","binary","base64"];function Kw(t,e){e=e||{};var r={};if(r.algorithm=e.algorithm||"sha1",r.encoding=e.encoding||"hex",r.excludeValues=!!e.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=e.ignoreUnknown===!0,r.respectType=e.respectType!==!1,r.respectFunctionNames=e.respectFunctionNames!==!1,r.respectFunctionProperties=e.respectFunctionProperties!==!1,r.unorderedArrays=e.unorderedArrays===!0,r.unorderedSets=e.unorderedSets!==!1,r.unorderedObjects=e.unorderedObjects!==!1,r.replacer=e.replacer||void 0,r.excludeKeys=e.excludeKeys||void 0,typeof t>"u")throw new Error("Object argument required.");for(var n=0;n<zr.length;++n)zr[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=zr[n]);if(zr.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+zr.join(", "));if(Zw.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+Zw.join(", "));return r}function Xw(t){if(typeof t!="function")return !1;var e=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return e.exec(Function.prototype.toString.call(t))!=null}function F$(t,e){var r;e.algorithm!=="passthrough"?r=Ju.createHash(e.algorithm):r=new Yw,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=Qu(e,r);if(n.dispatch(t),r.update||r.end(""),r.digest)return r.digest(e.encoding==="buffer"?void 0:e.encoding);var s=r.read();return e.encoding==="buffer"?s:s.toString(e.encoding)}dr.writeToStream=function(t,e,r){return typeof r>"u"&&(r=e,e={}),e=Kw(t,e),Qu(e,r).dispatch(t)};function Qu(t,e,r){r=r||[];var n=function(s){return e.update?e.update(s,"utf8"):e.write(s,"utf8")};return {dispatch:function(s){t.replacer&&(s=t.replacer(s));var i=typeof s;return s===null&&(i="null"),this["_"+i](s)},_object:function(s){var i=/\[object (.*)\]/i,o=Object.prototype.toString.call(s),l=i.exec(o);l?l=l[1]:l="unknown:["+o+"]",l=l.toLowerCase();var f=null;if((f=r.indexOf(s))>=0)return this.dispatch("[CIRCULAR:"+f+"]");if(r.push(s),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(s))return n("buffer:"),n(s);if(l!=="object"&&l!=="function"&&l!=="asyncfunction")if(this["_"+l])this["_"+l](s);else {if(t.ignoreUnknown)return n("["+l+"]");throw new Error('Unknown object type "'+l+'"')}else {var p=Object.keys(s);t.unorderedObjects&&(p=p.sort()),t.respectType!==!1&&!Xw(s)&&p.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(p=p.filter(function(_){return !t.excludeKeys(_)})),n("object:"+p.length+":");var u=this;return p.forEach(function(_){u.dispatch(_),n(":"),t.excludeValues||u.dispatch(s[_]),n(",");})}},_array:function(s,i){i=typeof i<"u"?i:t.unorderedArrays!==!1;var o=this;if(n("array:"+s.length+":"),!i||s.length<=1)return s.forEach(function(p){return o.dispatch(p)});var l=[],f=s.map(function(p){var u=new Yw,_=r.slice(),h=Qu(t,u,_);return h.dispatch(p),l=l.concat(_.slice(r.length)),u.read().toString()});return r=r.concat(l),f.sort(),this._array(f,!1)},_date:function(s){return n("date:"+s.toJSON())},_symbol:function(s){return n("symbol:"+s.toString())},_error:function(s){return n("error:"+s.toString())},_boolean:function(s){return n("bool:"+s.toString())},_string:function(s){n("string:"+s.length+":"),n(s.toString());},_function:function(s){n("fn:"),Xw(s)?this.dispatch("[native]"):this.dispatch(s.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(s.name)),t.respectFunctionProperties&&this._object(s);},_number:function(s){return n("number:"+s.toString())},_xml:function(s){return n("xml:"+s.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(s){return n("regex:"+s.toString())},_uint8array:function(s){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint8clampedarray:function(s){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(s))},_int8array:function(s){return n("int8array:"),this.dispatch(Array.prototype.slice.call(s))},_uint16array:function(s){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(s))},_int16array:function(s){return n("int16array:"),this.dispatch(Array.prototype.slice.call(s))},_uint32array:function(s){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(s))},_int32array:function(s){return n("int32array:"),this.dispatch(Array.prototype.slice.call(s))},_float32array:function(s){return n("float32array:"),this.dispatch(Array.prototype.slice.call(s))},_float64array:function(s){return n("float64array:"),this.dispatch(Array.prototype.slice.call(s))},_arraybuffer:function(s){return n("arraybuffer:"),this.dispatch(new Uint8Array(s))},_url:function(s){return n("url:"+s.toString())},_map:function(s){n("map:");var i=Array.from(s);return this._array(i,t.unorderedSets!==!1)},_set:function(s){n("set:");var i=Array.from(s);return this._array(i,t.unorderedSets!==!1)},_file:function(s){return n("file:"),this.dispatch([s.name,s.size,s.type,s.lastModfied])},_blob:function(){if(t.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(s){return n("bigint:"+s.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function Yw(){return {buf:"",write:function(t){this.buf+=t;},end:function(t){this.buf+=t;},read:function(){return this.buf}}}});var ob=x((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize();}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t);}if(ENVIRONMENT_IS_NODE){var fs=Z("fs"),nodePath=Z("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),readBinary=t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},readAsync=(t,e,r)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(n,s){n?r(n):e(s.buffer);});},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=(t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t);},Module.inspect=function(){return "[Emscripten Module object]"};}else (ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?e(n.response):r();},n.onerror=r,n.send(null);},t=>document.title=t);Module.print||console.log.bind(console);var err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,r){for(var n=e+r,s=e;t[s]&&!(s>=n);)++s;if(s-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,s));for(var i="";e<s;){var o=t[e++];if(128&o){var l=63&t[e++];if((224&o)!=192){var f=63&t[e++];if((o=(240&o)==224?(15&o)<<12|l<<6|f:(7&o)<<18|l<<12|f<<6|63&t[e++])<65536)i+=String.fromCharCode(o);else {var p=o-65536;i+=String.fromCharCode(55296|p>>10,56320|1023&p);}}else i+=String.fromCharCode((31&o)<<6|l);}else i+=String.fromCharCode(o);}return i}function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}function stringToUTF8Array(t,e,r,n){if(!(n>0))return 0;for(var s=r,i=r+n-1,o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++o)),l<=127){if(r>=i)break;e[r++]=l;}else if(l<=2047){if(r+1>=i)break;e[r++]=192|l>>6,e[r++]=128|63&l;}else if(l<=65535){if(r+2>=i)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|63&l;}else {if(r+3>=i)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|63&l;}}return e[r]=0,r-s}function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3;}return e}function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t);}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__);}function preMain(){callRuntimeCallbacks(__ATMAIN__);}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(t){__ATPRERUN__.unshift(t);}function addOnInit(t){__ATINIT__.unshift(t);}function addOnPostRun(t){__ATPOSTRUN__.unshift(t);}var runDependencies=0,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies);}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e();}}function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}function isFileURI(t){return t.startsWith("file://")}function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw "both async and sync fetching of the wasm failed"}catch(e){abort(e);}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw "failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(r){t(new Uint8Array(r));},e);})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(s,i){var o=s.exports;o=relocateExports(o,1024);var l=getDylinkMetadata(i);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(o),Module.asm=o,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency();}function r(s){e(s.instance,s.module);}function n(s){return getBinaryPromise().then(function(i){return WebAssembly.instantiate(i,t)}).then(function(i){return i}).then(s,function(i){err("failed to asynchronously prepare wasm: "+i),abort(i);})}if(addRunDependency(),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(s){return err("Module.instantiateWasm callback failed with error: "+s),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,t).then(r,function(i){return err("wasm streaming compile failed: "+i),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t;}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(r.required=!0),r}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module);}function getDylinkMetadata(t){var e=0,r=0;function n(){for(var A=0,S=1;;){var R=t[e++];if(A+=(127&R)*S,S*=128,!(128&R))break}return A}function s(){var A=n();return UTF8ArrayToString(t,(e+=A)-A,A)}function i(A,S){if(A)throw new Error(S)}var o="dylink.0";if(t instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(t,o);l.length===0&&(o="dylink",l=WebAssembly.Module.customSections(t,o)),i(l.length===0,"need dylink section"),r=(t=new Uint8Array(l[0])).length;}else {i(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),i(t[8]!==0,"need the dylink section to be first"),e=9;var f=n();r=e+f,o=s();}var p={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(o=="dylink"){p.memorySize=n(),p.memoryAlign=n(),p.tableSize=n(),p.tableAlign=n();for(var u=n(),_=0;_<u;++_){var h=s();p.neededDynlibs.push(h);}}else for(i(o!=="dylink.0");e<r;){var m=t[e++],y=n();if(m===1)p.memorySize=n(),p.memoryAlign=n(),p.tableSize=n(),p.tableAlign=n();else if(m===2)for(u=n(),_=0;_<u;++_)h=s(),p.neededDynlibs.push(h);else if(m===3)for(var w=n();w--;){var E=s();256&n()&&p.tlsExports.add(E);}else if(m===4)for(w=n();w--;)s(),E=s(),(3&n())==1&&p.weakImports.add(E);else e+=y;}return p}function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e);}return null}function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}function mergeLibSymbols(t,e){for(var r in t)if(t.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=t[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=t[r]),r=="__main_argc_argv"&&(Module._main=t[r]);}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,r){var n=Module["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}function dynCall(t,e,r){return t.includes("j")?dynCallLegacy(t,e,r):getWasmTableEntry(e).apply(null,r)}function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(e),r!==r+0)throw r;_setThrew(1,0);}}}var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+t+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,e}function isInternalSym(t){return ["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7);}function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]),t[n]==="j"&&r.parameters.push("i32");return r}function generateFuncType(t,e){var r=t.slice(0,1),n=t.slice(1),s={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(n.length,e);for(var i=0;i<n.length;++i)e.push(s[n[i]]);r=="v"?e.push(0):e.push(1,s[r]);}function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(s,{e:{f:t}}).exports.f}function updateTableMap(t,e){if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r);}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1);}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t);}function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var r=getEmptyTableSlot();try{setWasmTableEntry(r,t);}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(t,e));}return functionsInTableMap.set(t,r),r}function updateGOT(t,e){for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n));}}function relocateExports(t,e,r){var n={};for(var s in t){var i=t[s];typeof i=="object"&&(i=i.value),typeof i=="number"&&(i+=e),n[s]=i;}return updateGOT(n,r),n}function resolveGlobalSymbol(t,e){var r;return e&&(r=asmLibraryArg["orig$"+t]),r||(r=asmLibraryArg[t])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(t)]),!r&&t.startsWith("invoke_")&&(r=createInvokeFunction(t.split("_")[1])),r}function alignMemory(t,e){return Math.ceil(t/e)*e}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize);}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var r;return e in t||(t[e]=function(){return r||(r=resolveSymbol(e)),r.apply(null,arguments)}),t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";eval(func);}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1;}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags);}),loadModule())}function loadDynamicLibrary(t,e,r){e=e||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[t];if(n)return e.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!e.loadAsync||Promise.resolve(!0);function s(l){if(e.fs&&e.fs.findObject(l)){var f=e.fs.readFile(l,{encoding:"binary"});return f instanceof Uint8Array||(f=new Uint8Array(f)),e.loadAsync?Promise.resolve(f):f}if(l=locateFile(l),e.loadAsync)return new Promise(function(p,u){readAsync(l,_=>p(new Uint8Array(_)),u);});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}function i(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var l=preloadedWasm[t];return e.loadAsync?Promise.resolve(l):l}return e.loadAsync?s(t).then(function(f){return loadWebAssemblyModule(f,e,r)}):loadWebAssemblyModule(s(t),e,r)}function o(l){n.global&&mergeLibSymbols(l),n.module=l;}return n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=n,r&&(LDSO.loadedLibsByHandle[r]=n),e.loadAsync?i().then(function(l){return o(l),!0}):(o(i()),!0)}function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else {if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e;}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency(),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency();})):reportUndefinedSymbols();}function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+r);}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("");}function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r);}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return !1;for(var n=1;n<=4;n*=2){var s=e*(1+.2/n);if(s=Math.min(s,t+100663296),emscripten_realloc_buffer(Math.min(r,(i=Math.max(t,s))+((o=65536)-i%o)%o)))return !0}var i,o;return !1}__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(t,e,r){if(PATH.isAbs(e))return e;var n;if(t===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,e)},doStat:function(t,e,r){try{var n=t(e);}catch(l){if(l&&l.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(l.node)))return -54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var s=n.atime.getTime(),i=n.mtime.getTime(),o=n.ctime.getTime();return tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=s%1e3*1e3,tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=i%1e3*1e3,tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=o%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},doMsync:function(t,e,r,n,s){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var i=HEAPU8.slice(t,t+r);FS.msync(e,i,s,r,n);},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)},getStreamFromFD:function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e}};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t));}function exitJS(t,e){EXITSTATUS=t,_proc_exit(t);}_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}function _fd_seek(t,e,r,n,s){try{var i=convertI32PairToI53Checked(e,r);if(isNaN(i))return 61;var o=SYSCALLS.getStreamFromFD(t);return FS.llseek(o,i,n),tempI64=[o.position>>>0,(tempDouble=o.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[s>>2]=tempI64[0],HEAP32[s+4>>2]=tempI64[1],o.getdents&&i===0&&n===0&&(o.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}function doWritev(t,e,r,n){for(var s=0,i=0;i<r;i++){var o=HEAPU32[e>>2],l=HEAPU32[e+4>>2];e+=8;var f=FS.write(t,HEAP8,o,l,n);if(f<0)return -1;s+=f,n!==void 0&&(n+=f);}return s}function _fd_write(t,e,r,n){try{var s=doWritev(SYSCALLS.getStreamFromFD(t),e,r);return HEAPU32[n>>2]=s,0}catch(i){if(typeof FS>"u"||!(i instanceof FS.ErrnoError))throw i;return i.errno}}function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0);}}function _tree_sitter_parse_callback(t,e,r,n,s){var i=currentParseCallback(e,{row:r,column:n});typeof i=="string"?(setValue(s,i.length,"i32"),stringToUTF16(i,t,10240)):setValue(s,0,"i32");}function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t);}function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8Array(t,HEAP8,r,e),r}function stringToUTF16(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=e,s=(r-=2)<2*t.length?r/2:t.length,i=0;i<s;++i){var o=t.charCodeAt(i);HEAP16[e>>1]=o,e+=2;}return HEAP16[e>>1]=0,e-n}function AsciiToString(t){for(var e="";;){var r=HEAPU8[t++>>0];if(!r)return e;e+=String.fromCharCode(r);}}_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback};createWasm();Module.___wasm_call_ctors=function(){return (Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)};Module.___wasm_apply_data_relocs=function(){return (Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)};var _malloc=Module._malloc=function(){return (_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)};Module._calloc=function(){return (Module._calloc=Module.asm.calloc).apply(null,arguments)};Module._realloc=function(){return (Module._realloc=Module.asm.realloc).apply(null,arguments)};Module._free=function(){return (Module._free=Module.asm.free).apply(null,arguments)};Module._ts_language_symbol_count=function(){return (Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)};Module._ts_language_version=function(){return (Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)};Module._ts_language_field_count=function(){return (Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)};Module._ts_language_symbol_name=function(){return (Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)};Module._ts_language_symbol_for_name=function(){return (Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)};Module._ts_language_symbol_type=function(){return (Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)};Module._ts_language_field_name_for_id=function(){return (Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)};Module._memset=function(){return (Module._memset=Module.asm.memset).apply(null,arguments)};Module._memcpy=function(){return (Module._memcpy=Module.asm.memcpy).apply(null,arguments)};Module._ts_parser_delete=function(){return (Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)};Module._ts_parser_reset=function(){return (Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)};Module._ts_parser_set_language=function(){return (Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)};Module._ts_parser_timeout_micros=function(){return (Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)};Module._ts_parser_set_timeout_micros=function(){return (Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)};Module._memmove=function(){return (Module._memmove=Module.asm.memmove).apply(null,arguments)};Module._memcmp=function(){return (Module._memcmp=Module.asm.memcmp).apply(null,arguments)};Module._ts_query_new=function(){return (Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)};Module._ts_query_delete=function(){return (Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)};Module._iswspace=function(){return (Module._iswspace=Module.asm.iswspace).apply(null,arguments)};Module._iswalnum=function(){return (Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)};Module._ts_query_pattern_count=function(){return (Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)};Module._ts_query_capture_count=function(){return (Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)};Module._ts_query_string_count=function(){return (Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)};Module._ts_query_capture_name_for_id=function(){return (Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)};Module._ts_query_string_value_for_id=function(){return (Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)};Module._ts_query_predicates_for_pattern=function(){return (Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)};Module._ts_tree_copy=function(){return (Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)};Module._ts_tree_delete=function(){return (Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)};Module._ts_init=function(){return (Module._ts_init=Module.asm.ts_init).apply(null,arguments)};Module._ts_parser_new_wasm=function(){return (Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)};Module._ts_parser_enable_logger_wasm=function(){return (Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)};Module._ts_parser_parse_wasm=function(){return (Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)};Module._ts_language_type_is_named_wasm=function(){return (Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)};Module._ts_language_type_is_visible_wasm=function(){return (Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)};Module._ts_tree_root_node_wasm=function(){return (Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)};Module._ts_tree_edit_wasm=function(){return (Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)};Module._ts_tree_get_changed_ranges_wasm=function(){return (Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)};Module._ts_tree_cursor_new_wasm=function(){return (Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)};Module._ts_tree_cursor_delete_wasm=function(){return (Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)};Module._ts_tree_cursor_reset_wasm=function(){return (Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)};Module._ts_tree_cursor_goto_first_child_wasm=function(){return (Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)};Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return (Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)};Module._ts_tree_cursor_goto_parent_wasm=function(){return (Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_node_type_id_wasm=function(){return (Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_node_is_named_wasm=function(){return (Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return (Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_node_id_wasm=function(){return (Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)};Module._ts_tree_cursor_start_position_wasm=function(){return (Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)};Module._ts_tree_cursor_end_position_wasm=function(){return (Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)};Module._ts_tree_cursor_start_index_wasm=function(){return (Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)};Module._ts_tree_cursor_end_index_wasm=function(){return (Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_field_id_wasm=function(){return (Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)};Module._ts_tree_cursor_current_node_wasm=function(){return (Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)};Module._ts_node_symbol_wasm=function(){return (Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)};Module._ts_node_child_count_wasm=function(){return (Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)};Module._ts_node_named_child_count_wasm=function(){return (Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)};Module._ts_node_child_wasm=function(){return (Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)};Module._ts_node_named_child_wasm=function(){return (Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)};Module._ts_node_child_by_field_id_wasm=function(){return (Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)};Module._ts_node_next_sibling_wasm=function(){return (Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)};Module._ts_node_prev_sibling_wasm=function(){return (Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)};Module._ts_node_next_named_sibling_wasm=function(){return (Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)};Module._ts_node_prev_named_sibling_wasm=function(){return (Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)};Module._ts_node_parent_wasm=function(){return (Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)};Module._ts_node_descendant_for_index_wasm=function(){return (Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)};Module._ts_node_named_descendant_for_index_wasm=function(){return (Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)};Module._ts_node_descendant_for_position_wasm=function(){return (Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)};Module._ts_node_named_descendant_for_position_wasm=function(){return (Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)};Module._ts_node_start_point_wasm=function(){return (Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)};Module._ts_node_end_point_wasm=function(){return (Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)};Module._ts_node_start_index_wasm=function(){return (Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)};Module._ts_node_end_index_wasm=function(){return (Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)};Module._ts_node_to_string_wasm=function(){return (Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)};Module._ts_node_children_wasm=function(){return (Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)};Module._ts_node_named_children_wasm=function(){return (Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)};Module._ts_node_descendants_of_type_wasm=function(){return (Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)};Module._ts_node_is_named_wasm=function(){return (Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)};Module._ts_node_has_changes_wasm=function(){return (Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)};Module._ts_node_has_error_wasm=function(){return (Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)};Module._ts_node_is_missing_wasm=function(){return (Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)};Module._ts_query_matches_wasm=function(){return (Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)};Module._ts_query_captures_wasm=function(){return (Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)};Module.___cxa_atexit=function(){return (Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)};Module._iswdigit=function(){return (Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)};Module._iswalpha=function(){return (Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)};Module._iswlower=function(){return (Module._iswlower=Module.asm.iswlower).apply(null,arguments)};Module._memchr=function(){return (Module._memchr=Module.asm.memchr).apply(null,arguments)};Module._strlen=function(){return (Module._strlen=Module.asm.strlen).apply(null,arguments)};Module._towupper=function(){return (Module._towupper=Module.asm.towupper).apply(null,arguments)};var _setThrew=Module._setThrew=function(){return (_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return (stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return (stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return (stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)};Module.__Znwm=function(){return (Module.__Znwm=Module.asm._Znwm).apply(null,arguments)};Module.__ZdlPv=function(){return (Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return (Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return (Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return (Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return (Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)};Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return (Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return (Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)};Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return (Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)};Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return (Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)};Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return (Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)};Module.dynCall_jiji=function(){return (Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)};Module._orig$ts_parser_timeout_micros=function(){return (Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)};Module._orig$ts_parser_set_timeout_micros=function(){return (Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};var calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var r=t.length,n=stackAlloc(4*(r+1)),s=n>>2;t.forEach(o=>{HEAP32[s++]=allocateUTF8OnStack(o);}),HEAP32[s]=0;try{var i=e(r,n);return exitJS(i),i}catch(o){return handleException(o)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t);};var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()));}t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("");},1),e();},1)):e()));}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0;}setLanguage(e){let r;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=(f,p,u)=>e.slice(f,u);else {if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e;}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let s=0,i=0;if(n&&n.includedRanges){s=n.includedRanges.length,i=C._calloc(s,SIZE_OF_RANGE);let f=i;for(let p=0;p<s;p++)marshalRange(f,n.includedRanges[p]),f+=SIZE_OF_RANGE;}let o=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,i,s);if(!o)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,o,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0]);}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e);}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,r,n,s){assertInternal(e),this[0]=r,this.language=n,this.textCallback=s;}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0;}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0]);}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),s=new Array(r);if(r>0){let i=n;for(let o=0;o<r;o++)s[o]=unmarshalRange(i),i+=SIZE_OF_RANGE;C._free(n);}return s}}class Node{constructor(e,r){assertInternal(e),this.tree=r;}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._children[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r);}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._namedChildren[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r);}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let s=[],i=this.tree.language.types;for(let u=0,_=i.length;u<_;u++)e.includes(i[u])&&s.push(u);let o=C._malloc(SIZE_OF_INT*s.length);for(let u=0,_=s.length;u<_;u++)setValue(o+u*SIZE_OF_INT,s[u],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],o,s.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),p=new Array(l);if(l>0){let u=f;for(let _=0;_<l;_++)p[_]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;}return C._free(f),C._free(o),p}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this);}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0;}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this);}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,s=this.types.length;n<s;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,s=this.fields.length;n<s;n++){let i=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=i!==0?UTF8ToString(i):null;}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),s=C._malloc(n+1);stringToUTF8(e,s,n+1);let i=C._ts_language_symbol_for_name(this[0],s,n,r);return C._free(s),i||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return !!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return !!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let s=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!s){let w=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,A=e.substr(E,100).split(`
`)[0],S,R=A.match(QUERY_WORD_REGEX)[0];switch(w){case 2:S=new RangeError(`Bad node name '${R}'`);break;case 3:S=new RangeError(`Bad field name '${R}'`);break;case 4:S=new RangeError(`Bad capture name @${R}`);break;case 5:S=new TypeError(`Bad pattern structure at offset ${E}: '${A}'...`),R="";break;default:S=new SyntaxError(`Bad syntax at offset ${E}: '${A}'...`),R="";}throw S.index=E,S.length=R.length,C._free(n),S}let i=C._ts_query_string_count(s),o=C._ts_query_capture_count(s),l=C._ts_query_pattern_count(s),f=new Array(o),p=new Array(i);for(let w=0;w<o;w++){let E=C._ts_query_capture_name_for_id(s,w,TRANSFER_BUFFER),A=getValue(TRANSFER_BUFFER,"i32");f[w]=UTF8ToString(E,A);}for(let w=0;w<i;w++){let E=C._ts_query_string_value_for_id(s,w,TRANSFER_BUFFER),A=getValue(TRANSFER_BUFFER,"i32");p[w]=UTF8ToString(E,A);}let u=new Array(l),_=new Array(l),h=new Array(l),m=new Array(l),y=new Array(l);for(let w=0;w<l;w++){let E=C._ts_query_predicates_for_pattern(s,w,TRANSFER_BUFFER),A=getValue(TRANSFER_BUFFER,"i32");m[w]=[],y[w]=[];let S=[],R=E;for(let O=0;O<A;O++){let k=getValue(R,"i32");R+=SIZE_OF_INT;let B=getValue(R,"i32");if(R+=SIZE_OF_INT,k===PREDICATE_STEP_TYPE_CAPTURE)S.push({type:"capture",name:f[B]});else if(k===PREDICATE_STEP_TYPE_STRING)S.push({type:"string",value:p[B]});else if(S.length>0){if(S[0].type!=="string")throw new Error("Predicates must begin with a literal value");let q=S[0].value,$=!0;switch(q){case"not-eq?":$=!1;case"eq?":if(S.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(S.length-1));if(S[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${S[1].value}"`);if(S[2].type==="capture"){let z=S[1].name,G=S[2].name;y[w].push(function(te){let P,T;for(let J of te)J.name===z&&(P=J.node),J.name===G&&(T=J.node);return P===void 0||T===void 0||P.text===T.text===$});}else {let z=S[1].name,G=S[2].value;y[w].push(function(te){for(let P of te)if(P.name===z)return P.node.text===G===$;return !0});}break;case"not-match?":$=!1;case"match?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${S[1].value}".`);if(S[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${S[2].value}.`);let N=S[1].name,U=new RegExp(S[2].value);y[w].push(function(z){for(let G of z)if(G.name===N)return U.test(G.node.text)===$;return !0});break;case"set!":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(z=>z.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[w]||(u[w]={}),u[w][S[1].value]=S[2]?S[2].value:null;break;case"is?":case"is-not?":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#${q}\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(z=>z.type!=="string"))throw new Error(`Arguments to \`#${q}\` predicate must be a strings.".`);let I=q==="is?"?_:h;I[w]||(I[w]={}),I[w][S[1].value]=S[2]?S[2].value:null;break;default:m[w].push({operator:q,operands:S.slice(1)});}S.length=0;}}Object.freeze(u[w]),Object.freeze(_[w]),Object.freeze(h[w]);}return C._free(n),new Query(INTERNAL,s,f,y,m,Object.freeze(u),Object.freeze(_),Object.freeze(h))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else {let s=e;if(typeof process<"u"&&process.versions&&process.versions.node){let i=Z("fs");r=Promise.resolve(i.readFileSync(s));}else r=fetch(s).then(i=>i.arrayBuffer().then(o=>{if(i.ok)return new Uint8Array(o);{let l=new TextDecoder("utf-8").decode(o);throw new Error(`Language.load failed with status ${i.status}.

${l}`)}}));}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(s=>n(s,{loadAsync:!0})).then(s=>{let i=Object.keys(s),o=i.find(f=>LANGUAGE_FUNCTION_REGEX.test(f)&&!f.includes("external_scanner_"));o||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(i,null,2)}`);let l=s[o]();return new Language(INTERNAL,l)})}}class Query{constructor(e,r,n,s,i,o,l,f){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=s,this.predicates=i,this.setProperties=o,this.assertedProperties=l,this.refutedProperties=f,this.exceededMatchLimit=!1;}delete(){C._ts_query_delete(this[0]),this[0]=0;}matches(e,r,n,s){r||(r=ZERO_POINT),n||(n=ZERO_POINT),s||(s={});let i=s.matchLimit;if(i===void 0)i=0;else if(typeof i!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,i);let o=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),p=new Array(o);this.exceededMatchLimit=!!f;let u=0,_=l;for(let h=0;h<o;h++){let m=getValue(_,"i32");_+=SIZE_OF_INT;let y=getValue(_,"i32");_+=SIZE_OF_INT;let w=new Array(y);if(_=unmarshalCaptures(this,e.tree,_,w),this.textPredicates[m].every(E=>E(w))){p[u++]={pattern:m,captures:w};let E=this.setProperties[m];E&&(p[h].setProperties=E);let A=this.assertedProperties[m];A&&(p[h].assertedProperties=A);let S=this.refutedProperties[m];S&&(p[h].refutedProperties=S);}}return p.length=u,C._free(l),p}captures(e,r,n,s){r||(r=ZERO_POINT),n||(n=ZERO_POINT),s||(s={});let i=s.matchLimit;if(i===void 0)i=0;else if(typeof i!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,i);let o=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),p=[];this.exceededMatchLimit=!!f;let u=[],_=l;for(let h=0;h<o;h++){let m=getValue(_,"i32");_+=SIZE_OF_INT;let y=getValue(_,"i32");_+=SIZE_OF_INT;let w=getValue(_,"i32");if(_+=SIZE_OF_INT,u.length=y,_=unmarshalCaptures(this,e.tree,_,u),this.textPredicates[m].every(E=>E(u))){let E=u[w],A=this.setProperties[m];A&&(E.setProperties=A);let S=this.assertedProperties[m];S&&(E.assertedProperties=S);let R=this.refutedProperties[m];R&&(E.refutedProperties=R),p.push(E);}}return C._free(l),p}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,s=t.textCallback(e,null,r);for(e+=s.length;e<r;){let i=t.textCallback(e,null,r);if(!(i&&i.length>0))break;e+=i.length,s+=i;}return e>r&&(s=s.slice(0,n)),s}function unmarshalCaptures(t,e,r,n){for(let s=0,i=n.length;s<i;s++){let o=getValue(r,"i32"),l=unmarshalNode(e,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[s]={name:t.captureNames[o],node:l};}return r}function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32");}function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(r===0)return null;let n=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),i=getValue(e+=SIZE_OF_INT,"i32"),o=getValue(e+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,t);return l.id=r,l.startIndex=n,l.startPosition={row:s,column:i},l[0]=o,l}function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32");}function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32");}function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32");}function unmarshalPoint(t){return {row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT;}function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT;}for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise();};}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter);});var ac=x((ZU,Ab)=>{var oc=class{constructor(e={}){let r=e.base||1.001,n=e.precision||1e-9;if(!(r>1)||!(r<1.5))throw new Error("base must be a number between 1 and 1.5");if(r+=1e-9,r=2**(1/Math.ceil(Math.log(2)/Math.log(r))),r===1)throw new Error("base too close to 1");n=Number.parseFloat(""+n);let s=Math.ceil(1/(r-1)),i=n*s;this._thresh=i,this._precision=n,this._base=r;}getBase(){return this._base}getPrecision(){return this._precision}round(e){if(typeof e!="number"&&(e=Number.parseFloat(e)),Number.isNaN(e))throw new Error("Attempt to round a non-numeric value: "+e);return e<0?-this.round(-e):e<this._thresh?Math.round(e/this._precision)*this._precision:this._thresh*this._base**Math.round(Math.log(e/this._thresh)/Math.log(this._base))}upper(e){return e<0?-this.lower(-e):(e=this.round(e),e<this._thresh?e+this._precision/2:e*Math.sqrt(this._base))}lower(e){return e<0?-this.upper(-e):(e=this.round(e),e<=this._thresh?e-this._precision/2:e/Math.sqrt(this._base))}shorten(e,r){return e===void 0?e:r===void 0?zn(this.lower(e),this.upper(e)):zn(e,r)}};function zn(t,e,r=10){if(t===e)return t;if(t*e<=0)return 0;if(e<0)return -zn(-e,-t,r);if(t>e)return zn(e,t,r);let n=-Math.floor(Math.log(e-t)/Math.log(r));for(;Math.ceil(t*r**n)<=Math.floor(e*r**n);)n--;return n++,n>=0?Math.ceil(t*r**n)/r**n:Math.ceil(t/r**-n)*r**-n}Ab.exports={Binning:oc,shorten:zn};});var xb=x((XU,Cb)=>{var{Binning:B$}=ac(),j$="stats-logscale/univariate@1.0",Gn=class t extends B${constructor(e={}){super(e),this.storage=new Map,this._count=0,this._cache={},this.neat=new Vn(this),e.bins&&this.addWeighted(e.bins);}add(...e){return this._cache={},e.forEach(r=>{let n=this.round(r),s=this.storage.get(n)??0;this.storage.set(n,s+1),this._count++;}),this}addWeighted(e){return this._cache={},e.forEach(r=>{let n=r[0],s=Number.parseFloat(r[1]);if(Number.isNaN(s))throw new Error("Attempt to provide a non-numeric weight");let i=this.round(n),o=(this.storage.get(i)??0)+s;o<=0?(this.storage.delete(i),this._count+=s-o):(this.storage.set(i,o),this._count+=s);}),this}toJSON(){return {version:j$,precision:this.getPrecision(),base:this.getBase(),bins:this.getBins()}}clone(e={}){let r=this.getBins(e);return e.transform&&(r=r.map(n=>[e.transform(n[0]),n[1]])),new t({precision:e.precision??this.getPrecision(),base:e.base??this.getBase(),bins:r})}getBins(e){if(this._cache.data||(this._cache.data=[...this.storage].sort((l,f)=>l[0]-f[0])),!e)return this._cache.data;let r=Math.max(e.min??-1/0,this.percentile(e.ltrim??0)),n=Math.min(e.max??1/0,this.percentile(100-(e.rtrim??0)));if(!e.winsorize)return this._cache.data.filter(l=>l[0]>=r&&l[0]<=n);let s=[this.round(r),0],i=[this.round(n),0],o=[s];for(let[l,f]of this._cache.data)l<=s[0]?s[1]+=f:l>=i[0]?i[1]+=f:o.push([l,f]);return i[1]>0&&o.push(i),o}count(){return this._count}min(){let e=this.getBins();return this.lower(e[0][0])}max(){let e=this.getBins();return this.upper(e[e.length-1][0])}sumOf(e){let r=0;return [...this.storage].forEach(n=>{r+=n[1]*e(n[0]);}),r}E(e){return this._count?this.sumOf(e)/this._count:void 0}mean(){return this._count?this.sumOf(e=>e)/this._count:void 0}stdev(){if(this._count<2)return;let e=this.mean();return Math.sqrt(this.sumOf(r=>(r-e)*(r-e))/(this._count-1))}skewness(){let e=this.count();return e<3?void 0:e*e/((e-1)*(e-2))*this.momentStd(3)}kurtosis(){let e=this.count();if(e<4)return;let r=e*e*(e+1)/((e-1)*(e-2)*(e-3)),n=(e-1)*(e-1)/((e-2)*(e-3));return this.momentStd(4)*r-3*n}moment(e,r){if(!Number.isInteger(e))throw new Error("Cannot calculate non-integer moment (did you mean momentAbs?)");return r===void 0&&(r=this.mean()),this.E(n=>(n-r)**e)}momentAbs(e=1,r){return r===void 0&&(r=this.mean()),this.E(n=>Math.abs(n-r)**e)}momentStd(e){return this.moment(e)/this.stdev()**e}quantile(e){let r=e*this._count,n=this._cumulative(),s=0,i=n.length;for(;s+1<i;){let f=Math.floor((i+s)/2);n[f][1]>=r?i=f:s=f;}let o=this.lower(n[s][0]),l=this.upper(n[s][0])-o;return o+l*(r-n[s][1])/(n[s][2]-n[s][1])}percentile(e){return this.quantile(e/100)}median(){return this.quantile(.5)}cdf(e){return this._rawCdf(e)/this._count}_rawCdf(e){let r=this._cumulative(),n=this.round(e),s=0,i=r.length;for(;s<i;){let f=Math.floor((i+s)/2);r[f][0]<n?s=f+1:i=f;}if(s>=r.length)return this._count;let o=s>0?r[s-1][2]:0,l=n!==r[s][0]?0:(r[s][2]-r[s][1])*(e-this.lower(e))/(this.upper(e)-this.lower(e));return o+l}histogram(e={}){if(!this._count)return [];let r=this.min(),n=this.max(),s=e.count||10,i=[],o=r,l=(n-r)/s;for(let f=0;f<s;f++)i.push([this._rawCdf(o+l),o,o+=l]);for(let f=i.length;f-- >1;)i[f][0]-=i[f-1][0];if(i[0][0]-=this._rawCdf(r),e.scale){let f=0;for(let p=0;p<i.length;p++)f<i[p][0]&&(f=i[p][0]);for(let p=0;p<i.length;p++)i[p][0]=i[p][0]*e.scale/f;}return i}_cumulative(){if(!this._cache.cumulative){let e=this.getBins(),r=[],n=0;for(let s=0;s<e.length;s++)r.push([e[s][0],n,n+=e[s][1]]);this._cache.cumulative=r;}return this._cache.cumulative}};["cdf+","kurtosis","max","mean","min","moment+","momentAbs+","momentStd+","quantile+","skewness","stdev"].forEach(t=>{let e=!!t.match(/\+/);e&&(t=t.replace("+",""));let r=Gn.prototype[t];if(typeof r!="function")throw new Error('method "'+t+'" is cached but never defined');Gn.prototype[t]=e?function(...n){if(this._count===0)return;this._cache[t]===void 0&&(this._cache[t]={});let s=n.join(":");return this._cache[t][s]===void 0&&(this._cache[t][s]=r.apply(this,n)),this._cache[t][s]}:function(){if(this._count!==0)return this._cache[t]===void 0&&(this._cache[t]=r.apply(this)),this._cache[t]};});var Vn=class{constructor(e){this._main=e;}min(){if(!this._main._count)return;let e=this._main.getBins();return this._main.shorten(e[0][0])}max(){if(!this._main._count)return;let e=this._main.getBins();return this._main.shorten(e[e.length-1][0])}};["E","kurtosis","mean","median","moment","momentAbs","momentStd","percentile","quantile","skewness","stdev","sumOf"].forEach(t=>{Vn.prototype[t]=function(e){return this._main.shorten(this._main[t](e))};});["cdf","count"].forEach(t=>{Vn.prototype[t]=function(e){return this._main[t](e)};});Cb.exports={Univariate:Gn};});var Ib=x((KU,lc)=>{(()=>{let{Binning:t}=ac(),{Univariate:e}=xb(),r={Binning:t,Univariate:e};typeof window<"u"&&(window.logstat=r),typeof lc=="object"&&(lc.exports=r);})();});var ti=new Uint8Array(256),ei=ti.length;function po(){return ei>ti.length-16&&(QE__default.default.randomFillSync(ti),ei=0),ti.slice(ei,ei+=16)}var Ne=[];for(let t=0;t<256;++t)Ne.push((t+256).toString(16).slice(1));function rf(t,e=0){return Ne[t[e+0]]+Ne[t[e+1]]+Ne[t[e+2]]+Ne[t[e+3]]+"-"+Ne[t[e+4]]+Ne[t[e+5]]+"-"+Ne[t[e+6]]+Ne[t[e+7]]+"-"+Ne[t[e+8]]+Ne[t[e+9]]+"-"+Ne[t[e+10]]+Ne[t[e+11]]+Ne[t[e+12]]+Ne[t[e+13]]+Ne[t[e+14]]+Ne[t[e+15]]}var _o={randomUUID:QE__default.default.randomUUID};function t0(t,e,r){if(_o.randomUUID&&!e&&!t)return _o.randomUUID();t=t||{};let n=t.random||(t.rng||po)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return rf(n)}var bt=t0;var eo=je($i());var qt={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function Mx(t,e){return e}function eh(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:qx(t)?1:t instanceof Set?3:t instanceof Map?4:5}function Lx(t){let e=new Set;for(let r of t)for(let n of [...Object.keys(r),...Object.getOwnPropertySymbols(r)])e.add(n);return e}function Dx(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function rh(t){return {*[Symbol.iterator](){for(let e of t)for(let r of e)yield r;}}}var th=new Set(["[object Object]","[object Module]"]);function qx(t){if(!th.has(Object.prototype.toString.call(t)))return !1;let{constructor:e}=t;if(e===void 0)return !0;let r=e.prototype;return !(r===null||typeof r!="object"||!th.has(Object.prototype.toString.call(r))||!r.hasOwnProperty("isPrototypeOf"))}function Ux(t,e,r){let n={};for(let s of Lx(t)){let i=[];for(let f of t)Dx(f,s)&&i.push(f[s]);if(i.length===0)continue;let o=e.metaDataUpdater(r,{key:s,parents:t}),l=sh(i,e,o);l!==qt.skip&&(s==="__proto__"?Object.defineProperty(n,s,{value:l,configurable:!0,enumerable:!0,writable:!0}):n[s]=l);}return n}function Bx(t){return t.flat()}function jx(t){return new Set(rh(t))}function Wx(t){return new Map(rh(t))}function nh(t){return t.at(-1)}var ga=Object.freeze({__proto__:null,mergeArrays:Bx,mergeMaps:Wx,mergeOthers:nh,mergeRecords:Ux,mergeSets:jx});function ih(...t){return zx({})(...t)}function zx(t,e){let r=Gx(t,n);function n(...s){return sh(s,r,e)}return n}function Gx(t,e){return {defaultMergeFunctions:ga,mergeFunctions:{...ga,...Object.fromEntries(Object.entries(t).filter(([r,n])=>Object.hasOwn(ga,r)).map(([r,n])=>n===!1?[r,nh]:[r,n]))},metaDataUpdater:t.metaDataUpdater??Mx,deepmerge:e,useImplicitDefaultMerging:t.enableImplicitDefaultMerging??!1,actions:qt}}function sh(t,e,r){if(t.length===0)return;if(t.length===1)return ya(t,e,r);let n=eh(t[0]);if(n!==0&&n!==5){for(let s=1;s<t.length;s++)if(eh(t[s])!==n)return ya(t,e,r)}switch(n){case 1:return Vx(t,e,r);case 2:return Zx(t,e,r);case 3:return Xx(t,e,r);case 4:return Kx(t,e,r);default:return ya(t,e,r)}}function Vx(t,e,r){let n=e.mergeFunctions.mergeRecords(t,e,r);return n===qt.defaultMerge||e.useImplicitDefaultMerging&&n===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,r):n}function Zx(t,e,r){let n=e.mergeFunctions.mergeArrays(t,e,r);return n===qt.defaultMerge||e.useImplicitDefaultMerging&&n===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):n}function Xx(t,e,r){let n=e.mergeFunctions.mergeSets(t,e,r);return n===qt.defaultMerge||e.useImplicitDefaultMerging&&n===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):n}function Kx(t,e,r){let n=e.mergeFunctions.mergeMaps(t,e,r);return n===qt.defaultMerge||e.useImplicitDefaultMerging&&n===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):n}function ya(t,e,r){let n=e.mergeFunctions.mergeOthers(t,e,r);return n===qt.defaultMerge||e.useImplicitDefaultMerging&&n===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):n}var pn=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")};var va=new Set(["__proto__","prototype","constructor"]),Yx=new Set("0123456789");function Sa(t){let e=[],r="",n="start",s=!1;for(let i of t)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");s&&(r+=i),n="property",s=!s;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(s){s=!1,r+=i;break}if(va.has(r))return [];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(s){s=!1,r+=i;break}if(n==="property"){if(va.has(r))return [];e.push(r),r="";}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Yx.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),s&&(s=!1,r+="\\"),r+=i;}}switch(s&&(r+="\\"),n){case"property":{if(va.has(r))return [];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function oh(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return !1}function ah(t,e){if(oh(t,e))throw new Error("Cannot use string index")}function Mi(t,e,r){if(!pn(t)||typeof e!="string")return r===void 0?t:r;let n=Sa(e);if(n.length===0)return r;for(let s=0;s<n.length;s++){let i=n[s];if(oh(t,i)?t=s===n.length-1?void 0:null:t=t[i],t==null){if(s!==n.length-1)return r;break}}return t===void 0?r:t}function Jt(t,e,r){if(!pn(t)||typeof e!="string")return t;let n=t,s=Sa(e);for(let i=0;i<s.length;i++){let o=s[i];ah(t,o),i===s.length-1?t[o]=r:pn(t[o])||(t[o]=typeof s[i+1]=="number"?[]:{}),t=t[o];}return n}function Li(t,e){if(!pn(t)||typeof e!="string")return !1;let r=Sa(e);for(let n=0;n<r.length;n++){let s=r[n];if(ah(t,s),n===r.length-1)return delete t[s],!0;if(t=t[s],!pn(t))return !1}}var Jx={"Content-Type":"application/json"};function Qt(t={}){let{fetch:e=globalThis.fetch,querySerializer:r,bodySerializer:n,...s}=t,i=s.baseUrl??"";i.endsWith("/")&&(i=i.slice(0,-1));async function o(l,f){let{fetch:p=e,headers:u,body:_,params:h={},parseAs:m="json",querySerializer:y=r??Qx,bodySerializer:w=n??eI,...E}=f||{},A=tI(l,{baseUrl:i,params:h,querySerializer:y}),S=rI(Jx,t?.headers,u,h.header),R={redirect:"follow",...s,...E,headers:S};_&&(R.body=w(_)),R.body instanceof FormData&&S.delete("Content-Type");let O=await p(A,R);if(O.status===204||O.headers.get("Content-Length")==="0")return O.ok?{data:{},response:O}:{error:{},response:O};if(O.ok){let B;if(m!=="stream"){let q=O.clone();B=typeof q[m]=="function"?await q[m]():await q.text();}else B=O.clone().body;return {data:B,response:O}}let k={};try{k=await O.clone().json();}catch{k=await O.clone().text();}return {error:k,response:O}}return {async GET(l,...f){return o(l,{...f[0],method:"GET"})},async PUT(l,...f){return o(l,{...f[0],method:"PUT"})},async POST(l,...f){return o(l,{...f[0],method:"POST"})},async DELETE(l,...f){return o(l,{...f[0],method:"DELETE"})},async OPTIONS(l,...f){return o(l,{...f[0],method:"OPTIONS"})},async HEAD(l,...f){return o(l,{...f[0],method:"HEAD"})},async PATCH(l,...f){return o(l,{...f[0],method:"PATCH"})},async TRACE(l,...f){return o(l,{...f[0],method:"TRACE"})}}}function Qx(t){let e=new URLSearchParams;if(t&&typeof t=="object")for(let[r,n]of Object.entries(t))n!=null&&e.set(r,n);return e.toString()}function eI(t){return JSON.stringify(t)}function tI(t,e){let r=`${e.baseUrl}${t}`;if(e.params.path)for(let[s,i]of Object.entries(e.params.path))r=r.replace(`{${s}}`,encodeURIComponent(String(i)));let n=e.querySerializer(e.params.query??{});return n&&(r+=`?${n}`),r}function rI(...t){let e=new Headers;for(let r of t){if(!r||typeof r!="object")continue;let n=r instanceof Headers?r.entries():Object.entries(r);for(let[s,i]of n)i===null?e.delete(s):i!==void 0&&e.set(s,i);}return e}var _h=je(fh());function he(t){let e=t.match(/.*(?:$|\r?\n)/g)?.filter(Boolean)??[];return e.length>0&&e[e.length-1]?.endsWith(`
`)&&e.push(""),e}function se(t){return t.trim().length===0}function mt(t,e){if(e===void 0)return t.match(/^[ \t]*/)?.[0]?.length??0;if(e==="	")return t.match(/^\t*/g)?.[0].length??0;if(e.match(/^ *$/))return (t.match(/^ */)?.[0].length??0)/e.length;throw new Error(`Invalid indentation: ${e}`)}function ba(t,e){return e<0||e>=t.length-1?!1:mt(t[e])<mt(t[e+1])}function Di(t,e){return e<=0||e>t.length-1?!1:mt(t[e-1])>mt(t[e])}var dh=[["(",")"],["[","]"],["{","}"],["'","'"],['"','"'],["`","`"]],ph=dh.map(t=>t[0]),qi=dh.map(t=>t[1]);function Ui(t){let e=[];for(let r of t)[["(",")"],["[","]"],["{","}"]].forEach(n=>{r===n[1]&&(e.length>0&&e[e.length-1]===n[0]?e.pop():e.push(r));}),"([{".includes(r)&&e.push(r),["'",'"',"`"].forEach(n=>{r===n&&(e.length>0&&e.includes(n)?e.splice(e.lastIndexOf(n),e.length-e.lastIndexOf(n)):e.push(r));});return e.join("")}function Ir(t,e){return _h.get(t,e)}function hn(t){let e=new AbortController;for(let r of t){if(r?.aborted)return e.abort(r.reason),r;r?.addEventListener("abort",()=>e.abort(r.reason),{signal:e.signal});}return e.signal}var We=class extends Error{constructor(r){super(`${r.status} ${r.statusText}`);this.name="HttpError",this.status=r.status,this.statusText=r.statusText,this.response=r;}};function mn(t){return t instanceof Error&&t.name==="TimeoutError"||t instanceof We&&[408,499].includes(t.status)}function er(t){return t instanceof Error&&t.name==="AbortError"}function Ea(t){let e=t.message||t.toString();return t.cause&&(e+=`
Caused by: `+Ea(t.cause)),e}function Aa(t){this.message=t;}Aa.prototype=new Error,Aa.prototype.name="InvalidCharacterError";var hh=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Aa("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,s=0,i=0,o="";n=e.charAt(i++);~n&&(r=s%4?64*r+n:n,s++%4)?o+=String.fromCharCode(255&r>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function oI(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw "Illegal base64url string!"}try{return function(r){return decodeURIComponent(hh(r).replace(/(.)/g,function(n,s){var i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch{return hh(e)}}function Bi(t){this.message=t;}function aI(t,e){if(typeof t!="string")throw new Bi("Invalid token specified");var r=(e=e||{}).header===!0?0:1;try{return JSON.parse(oI(t.split(".")[r]))}catch(n){throw new Bi("Invalid token specified: "+n.message)}}Bi.prototype=new Error,Bi.prototype.name="InvalidTokenError";var ji=aI;var Ll=je(Da()),dv=je($i()),pv=je(Ml());var Dl=class extends events.EventEmitter{constructor(r){super();this.filepath=r;this.data={};}async load(){this.data=await Ll.default.readJson(ql,{throws:!1})||{};}async save(){await Ll.default.outputJson(ql,this.data);}watch(){this.watcher=pv.default.watch(this.filepath,{interval:1e3});let r=async()=>{let n=this.data;await this.load(),(0, dv.default)(n,this.data)||super.emit("updated",this.data);};this.watcher.on("add",r),this.watcher.on("change",r);}},ql=ab__default.default.join(Eb__default.default.homedir(),".tabby-client","agent","data.json"),or=new Dl(ql);var Bs=je(bw()),Nw=je(Fw());var zu=class{constructor(){this.streamOptions={filename:ab__default.default.join(Eb__default.default.homedir(),".tabby-client","agent","logs","%DATE%"),frequency:"daily",size:"10M",max_logs:"30d",extension:".log",create_symlink:!0};}write(e){this.stream||(this.stream=Nw.getStream(this.streamOptions)),this.stream.write(e);}},Tw=new zu,Ow={serializers:{error:Bs.default.stdSerializers.err}},Re=Tw?(0, Bs.default)(Ow,Tw):(0, Bs.default)(Ow);Re.level="silent";var Bn=[Re];Re.onChild=t=>{Bn.push(t);};var Gu=class extends Error{constructor(r){super();this.cause=r;this.name="RetryLimitReachedError";}},js=class t extends events.EventEmitter{constructor(r){super();this.endpoint=r;this.logger=Re.child({component:"Auth"});this.authApi=Qt({baseUrl:"https://app.tabbyml.com/api"});}static{this.authPageUrl="https://app.tabbyml.com/account/device-token";}static{this.tokenStrategy={polling:{interval:5e3,timeout:5*60*1e3},refresh:{interval:15*60*1e3,beforeExpire:30*60*1e3,whenLoaded:{maxTry:5,retryDelay:1e3},whenScheduled:{maxTry:60,retryDelay:30*1e3}}};}async init(r){r?.dataStore?this.dataStore=r.dataStore:(this.dataStore=or,or&&(or.on("updated",async()=>{await this.load(),super.emit("updated",this.jwt);}),or.watch())),this.scheduleRefreshToken(),await this.load();}get token(){return this.jwt?.token}get user(){return this.jwt?.payload.email}async load(){if(this.dataStore)try{await this.dataStore.load();let r=this.dataStore.data.auth?.[this.endpoint]?.jwt;if(typeof r=="string"&&this.jwt?.token!==r){this.logger.debug({storedJwt:r},"Load jwt from data store.");let n={token:r,payload:ji(r)};n.payload.exp*1e3-Date.now()<t.tokenStrategy.refresh.beforeExpire?(this.jwt=await this.refreshToken(n,t.tokenStrategy.refresh.whenLoaded),await this.save()):this.jwt=n;}}catch(r){this.logger.debug({error:r},"Error when loading auth");}}async save(){if(this.dataStore)try{if(this.jwt){if(this.dataStore.data.auth?.[this.endpoint]?.jwt===this.jwt.token)return;this.dataStore.data.auth={...this.dataStore.data.auth,[this.endpoint]:{jwt:this.jwt.token}};}else {if(typeof this.dataStore.data.auth?.[this.endpoint]>"u")return;delete this.dataStore.data.auth[this.endpoint];}await this.dataStore.save(),this.logger.debug("Save changes to data store.");}catch(r){this.logger.error({error:r},"Error when saving auth");}}async reset(){this.jwt&&(this.jwt=void 0,await this.save());}async requestAuthUrl(r){try{if(await this.reset(),r?.signal.aborted)throw r.signal.reason;this.logger.debug("Start to request device token");let n=await this.authApi.POST("/device-token",{body:{auth_url:this.endpoint},signal:r?.signal});if(n.error||!n.response.ok)throw new We(n.response);let s=n.data;this.logger.debug({deviceToken:s},"Request device token response");let i=new URL(t.authPageUrl);return i.searchParams.append("code",s.data.code),{authUrl:i.toString(),code:s.data.code}}catch(n){throw this.logger.error({error:n},"Error when requesting token"),n}}async pollingToken(r,n){return new Promise((s,i)=>{let o=hn([AbortSignal.timeout(t.tokenStrategy.polling.timeout),n?.signal]),l=setInterval(async()=>{try{let f=await this.authApi.POST("/device-token/accept",{params:{query:{code:r}},signal:o});if(f.error||!f.response.ok)throw new We(f.response);let p=f.data;this.logger.debug({result:p},"Poll jwt response"),this.jwt={token:p.data.jwt,payload:ji(p.data.jwt)},super.emit("updated",this.jwt),await this.save(),clearInterval(l),s(!0);}catch(f){f instanceof We&&[400,401,403,405].includes(f.status)?this.logger.debug({error:f},"Expected error when polling jwt"):this.logger.error({error:f},"Error when polling jwt");}},t.tokenStrategy.polling.interval);o.aborted?(clearInterval(l),i(o.reason)):o.addEventListener("abort",()=>{clearInterval(l),i(o.reason);});})}async refreshToken(r,n={maxTry:1,retryDelay:1e3},s=0){try{this.logger.debug({retry:s},"Start to refresh token");let i=await this.authApi.POST("/device-token/refresh",{headers:{Authorization:`Bearer ${r.token}`}});if(i.error||!i.response.ok)throw new We(i.response);let o=i.data;return this.logger.debug({refreshedJwt:o},"Refresh token response"),{token:o.data.jwt,payload:ji(o.data.jwt)}}catch(i){if(i instanceof We&&[400,401,403,405].includes(i.status))this.logger.debug({error:i},"Error when refreshing jwt");else if(this.logger.error({error:i},"Unknown error when refreshing jwt"),s<n.maxTry)return this.logger.debug(`Retry refreshing jwt after ${n.retryDelay}ms`),await new Promise(o=>setTimeout(o,n.retryDelay)),this.refreshToken(r,n,s+1);throw new Gu(i)}}scheduleRefreshToken(){setInterval(async()=>{if(this.jwt)if(this.jwt.payload.exp*1e3-Date.now()<t.tokenStrategy.refresh.beforeExpire)try{this.jwt=await this.refreshToken(this.jwt,t.tokenStrategy.refresh.whenScheduled),super.emit("updated",this.jwt),await this.save();}catch(r){this.logger.error({error:r},"Error when refreshing jwt");}else this.logger.debug("Check token, still valid");},t.tokenStrategy.refresh.interval);}};var Vu={server:{endpoint:"http://localhost:8080",token:"",requestHeaders:{},requestTimeout:3e4},completion:{prompt:{experimentalStripAutoClosingCharacters:!1,maxPrefixLines:20,maxSuffixLines:20,clipboard:{minChars:3,maxChars:2e3}},debounce:{mode:"adaptive",interval:250},timeout:4e3},postprocess:{limitScope:{experimentalSyntax:!1,indentation:{experimentalKeepBlockScopeWhenCompletingLine:!1}},calculateReplaceRange:{experimentalSyntax:!1}},logs:{level:"silent"},anonymousUsageTracking:{disable:!1}};var Zu=je(Da()),Uw=je(Dw()),Bw=je(Ml()),jw=je($i());var qw=`## Tabby agent configuration file

## Online documentation: https://tabby.tabbyml.com/docs/extensions/configurations
## You can uncomment and edit the values below to change the default settings.
## Configurations in this file have lower priority than the IDE settings.

## Server
## You can set the server endpoint here and an optional authentication token if required.
# [server]
# endpoint = "http://localhost:8080" # http or https URL
# token = "your-token-here" # if token is set, request header Authorization = "Bearer $token" will be added automatically

## You can add custom request headers.
# [server.requestHeaders]
# Header1 = "Value1" # list your custom headers here
# Header2 = "Value2" # values can be strings, numbers or booleans

## Completion
## (Since 1.1.0) You can set the completion request timeout here.
## Note that there is also a timeout config at the server side.
# [completion]
# timeout = 4000 # 4s

## Logs
## You can set the log level here. The log file is located at ~/.tabby-client/agent/logs/.
# [logs]
# level = "silent" # "silent" or "error" or "debug"

## Anonymous usage tracking
## Tabby collects anonymous usage data and sends it to the Tabby team to help improve our products.
## Your code, generated completions, or any sensitive information is never tracked or sent.
## For more details on data collection, see https://tabby.tabbyml.com/docs/extensions/configurations#usage-collection
## Your contribution is greatly appreciated. However, if you prefer not to participate, you can disable anonymous usage tracking here.
# [anonymousUsageTracking]
# disable = false # set to true to disable

`,x$={server:"object","server.endpoint":"string","server.token":"string","server.requestHeaders":"object","server.requestTimeout":"number",completion:"object","completion.prompt":"object","completion.prompt.experimentalStripAutoClosingCharacters":"boolean","completion.prompt.maxPrefixLines":"number","completion.prompt.maxSuffixLines":"number","completion.prompt.clipboard":"object","completion.prompt.clipboard.minChars":"number","completion.prompt.clipboard.maxChars":"number","completion.debounce":"object","completion.debounce.mode":"string","completion.debounce.interval":"number","completion.timeout":"number",postprocess:"object","postprocess.limitScopeByIndentation":"object","postprocess.limitScopeByIndentation.experimentalKeepBlockScopeWhenCompletingLine":"boolean",logs:"object","logs.level":"string",anonymousUsageTracking:"object","anonymousUsageTracking.disable":"boolean"};function I$(t){for(let[e,r]of Object.entries(x$))typeof Mi(t,e)!==r&&Li(t,e);return t}var Xu=class extends events.EventEmitter{constructor(r){super();this.filepath=r;this.data={};this.logger=Re.child({component:"ConfigFile"});}get config(){return this.data}async load(){try{let r=await Zu.default.readFile(this.filepath,"utf8"),n=Uw.default.parse(r);if(Object.keys(n).length===0&&r.trim()!==qw.trim()){await this.createTemplate();return}this.data=I$(n);}catch(r){r instanceof Error&&"code"in r&&r.code==="ENOENT"?await this.createTemplate():this.logger.error({error:r},"Failed to load config file");}}watch(){this.watcher=Bw.default.watch(this.filepath,{interval:1e3});let r=async()=>{let n=this.data;await this.load(),(0, jw.default)(n,this.data)||super.emit("updated",this.data);};this.watcher.on("add",r),this.watcher.on("change",r);}async createTemplate(){try{await Zu.default.outputFile(this.filepath,qw);}catch(r){this.logger.error({error:r},"Failed to create config template file");}}},R$=ab__default.default.join(Eb__default.default.homedir(),".tabby-client","agent","config.toml"),jr=new Xu(R$);var jn=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,zw=new Set,Ku=typeof process=="object"&&process?process:{},Gw=(t,e,r,n)=>{typeof Ku.emitWarning=="function"?Ku.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`);},Ws=globalThis.AbortController,Ww=globalThis.AbortSignal;if(typeof Ws>"u"){Ww=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,s){this._onabort.push(s);}},Ws=class{constructor(){e();}signal=new Ww;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let s of this.signal._onabort)s(n);this.signal.onabort?.(n);}}};let t=Ku.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,Gw("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e));};}var P$=t=>!zw.has(t),Vt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Vw=t=>Vt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Wr:null:null,Wr=class extends Array{constructor(e){super(e),this.fill(0);}},Yu=class t{heap;length;static#l=!1;static create(e){let r=Vw(e);if(!r)return [];t.#l=!0;let n=new t(e,r);return t.#l=!1,n}constructor(e,r){if(!t.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0;}push(e){this.heap[this.length++]=e;}pop(){return this.heap[--this.length]}},zs=class t{#l;#f;#y;#_;#P;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#n;#h;#i;#r;#e;#u;#d;#a;#s;#m;#o;#b;#E;#g;#v;#C;#c;static unsafeExposeInternals(e){return {starts:e.#E,ttls:e.#g,sizes:e.#b,keyMap:e.#i,keyList:e.#r,valList:e.#e,next:e.#u,prev:e.#d,get head(){return e.#a},get tail(){return e.#s},free:e.#m,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,n,s,i)=>e.#O(r,n,s,i),moveToTail:r=>e.#R(r),indexes:r=>e.#S(r),rindexes:r=>e.#w(r),isStale:r=>e.#p(r)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#h}get size(){return this.#n}get fetchMethod(){return this.#P}get dispose(){return this.#y}get disposeAfter(){return this.#_}constructor(e){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:l,allowStale:f,dispose:p,disposeAfter:u,noDisposeOnSet:_,noUpdateTTL:h,maxSize:m=0,maxEntrySize:y=0,sizeCalculation:w,fetchMethod:E,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:O,ignoreFetchAbort:k}=e;if(r!==0&&!Vt(r))throw new TypeError("max option must be a nonnegative integer");let B=r?Vw(r):Array;if(!B)throw new Error("invalid max value: "+r);if(this.#l=r,this.#f=m,this.maxEntrySize=y||this.#f,this.sizeCalculation=w,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=E,this.#C=!!E,this.#i=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#u=new B(r),this.#d=new B(r),this.#a=0,this.#s=0,this.#m=Yu.create(r),this.#n=0,this.#h=0,typeof p=="function"&&(this.#y=p),typeof u=="function"?(this.#_=u,this.#o=[]):(this.#_=void 0,this.#o=void 0),this.#v=!!this.#y,this.#c=!!this.#_,this.noDisposeOnSet=!!_,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!k,this.maxEntrySize!==0){if(this.#f!==0&&!Vt(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!Vt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L();}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!l,this.ttlResolution=Vt(s)||s===0?s:1,this.ttlAutopurge=!!i,this.ttl=n||0,this.ttl){if(!Vt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N();}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let q="LRU_CACHE_UNBOUNDED";P$(q)&&(zw.add(q),Gw("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",q,t));}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#N(){let e=new Wr(this.#l),r=new Wr(this.#l);this.#g=e,this.#E=r,this.#H=(i,o,l=jn.now())=>{if(r[i]=o!==0?l:0,e[i]=o,o!==0&&this.ttlAutopurge){let f=setTimeout(()=>{this.#p(i)&&this.delete(this.#r[i]);},o+1);f.unref&&f.unref();}},this.#x=i=>{r[i]=e[i]!==0?jn.now():0;},this.#A=(i,o)=>{if(e[o]){let l=e[o],f=r[o];i.ttl=l,i.start=f,i.now=n||s();let p=i.now-f;i.remainingTTL=l-p;}};let n=0,s=()=>{let i=jn.now();if(this.ttlResolution>0){n=i;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref();}return i};this.getRemainingTTL=i=>{let o=this.#i.get(i);if(o===void 0)return 0;let l=e[o],f=r[o];if(l===0||f===0)return 1/0;let p=(n||s())-f;return l-p},this.#p=i=>e[i]!==0&&r[i]!==0&&(n||s())-r[i]>e[i];}#x=()=>{};#A=()=>{};#H=()=>{};#p=()=>!1;#L(){let e=new Wr(this.#l);this.#h=0,this.#b=e,this.#I=r=>{this.#h-=e[r],e[r]=0;},this.#k=(r,n,s,i)=>{if(this.#t(n))return 0;if(!Vt(s))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(s=i(n,r),!Vt(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#F=(r,n,s)=>{if(e[r]=n,this.#f){let i=this.#f-e[r];for(;this.#h>i;)this.#T(!0);}this.#h+=e[r],s&&(s.entrySize=n,s.totalCalculatedSize=this.#h);};}#I=e=>{};#F=(e,r,n)=>{};#k=(e,r,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#s;!(!this.#$(r)||((e||!this.#p(r))&&(yield r),r===this.#a));)r=this.#d[r];}*#w({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#a;!(!this.#$(r)||((e||!this.#p(r))&&(yield r),r===this.#s));)r=this.#u[r];}#$(e){return e!==void 0&&this.#i.get(this.#r[e])===e}*entries(){for(let e of this.#S())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*rentries(){for(let e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*keys(){for(let e of this.#S()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*rkeys(){for(let e of this.#w()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*values(){for(let e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}*rvalues(){for(let e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.#S()){let s=this.#e[n],i=this.#t(s)?s.__staleWhileFetching:s;if(i!==void 0&&e(i,this.#r[n],this))return this.get(this.#r[n],r)}}forEach(e,r=this){for(let n of this.#S()){let s=this.#e[n],i=this.#t(s)?s.__staleWhileFetching:s;i!==void 0&&e.call(r,i,this.#r[n],this);}}rforEach(e,r=this){for(let n of this.#w()){let s=this.#e[n],i=this.#t(s)?s.__staleWhileFetching:s;i!==void 0&&e.call(r,i,this.#r[n],this);}}purgeStale(){let e=!1;for(let r of this.#w({allowStale:!0}))this.#p(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#S({allowStale:!0})){let n=this.#r[r],s=this.#e[r],i=this.#t(s)?s.__staleWhileFetching:s;if(i===void 0||n===void 0)continue;let o={value:i};if(this.#g&&this.#E){o.ttl=this.#g[r];let l=jn.now()-this.#E[r];o.start=Math.floor(Date.now()-l);}this.#b&&(o.size=this.#b[r]),e.unshift([n,o]);}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let s=Date.now()-n.start;n.start=jn.now()-s;}this.set(r,n.value,n);}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:s=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:f}=n,{noUpdateTTL:p=this.noUpdateTTL}=n,u=this.#k(e,r,n.size||0,l);if(this.maxEntrySize&&u>this.maxEntrySize)return f&&(f.set="miss",f.maxEntrySizeExceeded=!0),this.delete(e),this;let _=this.#n===0?void 0:this.#i.get(e);if(_===void 0)_=this.#n===0?this.#s:this.#m.length!==0?this.#m.pop():this.#n===this.#l?this.#T(!1):this.#n,this.#r[_]=e,this.#e[_]=r,this.#i.set(e,_),this.#u[this.#s]=_,this.#d[_]=this.#s,this.#s=_,this.#n++,this.#F(_,u,f),f&&(f.set="add"),p=!1;else {this.#R(_);let h=this.#e[_];if(r!==h){if(this.#C&&this.#t(h)?h.__abortController.abort(new Error("replaced")):o||(this.#v&&this.#y?.(h,e,"set"),this.#c&&this.#o?.push([h,e,"set"])),this.#I(_),this.#F(_,u,f),this.#e[_]=r,f){f.set="replace";let m=h&&this.#t(h)?h.__staleWhileFetching:h;m!==void 0&&(f.oldValue=m);}}else f&&(f.set="update");}if(s!==0&&!this.#g&&this.#N(),this.#g&&(p||this.#H(_,s,i),f&&this.#A(f,_)),!o&&this.#c&&this.#o){let h=this.#o,m;for(;m=h?.shift();)this.#_?.(...m);}return this}pop(){try{for(;this.#n;){let e=this.#e[this.#a];if(this.#T(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#c&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#_?.(...r);}}}#T(e){let r=this.#a,n=this.#r[r],s=this.#e[r];return this.#C&&this.#t(s)?s.__abortController.abort(new Error("evicted")):(this.#v||this.#c)&&(this.#v&&this.#y?.(s,n,"evict"),this.#c&&this.#o?.push([s,n,"evict"])),this.#I(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#m.push(r)),this.#n===1?(this.#a=this.#s=0,this.#m.length=0):this.#a=this.#u[r],this.#i.delete(n),this.#n--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=r,i=this.#i.get(e);if(i!==void 0){let o=this.#e[i];if(this.#t(o)&&o.__staleWhileFetching===void 0)return !1;if(this.#p(i))s&&(s.has="stale",this.#A(s,i));else return n&&this.#x(i),s&&(s.has="hit",this.#A(s,i)),!0}else s&&(s.has="miss");return !1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,s=this.#i.get(e);if(s!==void 0&&(n||!this.#p(s))){let i=this.#e[s];return this.#t(i)?i.__staleWhileFetching:i}}#O(e,r,n,s){let i=r===void 0?void 0:this.#e[r];if(this.#t(i))return i;let o=new Ws,{signal:l}=n;l?.addEventListener("abort",()=>o.abort(l.reason),{signal:o.signal});let f={signal:o.signal,options:n,context:s},p=(w,E=!1)=>{let{aborted:A}=o.signal,S=n.ignoreFetchAbort&&w!==void 0;if(n.status&&(A&&!E?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,S&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),A&&!S&&!E)return _(o.signal.reason);let R=m;return this.#e[r]===m&&(w===void 0?R.__staleWhileFetching?this.#e[r]=R.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,w,f.options))),w},u=w=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=w),_(w)),_=w=>{let{aborted:E}=o.signal,A=E&&n.allowStaleOnFetchAbort,S=A||n.allowStaleOnFetchRejection,R=S||n.noDeleteOnFetchRejection,O=m;if(this.#e[r]===m&&(!R||O.__staleWhileFetching===void 0?this.delete(e):A||(this.#e[r]=O.__staleWhileFetching)),S)return n.status&&O.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),O.__staleWhileFetching;if(O.__returned===O)throw w},h=(w,E)=>{let A=this.#P?.(e,i,f);A&&A instanceof Promise&&A.then(S=>w(S),E),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(w(),n.allowStaleOnFetchAbort&&(w=S=>p(S,!0)));});};n.status&&(n.status.fetchDispatched=!0);let m=new Promise(h).then(p,u),y=Object.assign(m,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return r===void 0?(this.set(e,y,{...f.options,status:void 0}),r=this.#i.get(e)):this.#e[r]=y,y}#t(e){if(!this.#C)return !1;let r=e;return !!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Ws}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:f=0,sizeCalculation:p=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:_=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:w,forceRefresh:E=!1,status:A,signal:S}=r;if(!this.#C)return A&&(A.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:i,status:A});let R={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:l,size:f,sizeCalculation:p,noUpdateTTL:u,noDeleteOnFetchRejection:_,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:y,ignoreFetchAbort:m,status:A,signal:S},O=this.#i.get(e);if(O===void 0){A&&(A.fetch="miss");let k=this.#O(e,O,R,w);return k.__returned=k}else {let k=this.#e[O];if(this.#t(k)){let U=n&&k.__staleWhileFetching!==void 0;return A&&(A.fetch="inflight",U&&(A.returnedStale=!0)),U?k.__staleWhileFetching:k.__returned=k}let B=this.#p(O);if(!E&&!B)return A&&(A.fetch="hit"),this.#R(O),s&&this.#x(O),A&&this.#A(A,O),k;let q=this.#O(e,O,R,w),N=q.__staleWhileFetching!==void 0&&n;return A&&(A.fetch=B?"stale":"refresh",N&&B&&(A.returnedStale=!0)),N?q.__staleWhileFetching:q.__returned=q}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=r,l=this.#i.get(e);if(l!==void 0){let f=this.#e[l],p=this.#t(f);return o&&this.#A(o,l),this.#p(l)?(o&&(o.get="stale"),p?(o&&n&&f.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?f.__staleWhileFetching:void 0):(i||this.delete(e),o&&n&&(o.returnedStale=!0),n?f:void 0)):(o&&(o.get="hit"),p?f.__staleWhileFetching:(this.#R(l),s&&this.#x(l),f))}else o&&(o.get="miss");}#M(e,r){this.#d[r]=e,this.#u[e]=r;}#R(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#M(this.#d[e],this.#u[e]),this.#M(this.#s,e),this.#s=e);}delete(e){let r=!1;if(this.#n!==0){let n=this.#i.get(e);if(n!==void 0)if(r=!0,this.#n===1)this.clear();else {this.#I(n);let s=this.#e[n];this.#t(s)?s.__abortController.abort(new Error("deleted")):(this.#v||this.#c)&&(this.#v&&this.#y?.(s,e,"delete"),this.#c&&this.#o?.push([s,e,"delete"])),this.#i.delete(e),this.#r[n]=void 0,this.#e[n]=void 0,n===this.#s?this.#s=this.#d[n]:n===this.#a?this.#a=this.#u[n]:(this.#u[this.#d[n]]=this.#u[n],this.#d[this.#u[n]]=this.#d[n]),this.#n--,this.#m.push(n);}}if(this.#c&&this.#o?.length){let n=this.#o,s;for(;s=n?.shift();)this.#_?.(...s);}return r}clear(){for(let e of this.#w({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else {let n=this.#r[e];this.#v&&this.#y?.(r,n,"delete"),this.#c&&this.#o?.push([r,n,"delete"]);}}if(this.#i.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#g&&this.#E&&(this.#g.fill(0),this.#E.fill(0)),this.#b&&this.#b.fill(0),this.#a=0,this.#s=0,this.#m.length=0,this.#h=0,this.#n=0,this.#c&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#_?.(...r);}}};var eb=je(Qw());function T$(t){return t.trimEnd().split("").every(e=>qi.includes(e))}var pr=class{constructor(e){this.filepath=e.filepath,this.language=e.language,this.text=e.text,this.position=e.position,this.indentation=e.indentation,this.prefix=e.text.slice(0,e.position),this.suffix=e.text.slice(e.position),this.prefixLines=he(this.prefix),this.suffixLines=he(this.suffix),this.currentLinePrefix=this.prefixLines[this.prefixLines.length-1]??"",this.currentLineSuffix=this.suffixLines[0]??"",this.clipboard=e.clipboard?.trim()??"";let r=T$(this.suffixLines[0]??"");this.mode=r?"default":"fill-in-line",this.hash=(0, eb.default)({filepath:this.filepath,language:this.language,text:this.text,position:this.position,clipboard:this.clipboard});}};var Gs=class{constructor(){this.logger=Re.child({component:"CompletionCache"});this.options={maxCount:1e4,prebuildCache:{enabled:!0,perCharacter:{lines:1,max:50},perLine:{max:10},autoClosingPairCheck:{max:3}}};this.cache=new zs({max:this.options.maxCount});}has(e){return this.cache.has(e.hash)}buildCache(e,r){this.logger.debug({key:e,value:r},"Starting to build cache");let n=this.createCacheEntries(e,r);n.forEach(s=>{this.cache.set(s.key.hash,{value:s.value,rebuildFlag:s.rebuildFlag});}),this.logger.debug({newEntries:n.length,cacheSize:this.cache.size},"Cache updated");}get(e){let r=this.cache.get(e.hash);return r?.rebuildFlag&&this.buildCache(e,r?.value),r?.value}createCacheEntries(e,r){let n=[{key:e,value:r,rebuildFlag:!1}];if(this.options.prebuildCache.enabled)for(let i of r.choices){let o=i.text.slice(e.position-i.replaceRange.start),l=this.getPerLinePositions(o);this.logger.trace({completionText:o,perLinePositions:l},"Calculate per-line cache positions");for(let p of l){let u=o.slice(0,p),_=this.generateAutoClosedPrefixes(u);for(let h of [u,..._]){let m={key:new pr({...e,text:e.text.slice(0,e.position)+h+e.text.slice(e.position),position:e.position+p}),value:{...r,choices:[{index:i.index,text:o.slice(p),replaceRange:{start:e.position+p,end:e.position+p}}]},rebuildFlag:!0};this.logger.trace({prefix:h,entry:m},"Build per-line cache entry"),n.push(m);}}let f=this.getPerCharacterPositions(o);this.logger.trace({completionText:o,perCharacterPositions:f},"Calculate per-character cache positions");for(let p of f){let u=p;for(;u>0&&o[u-1]!==`
`;)u--;let _=o.slice(0,p),h=this.generateAutoClosedPrefixes(_);for(let m of [_,...h]){let y={key:new pr({...e,text:e.text.slice(0,e.position)+m+e.text.slice(e.position),position:e.position+p}),value:{...r,choices:[{index:i.index,text:o.slice(u),replaceRange:{start:e.position+u,end:e.position+p}}]},rebuildFlag:!1};this.logger.trace({prefix:m,entry:y},"Build per-character cache entry"),n.push(y);}}}return n.reduce((i,o)=>{let l=i.find(f=>f.key.hash===o.key.hash);return l?(l.value.choices.push(...o.value.choices),l.rebuildFlag=l.rebuildFlag||o.rebuildFlag):i.push(o),i},[])}getPerLinePositions(e){let r=[],n=this.options.prebuildCache,s=he(e),i=0,o=0;for(;i<s.length-1&&i<n.perLine.max;){o+=s[i]?.length??0,r.push(o-1),r.push(o);let l=o;for(;l<e.length&&e[l].match(/\s/);)l++;r.push(l),i++;}return r}getPerCharacterPositions(e){let r=[],n=this.options.prebuildCache,s=he(e).slice(0,n.perCharacter.lines).join(""),i=0;for(;i<s.length&&i<n.perCharacter.max;)r.push(i),i++;return r}generateAutoClosedPrefixes(e){let r=[],n=Ui(e);for(let s=0,i="";s<this.options.prebuildCache.autoClosingPairCheck.max&&n.length>s;s++){let o=ph.indexOf(n[n.length-1-s]);if(o<0)break;i=i+qi[o],r.push(e+i);}return r}};function ec(t,e,r){return Math.max(t,Math.min(e,r))}var Vs=class{constructor(){this.lastCalledTimeStamp=0;this.baseInterval=200;this.calledIntervalHistory=[];this.options={baseIntervalSlideWindowAvg:{minSize:20,maxSize:100,min:100,max:400},adaptiveRate:{min:1.5,max:3},contextScoreWeights:{triggerCharacter:.5,noSuffixInCurrentLine:.4,noSuffix:.1},requestDelay:{min:100,max:1e3}};}async debounce(e,r){let{request:n,config:s,responseTime:i}=e;if(n.manually)return this.sleep(0,r);if(s.mode==="fixed")return this.sleep(s.interval,r);let o=Date.now();this.updateBaseInterval(o-this.lastCalledTimeStamp),this.lastCalledTimeStamp=o;let l=this.calcContextScore(n),p=(this.options.adaptiveRate.max-(this.options.adaptiveRate.max-this.options.adaptiveRate.min)*l)*this.baseInterval,u=ec(this.options.requestDelay.min,this.options.requestDelay.max,p-i);return this.sleep(u,r)}async sleep(e,r){return new Promise((n,s)=>{let i=setTimeout(n,Math.min(e,2147483647));r?.signal&&(r.signal.aborted?(clearTimeout(i),s(r.signal.reason)):r.signal.addEventListener("abort",()=>{clearTimeout(i),s(r.signal.reason);}));})}updateBaseInterval(e){if(!(e>this.options.baseIntervalSlideWindowAvg.max)&&(this.calledIntervalHistory.push(e),this.calledIntervalHistory.length>this.options.baseIntervalSlideWindowAvg.maxSize&&this.calledIntervalHistory.shift(),this.calledIntervalHistory.length>this.options.baseIntervalSlideWindowAvg.minSize)){let r=this.calledIntervalHistory.reduce((n,s)=>n+s,0)/this.calledIntervalHistory.length;this.baseInterval=ec(this.options.baseIntervalSlideWindowAvg.min,this.options.baseIntervalSlideWindowAvg.max,r);}}calcContextScore(e){let r=0,n=this.options.contextScoreWeights,s=e.text[e.position-1]??"";r+=s.match(/^\W*$/)?n.triggerCharacter:0;let i=e.text.slice(e.position)??"",o=he(i)[0]??"";return r+=o.match(/^\W*$/)?n.noSuffixInCurrentLine:0,r+=i.match(/^\W*$/)?n.noSuffix:0,r=ec(0,1,r),r}};var de=Re.child({component:"Postprocess"});Array.prototype.distinct||(Array.prototype.distinct=function(t){return [...new Map(this.map(e=>[t?.(e)??e,e])).values()]});Array.prototype.mapAsync||(Array.prototype.mapAsync=async function(t,e){return await Promise.all(this.map((r,n)=>t.call(e,r,n,this)))});function Ve(t,e){return tc(async r=>{let n=e.position-r.replaceRange.start,s=r.text.slice(n),i=await t(s,e);return r.text=r.text.slice(0,n)+(i??""),r},e)}function tc(t,e){return async r=>(r.choices=(await r.choices.mapAsync(async n=>await t(n,e))).filter(n=>!!n&&!!n.text).distinct(n=>n.text),r)}function O$(t){return /\n(\s*)\n/g}function tb(){return (t,e)=>{let r=t.split(O$()),n=0,s=2,i=r.length-2;for(;i>=1;){if(se(r[i])){i--;continue}let o=i-1;for(;o>=0&&se(r[o]);)o--;if(o<0)break;let l=r[i].trim(),f=r[o].trim(),p=Math.max(.1*l.length,.1*f.length);if(Ir(l,f)<=p)n++,i--;else break}return n>=s?(de.debug({inputBlocks:r,repetitionCount:n},"Remove repetitive blocks."),r.slice(0,i+1).join("").trimEnd()):t}}function rb(){return t=>{let e=he(t),r=0,n=5,s=e.length-2;for(;s>=1;){if(se(e[s])){s--;continue}let i=s-1;for(;i>=0&&se(e[i]);)i--;if(i<0)break;let o=e[s].trim(),l=e[i].trim(),f=Math.max(.1*o.length,.1*l.length);if(Ir(o,l)<=f)r++,s=i;else break}return r>=n?(de.debug({inputLines:e,repetitionCount:r},"Remove repetitive lines."),e.slice(0,s+1).join("").trimEnd()):t}}var N$=[/(.{3,}?)\1{5,}$/g,/(.{10,}?)\1{3,}$/g];function nb(){return t=>{let e=he(t),r=e.length-1;for(;r>=0&&se(e[r]);)r--;if(r<0)return t;for(let n of N$){let s=e[r].match(n);if(s)return de.debug({inputLines:e,lineNumber:r,match:s},"Remove line ends with repetition."),r<1?null:e.slice(0,r).join("").trimEnd()}return t}}function ib(){return (t,e)=>{let{suffixLines:r,currentLinePrefix:n}=e,s=he(t);if(s.length<2)return t;let i=s.map((p,u)=>u===0?n+p:p);if(!Di(i,s.length-1))return t;let o=s[s.length-1],l=1;for(;l<r.length&&se(r[l]);)l++;if(l>=r.length)return t;let f=r[l];return o.startsWith(f)||f.startsWith(o)?(de.debug({inputLines:s,suffixLines:r},"Removing duplicated block closing line"),s.slice(0,s.length-1).join("").trimEnd()):t}}function H$(t,e,r,n){let s={indentLevelLimit:0,allowClosingLine:!0},{prefixLines:i,suffixLines:o,currentLinePrefix:l}=r;if(t.length==0||i.length==0)return s;let f=se(l),p=i.length-1;for(;p>=0&&se(i[p]);)p--;if(p<0)return s;let u=i[p],_=mt(u),h=t[0],m=se(h),y=0;for(;y<t.length&&se(t[y]);)y++;if(y>=t.length)return s;let w=t[y],E;m?E=mt(w):E=mt(l+w),!m&&!f?n.experimentalKeepBlockScopeWhenCompletingLine?s.indentLevelLimit=_:(s.indentLevelLimit=_+1,s.allowClosingLine&&=ba(e,0)):E>_?s.indentLevelLimit=_+1:(s.indentLevelLimit=_);let A=1;for(;A<o.length&&se(o[A]);)A++;if(A<o.length){let S=o[A];s.allowClosingLine&&=mt(S)<s.indentLevelLimit;}return s}function sb(t){return (e,r)=>{let{prefixLines:n,suffixLines:s,currentLinePrefix:i}=r,o=he(e),l=o.map((u,_)=>_===0?i+u:u),f=H$(o,l,r,t),p=1;for(;p<o.length;){let u=o[p],_=o[p-1];if(se(u)){p++;continue}if(mt(u)<f.indentLevelLimit){if(Di(l,p)&&ba(l,p)){p++;continue}f.allowClosingLine&&(r.language!=="python"||!se(_))&&p++;break}p++;}return p<o.length?(de.debug({inputLines:o,prefixLines:n,suffixLines:s,scopeLineCount:p},"Remove content out of indent scope"),o.slice(0,p).join("").trimEnd()):e}}var Zs=je(ob());var Gr={javascript:"tsx",typescript:"tsx",javascriptreact:"tsx",typescriptreact:"tsx",python:"python",go:"go",rust:"rust",ruby:"ruby"},lb=!1;async function k$(t){lb||(await Zs.default.init({locateFile(n,s){let i=[s,"wasm",n];return ab__default.default.join(...i)}}),lb=!0);let e=new Zs.default,r=[__dirname,"wasm",`tree-sitter-${t}.wasm`];return e.setLanguage(await Zs.default.Language.load(ab__default.default.join(...r))),e}var ub=new Map;async function Xs(t){let e=ub.get(t);return e||(e=await k$(t),ub.set(t,e)),e}var cb={tsx:[["jsx_element","jsx_self_closing_element","for_statement","for_in_statement","if_statement","while_statement","do_statement","switch_statement","try_statement","with_statement","labeled_statement","class_declaration","abstract_class_declaration","interface_declaration","enum_declaration","type_alias_declaration","function_declaration","generator_function_declaration","ambient_declaration","method_definition","import_statement","export_statement","module"]],python:[["for_statement","if_statement","while_statement","match_statement","try_statement","with_statement","function_definition","decorated_definition","class_definition","import_statement","import_from_statement"]],go:[["for_statement","if_statement","expression_switch_statement","type_switch_statement","select_statement","labeled_statement","function_declaration","method_declaration","type_declaration","import_declaration","package_clause"]],rust:[["for_expression","if_expression","while_expression","loop_expression","match_expression","try_expression","function_item","type_item","enum_item","struct_item","union_item","trait_item","impl_item","use_declaration"]],ruby:[["for","if","unless","while","until","case","class","singleton_class","method","singleton_method","module"]]};var $$=Object.keys(Gr);function M$(t,e){let r=e-1;for(;r>=0&&t[r]?.match(/\s/);)r--;if(r<0)return 0;let n=t.lastIndexOf(`
`,r);if(n<0)return 0;let i=t.slice(n+1,e).search(/\S/);return n+1+i}function L$(t,e){let r=e;for(;r<t.length&&t[r]?.match(/\s/);)r++;if(r>=t.length)return t.length;let n=t.indexOf(`
`,r);return n<0?t.length:n}function D$(t,e){for(let r of e){let n=t;for(;n;){if(r.includes(n.type))return n;n=n.parent;}}return t}function fb(){return async(t,e)=>{let{position:r,text:n,language:s,prefix:i,suffix:o}=e;if(!$$.includes(s))throw new Error(`Language ${s} is not supported`);let l=Gr[s],f=await Xs(l),p=i+t+o,u=f.parse(p),_=M$(p,r),h=L$(p,r),m=D$(u.rootNode.namedDescendantForIndex(_,h),cb[l]??[]);if(m.type=="ERROR")throw new Error("Cannot determine syntax scope.");return m.endIndex<r+t.length?(de.debug({languageConfig:l,text:n,updatedText:p,position:r,lineBegin:_,lineEnd:h,scope:{type:m.type,start:m.startIndex,end:m.endIndex}},"Remove content out of syntax scope"),t.slice(0,m.endIndex-r)):t}}function db(t){return async(e,r)=>{if(t.experimentalSyntax)try{return await fb()(e,r)}catch(s){de.debug({error:s},"Failed to limit scope by syntax parser");}return sb(t.indentation)(e,r)}}function rc(t){let e={"	":0,"  ":0,"    ":0};for(let r of t)if(r.match(/^\t/))e["	"]++;else {let n=r.match(/^ */)?.[0].length??0;n>0&&(n%4===0&&e["    "]++,n%2===0&&e["  "]++);}return e["	"]>0?"	":e["  "]>e["    "]?"  ":e["    "]>0?"    ":null}function q$(t,e){return e==="	"?t.match(/^\t*/g)?.[0].length??0:(t.match(/^ */)?.[0].length??0)/e.length}function pb(){return (t,e)=>{let{prefixLines:r,suffixLines:n,currentLinePrefix:s,indentation:i}=e,o=he(t);if(!i)return t;let l=se(s)?r.slice(0,r.length-1):r;if(r.length>1&&rc(l)!==null)return t;let f=n.slice(1);if(n.length>1&&rc(f)!==null)return t;let p=o.map((h,m)=>m===0?s+h:h),u=rc(p);if(u===null||u===i)return t;let _=p.map((h,m)=>{let y=q$(h,u);if(y===0)return o[m];let w=h.slice(u.length*y);return m===0?se(s)?i.repeat(y).slice(s.length)+w:o[0]:i.repeat(y)+w});return de.debug({prefixLines:r,suffixLines:n,inputLines:o,formatted:_},"Format indentation."),_.join("")}}function nc(){return (t,e)=>{let{currentLinePrefix:r,currentLineSuffix:n}=e,s=t;return !se(r)&&r.match(/\s$/)&&(s=s.trimStart()),(se(n)||!se(n)&&n.match(/^\s/))&&(s=s.trimEnd()),s}}function _b(){return (t,e)=>{let r=he(t);if(e.mode==="fill-in-line"&&r.length>1){let n=e.currentLineSuffix.trimEnd(),s=r[0].trimEnd();if(s.endsWith(n)){let i=s.slice(0,-n.length);if(i.length>0)return de.debug({inputLines:r,trimmedInputLine:i},"Trim content with multiple lines"),i}return de.debug({inputLines:r},"Drop content with multiple lines"),null}return t}}function ic(){return (t,e)=>{let{suffixLines:r}=e,n=he(t),s=0;for(;s<n.length&&se(n[s]);)s++;let i=0;for(;i<r.length&&se(r[i]);)i++;let o=Math.min(3,n.length-s,r.length-i);if(o<1)return t;let l=n.slice(s,s+o).join("").trim(),f=r.slice(i,i+o).join("").trim(),p=Math.max(1,.05*l.length,.05*f.length),u=Ir(l,f);return u<=p?(de.debug({inputLines:n,suffixLines:r,inputToCompare:l,suffixToCompare:f,distance:u,threshold:p},"Drop completion due to duplicated."),null):t}}function sc(){return t=>se(t)?null:t}function hb(t,e){let{currentLineSuffix:r}=e,n=r.trimEnd();if(se(n))return t;let s=t.text.slice(e.position-t.replaceRange.start),i=Ui(s);return se(i)||(n.startsWith(i)?(t.replaceRange.end=e.position+i.length,de.trace({context:e,completion:t.text,range:t.replaceRange,unpaired:i},"Adjust replace range by bracket stack")):i.startsWith(n)&&(t.replaceRange.end=e.position+n.length,de.trace({context:e,completion:t.text,range:t.replaceRange,unpaired:i},"Adjust replace range by bracket stack"))),t}var U$=Object.keys(Gr);async function mb(t,e){let{position:r,prefix:n,suffix:s,prefixLines:i,currentLinePrefix:o,currentLineSuffix:l,language:f}=e,p=l.trimEnd();if(se(p))return t;if(!U$.includes(f))throw new Error(`Language ${f} is not supported`);let u=Gr[f],_=await Xs(u),h=t.text.slice(r-t.replaceRange.start),m=he(h),y=0,w=_.parse(n+h+s),E=w.rootNode.namedDescendantForIndex(n.length+h.length);for(;E.hasError()&&y<p.length;){y++;let A=i.length-1+m.length-1,S=m[m.length-1]?.length??0;m.length==1&&(S+=o.length),w.edit({startIndex:n.length+h.length,oldEndIndex:n.length+h.length+1,newEndIndex:n.length+h.length,startPosition:{row:A,column:S},oldEndPosition:{row:A,column:S+1},newEndPosition:{row:A,column:S}}),w=_.parse(n+h+s.slice(y),w),E=w.rootNode.namedDescendantForIndex(n.length+h.length);}if(E.hasError())throw new Error("Syntax error when parsing completion");return t.replaceRange.end=r+y,de.trace({context:e,completion:t.text,range:t.replaceRange},"Adjust replace range by syntax"),t}function gb(t){return async(e,r)=>{if(t.experimentalSyntax)try{return await mb(e,r)}catch(s){de.debug({error:s},"Failed to calculate replace range by syntax parser");}return hb(e,r)}}async function yb(t,e,r){return Promise.resolve(r).then(Ve(_b(),t)).then(Ve(nb(),t)).then(Ve(ic(),t)).then(Ve(nc(),t)).then(Ve(sc(),t))}async function vb(t,e,r){return Promise.resolve(r).then(Ve(tb(),t)).then(Ve(rb(),t)).then(Ve(db(e.limitScope),t)).then(Ve(ib(),t)).then(Ve(pb(),t)).then(Ve(ic(),t)).then(Ve(nc(),t)).then(Ve(sc(),t)).then(tc(gb(e.calculateReplaceRange),t))}var wb="tabby-agent",bb="1.2.0";var Ks=class{constructor(){this.anonymousUsageTrackingApi=Qt({baseUrl:"https://app.tabbyml.com/api"});this.logger=Re.child({component:"AnonymousUsage"});this.systemData={agent:`${wb}, ${bb}`,browser:void 0,node:`${process.version} ${process.platform} ${Eb__default.default.arch()} ${Eb__default.default.release()}`};this.sessionProperties={};this.userProperties={};this.userPropertiesUpdated=!1;this.emittedUniqueEvent=[];this.disabled=!1;}async init(e){if(this.dataStore=e?.dataStore||or,this.dataStore){try{await this.dataStore.load();}catch(r){this.logger.debug({error:r},"Error when loading anonymousId");}if(typeof this.dataStore.data.anonymousId=="string")this.anonymousId=this.dataStore.data.anonymousId;else {this.anonymousId=bt(),this.dataStore.data.anonymousId=this.anonymousId;try{await this.dataStore.save();}catch(r){this.logger.debug({error:r},"Error when saving anonymousId");}}}else this.anonymousId=bt();}setSessionProperties(e,r){Jt(this.sessionProperties,e,r);}setUserProperties(e,r){Jt(this.userProperties,e,r),this.userPropertiesUpdated=!0;}async uniqueEvent(e,r={}){await this.event(e,r,!0);}async event(e,r={},n=!1){if(this.disabled||!this.anonymousId||n&&this.emittedUniqueEvent.includes(e))return;n&&this.emittedUniqueEvent.push(e);let s={...this.systemData,...this.sessionProperties,...r};this.userPropertiesUpdated&&(Jt(s,"$set",this.userProperties),this.userPropertiesUpdated=!1);try{await this.anonymousUsageTrackingApi.POST("/usage",{body:{distinctId:this.anonymousId,event:e,properties:s}});}catch(i){this.logger.error({error:i},"Error when sending anonymous usage data");}}};var uc=je(Ib()),Ys=class{constructor(){this.sum=0;this.quantity=0;}add(e){this.sum+=e,this.quantity+=1;}mean(){if(this.quantity!==0)return this.sum/this.quantity}count(){return this.quantity}},Js=class{constructor(e){this.values=[];this.maxSize=e;}add(e){this.values.push(e),this.values.length>this.maxSize&&this.values.shift();}getValues(){return this.values}},Qs=class{constructor(){this.config={windowSize:10,checks:{disable:!1,healthy:{windowSize:3,latency:2400},slowResponseTime:{latency:3200,count:3},highTimeoutRate:{rate:.5,count:3}}};this.autoCompletionCount=0;this.manualCompletionCount=0;this.cacheHitCount=0;this.cacheMissCount=0;this.eventMap=new Map;this.completionRequestLatencyStats=new uc.Univariate;this.completionRequestCanceledStats=new Ys;this.completionRequestTimeoutCount=0;this.recentCompletionRequestLatencies=new Js(this.config.windowSize);}updateConfigByRequestTimeout(e){this.config.checks.healthy.latency=e*.6,this.config.checks.slowResponseTime.latency=e*.8,this.resetWindowed();}add(e){let{triggerMode:r,cacheHit:n,aborted:s,requestSent:i,requestLatency:o,requestCanceled:l,requestTimeout:f}=e;s||(r==="auto"?this.autoCompletionCount+=1:this.manualCompletionCount+=1,n?this.cacheHitCount+=1:this.cacheMissCount+=1),i&&(l?this.completionRequestCanceledStats.add(o):f?this.completionRequestTimeoutCount+=1:this.completionRequestLatencyStats.add(o),l||this.recentCompletionRequestLatencies.add(o));}addEvent(e){let r=this.eventMap.get(e)||0;this.eventMap.set(e,r+1);}reset(){this.autoCompletionCount=0,this.manualCompletionCount=0,this.cacheHitCount=0,this.cacheMissCount=0,this.eventMap=new Map,this.completionRequestLatencyStats=new uc.Univariate,this.completionRequestCanceledStats=new Ys,this.completionRequestTimeoutCount=0;}resetWindowed(){this.recentCompletionRequestLatencies=new Js(this.config.windowSize);}stats(){let e=Object.fromEntries(Array.from(this.eventMap.entries()).map(([r,n])=>["count_"+r,n]));return {completion:{count_auto:this.autoCompletionCount,count_manual:this.manualCompletionCount,cache_hit:this.cacheHitCount,cache_miss:this.cacheMissCount,...e},completion_request:{count:this.completionRequestLatencyStats.count(),latency_avg:this.completionRequestLatencyStats.mean(),latency_p50:this.completionRequestLatencyStats.percentile(50),latency_p95:this.completionRequestLatencyStats.percentile(95),latency_p99:this.completionRequestLatencyStats.percentile(99)},completion_request_canceled:{count:this.completionRequestCanceledStats.count(),latency_avg:this.completionRequestCanceledStats.mean()},completion_request_timeout:{count:this.completionRequestTimeoutCount}}}windowed(){let e=this.recentCompletionRequestLatencies.getValues(),r=e.filter(i=>Number.isNaN(i)),n=e.filter(i=>!Number.isNaN(i)),s=n.reduce((i,o)=>i+o,0)/n.length;return {values:e,stats:{total:e.length,timeouts:r.length,responses:n.length,averageResponseTime:s}}}check(e){if(this.config.checks.disable)return null;let r=this.config.checks,{values:n,stats:{total:s,timeouts:i,responses:o,averageResponseTime:l}}=e;return n.slice(-Math.max(this.config.windowSize,r.healthy.windowSize)).every(f=>f<r.healthy.latency)?"healthy":i/s>r.highTimeoutRate.rate&&i>=r.highTimeoutRate.count?"highTimeoutRate":l>r.slowResponseTime.latency&&o>=r.slowResponseTime.count?"slowResponseTime":null}};var to=class t extends events.EventEmitter{constructor(){super();this.logger=Re.child({component:"TabbyAgent"});this.anonymousUsageLogger=new Ks;this.config=Vu;this.userConfig={};this.clientConfig={};this.status="notInitialized";this.issues=[];this.completionCache=new Gs;this.completionDebounce=new Vs;this.completionProviderStats=new Qs;this.tryingConnectTimer=setInterval(async()=>{this.status==="disconnected"&&(this.logger.debug("Trying to connect..."),await this.healthCheck());},t.tryConnectInterval),this.submitStatsTimer=setInterval(async()=>{await this.submitStats();},t.submitStatsInterval);}static{this.tryConnectInterval=1e3*30;}static{this.submitStatsInterval=1e3*60*60*24;}async applyConfig(){let r=this.config,n=this.status;this.config=ih(Vu,this.userConfig,this.clientConfig),Bn.forEach(i=>i.level=this.config.logs.level),this.anonymousUsageLogger.disabled=this.config.anonymousUsageTracking.disable,se(this.config.server.token)&&this.config.server.requestHeaders.Authorization===void 0?this.config.server.endpoint!==this.auth?.endpoint&&(this.auth=new js(this.config.server.endpoint),await this.auth.init({dataStore:this.dataStore}),this.auth.on("updated",()=>{this.setupApi();})):this.auth=void 0,(0, eo.default)(r.server,this.config.server)||(this.serverHealthState=void 0,this.completionProviderStats.resetWindowed(),this.popIssue("slowCompletionResponseTime"),this.popIssue("highCompletionTimeoutRate"),this.popIssue("connectionFailed"),this.connectionErrorMessage=void 0),await this.setupApi(),(0, eo.default)(r.server,this.config.server)||n==="unauthorized"&&this.status==="unauthorized"&&this.emitAuthRequired(),r.completion.timeout!==this.config.completion.timeout&&(this.completionProviderStats.updateConfigByRequestTimeout(this.config.completion.timeout),this.popIssue("slowCompletionResponseTime"),this.popIssue("highCompletionTimeoutRate"));let s={event:"configUpdated",config:this.config};this.logger.debug({event:s},"Config updated"),super.emit("configUpdated",s);}async setupApi(){let r=se(this.config.server.token)?this.auth?.token?`Bearer ${this.auth.token}`:void 0:`Bearer ${this.config.server.token}`;this.api=Qt({baseUrl:this.config.server.endpoint.replace(/\/+$/,""),headers:{Authorization:r,...this.config.server.requestHeaders}}),await this.healthCheck();}changeStatus(r){if(this.status!=r){this.status=r;let n={event:"statusChanged",status:r};this.logger.debug({event:n},"Status changed"),super.emit("statusChanged",n),this.status==="unauthorized"&&this.emitAuthRequired();}}issueFromName(r){switch(r){case"highCompletionTimeoutRate":return {name:"highCompletionTimeoutRate",completionResponseStats:this.completionProviderStats.windowed().stats};case"slowCompletionResponseTime":return {name:"slowCompletionResponseTime",completionResponseStats:this.completionProviderStats.windowed().stats};case"connectionFailed":return {name:"connectionFailed",message:this.connectionErrorMessage}}}pushIssue(r){this.issues.includes(r)||(this.issues.push(r),this.logger.debug({issue:r},"Issues Pushed"),this.emitIssueUpdated());}popIssue(r){let n=this.issues.indexOf(r);n>=0&&(this.issues.splice(n,1),this.logger.debug({issue:r},"Issues Popped"),this.emitIssueUpdated());}emitAuthRequired(){let r={event:"authRequired",server:this.config.server};super.emit("authRequired",r);}emitIssueUpdated(){let r={event:"issuesUpdated",issues:this.issues};super.emit("issuesUpdated",r);}async submitStats(){let r=this.completionProviderStats.stats();r.completion_request.count>0&&(await this.anonymousUsageLogger.event("AgentStats",{stats:r}),this.completionProviderStats.reset(),this.logger.debug({stats:r},"Stats submitted"));}createAbortSignal(r){let n=Math.min(2147483647,r?.timeout||this.config.server.requestTimeout);return hn([AbortSignal.timeout(n),r?.signal])}async healthCheck(r){let n=bt(),s="/v1/health",i=this.config.server.endpoint+s,o={signal:this.createAbortSignal(r)};try{if(!this.api)throw new Error("http client not initialized");this.logger.debug({requestId:n,requestOptions:o,url:i},"Health check request");let l=await this.api.GET(s,o);if(l.error||!l.response.ok)throw new We(l.response);this.logger.debug({requestId:n,response:l},"Health check response"),this.changeStatus("ready"),this.popIssue("connectionFailed"),this.connectionErrorMessage=void 0;let f=l.data;typeof f=="object"&&f.model!==void 0&&f.device!==void 0&&(this.serverHealthState=f,this.anonymousUsageLogger.uniqueEvent("AgentConnected",f));}catch(l){if(this.serverHealthState=void 0,l instanceof We&&[401,403,405].includes(l.status))this.logger.debug({requestId:n,error:l},"Health check error: unauthorized"),this.changeStatus("unauthorized");else {if(mn(l))this.logger.debug({requestId:n,error:l},"Health check error: timeout"),this.connectionErrorMessage=`GET ${i}: Timed out.`;else if(er(l))this.logger.debug({requestId:n,error:l},"Health check error: canceled"),this.connectionErrorMessage=`GET ${i}: Canceled.`;else {this.logger.error({requestId:n,error:l},"Health check error: unknown error");let f=l instanceof Error?Ea(l):JSON.stringify(l);this.connectionErrorMessage=`GET ${i}: Request failed: 
${f}`;}this.pushIssue("connectionFailed"),this.changeStatus("disconnected");}}}createSegments(r){let n=this.config.completion.prompt.maxPrefixLines,s=this.config.completion.prompt.maxSuffixLines,{prefixLines:i,suffixLines:o}=r,l=i.slice(Math.max(i.length-n,0)).join(""),f;this.config.completion.prompt.experimentalStripAutoClosingCharacters&&r.mode!=="fill-in-line"?f=`
`+o.slice(1,s).join(""):f=o.slice(0,s).join("");let p,u=this.config.completion.prompt.clipboard;return r.clipboard.length>=u.minChars&&r.clipboard.length<=u.maxChars&&(p=r.clipboard),{prefix:l,suffix:f,clipboard:p}}async initialize(r){if(this.dataStore=r?.dataStore,await this.anonymousUsageLogger.init({dataStore:this.dataStore}),r.clientProperties){let{user:n,session:s}=r.clientProperties;Bn.forEach(i=>i.setBindings?.({...s})),s&&Object.entries(s).forEach(([i,o])=>{this.anonymousUsageLogger.setSessionProperties(i,o);}),n&&Object.entries(n).forEach(([i,o])=>{this.anonymousUsageLogger.setUserProperties(i,o);});}return jr&&(await jr.load(),this.userConfig=jr.config,jr.on("updated",async n=>{this.userConfig=n,await this.applyConfig();}),jr.watch()),r.config&&(this.clientConfig=r.config),await this.applyConfig(),await this.anonymousUsageLogger.uniqueEvent("AgentInitialized"),this.logger.debug({options:r},"Initialized"),this.status!=="notInitialized"}async finalize(){return this.status==="finalized"?!1:(await this.submitStats(),this.tryingConnectTimer&&clearInterval(this.tryingConnectTimer),this.submitStatsTimer&&clearInterval(this.submitStatsTimer),this.changeStatus("finalized"),!0)}async updateClientProperties(r,n,s){switch(r){case"session":Bn.forEach(i=>i.setBindings?.(Jt({},n,s))),this.anonymousUsageLogger.setSessionProperties(n,s);break;case"user":this.anonymousUsageLogger.setUserProperties(n,s);break}return !0}async updateConfig(r,n){let s=Mi(this.clientConfig,r);return (0, eo.default)(s,n)||(n===void 0?Li(this.clientConfig,r):Jt(this.clientConfig,r,n),await this.applyConfig()),!0}async clearConfig(r){return await this.updateConfig(r,void 0)}getConfig(){return this.config}getStatus(){return this.status}getIssues(){return this.issues}getIssueDetail(r){let n=this.getIssues();return r.index!==void 0&&r.index<n.length?this.issueFromName(n[r.index]):r.name!==void 0&&this.issues.includes(r.name)?this.issueFromName(r.name):null}getServerHealthState(){return this.serverHealthState??null}async requestAuthUrl(r){if(this.status==="notInitialized")throw new Error("Agent is not initialized");return await this.healthCheck(r),this.status!=="unauthorized"||!this.auth?null:await this.auth.requestAuthUrl(r)}async waitForAuthToken(r,n){if(this.status==="notInitialized")throw new Error("Agent is not initialized");this.status!=="unauthorized"||!this.auth||(await this.auth.pollingToken(r,n),await this.setupApi());}async provideCompletions(r,n){if(this.status==="notInitialized")throw new Error("Agent is not initialized");this.logger.trace({request:r},"Call provideCompletions"),this.nonParallelProvideCompletionAbortController&&this.nonParallelProvideCompletionAbortController.abort(),this.nonParallelProvideCompletionAbortController=new AbortController;let s=hn([this.nonParallelProvideCompletionAbortController.signal,n?.signal]),i,o={triggerMode:r.manually?"manual":"auto",cacheHit:!1,aborted:!1,requestSent:!1,requestLatency:0,requestCanceled:!1,requestTimeout:!1},l,f=new pr(r);try{if(this.completionCache.has(f))o.cacheHit=!0,this.logger.debug({context:f},"Completion cache hit"),await this.completionDebounce.debounce({request:r,config:this.config.completion.debounce,responseTime:0},{signal:s}),i=this.completionCache.get(f);else {o.cacheHit=!1;let p=this.createSegments(f);if(se(p.prefix))o=void 0,this.logger.debug("Segment prefix is blank, returning empty completion response"),i={id:"agent-"+bt(),choices:[]};else {await this.completionDebounce.debounce({request:r,config:this.config.completion.debounce,responseTime:this.completionProviderStats.windowed().stats.averageResponseTime},n);let u=bt();o.requestSent=!0,l=performance.now();try{if(!this.api)throw new Error("http client not initialized");let _="/v1/completions",h={body:{language:r.language,segments:p,user:this.auth?.user},signal:this.createAbortSignal({signal:s,timeout:this.config.completion.timeout})};this.logger.debug({requestId:u,requestOptions:h,url:this.config.server.endpoint+_},"Completion request");let m=await this.api.POST(_,h);if(m.error||!m.response.ok)throw new We(m.response);this.logger.debug({requestId:u,response:m},"Completion response");let y=m.data;o.requestLatency=performance.now()-l,i={id:y.id,choices:y.choices.map(w=>({index:w.index,text:w.text,replaceRange:{start:r.position,end:r.position}}))};}catch(_){throw er(_)?(this.logger.debug({requestId:u,error:_},"Completion request canceled"),o.requestCanceled=!0,o.requestLatency=performance.now()-l):mn(_)?(this.logger.debug({requestId:u,error:_},"Completion request timeout"),o.requestTimeout=!0,o.requestLatency=NaN):(this.logger.error({requestId:u,error:_},"Completion request failed with unknown error"),this.healthCheck()),_}if(i=await yb(f,this.config.postprocess,i),s.aborted)throw s.reason;this.completionCache.buildCache(f,JSON.parse(JSON.stringify(i)));}}if(i=await vb(f,this.config.postprocess,i),s.aborted)throw s.reason}catch(p){throw er(p)||mn(p)?o&&(o.aborted=!0):o=void 0,p}finally{if(o&&(this.completionProviderStats.add(o),o.requestSent&&!o.requestCanceled)){let p=this.completionProviderStats.windowed();switch(this.completionProviderStats.check(p)){case"healthy":this.popIssue("slowCompletionResponseTime"),this.popIssue("highCompletionTimeoutRate");break;case"highTimeoutRate":this.popIssue("slowCompletionResponseTime"),this.pushIssue("highCompletionTimeoutRate");break;case"slowResponseTime":this.popIssue("highCompletionTimeoutRate"),this.pushIssue("slowCompletionResponseTime");break}}}return this.logger.trace({context:f,completionResponse:i},"Return from provideCompletions"),i}async postEvent(r,n){if(this.status==="notInitialized")throw new Error("Agent is not initialized");this.completionProviderStats.addEvent(r.type);let s=bt();try{if(!this.api)throw new Error("http client not initialized");let i="/v1/events",o={body:r,params:{query:{select_kind:r.select_kind}},signal:this.createAbortSignal(n),parseAs:"text"};this.logger.debug({requestId:s,requestOptions:o,url:this.config.server.endpoint+i},"Event request");let l=await this.api.POST(i,o);if(l.error||!l.response.ok)throw new We(l.response);return this.logger.debug({requestId:s,response:l},"Event response"),!0}catch(i){return mn(i)?this.logger.debug({requestId:s,error:i},"Event request timeout"):er(i)?this.logger.debug({requestId:s,error:i},"Event request canceled"):this.logger.error({requestId:s,error:i},"Event request failed with unknown error"),!1}}};var Rb=["statusChanged","configUpdated","authRequired","issuesUpdated"];var ro=class{constructor(){this.process=process;this.inStream=process.stdin;this.outStream=process.stdout;this.logger=Re.child({component:"StdIO"});this.abortControllers={};}async handleLine(e){let r;try{r=JSON.parse(e);}catch(s){this.logger.error({error:s},`Failed to parse request: ${e}`);return}this.logger.debug({request:r},"Received request");let n=await this.handleRequest(r);this.sendResponse(n),this.logger.debug({response:n},"Sent response");}async handleRequest(e){let r=0,n=[0,null],s=new AbortController;try{if(!this.agent)throw new Error(`Agent not bound.
`);r=e[0],n[0]=r;let i=e[1].func;if(i==="cancelRequest")n[1]=this.cancelRequest(e);else {let o=this.agent[i];if(!o)throw new Error(`Unknown function: ${i}`);let l=e[1].args;l.length>0&&typeof l[l.length-1]=="object"&&l[l.length-1].signal&&(this.abortControllers[r]=s,l[l.length-1].signal=s.signal),n[1]=await o.apply(this.agent,l);}}catch(i){er(i)?this.logger.debug({error:i,request:e},"Request canceled"):this.logger.error({error:i,request:e},"Failed to handle request");}finally{this.abortControllers[r]&&delete this.abortControllers[r];}return n}cancelRequest(e){let r=e[1].args[0],n=this.abortControllers[r];return n?(n.abort(),!0):!1}sendResponse(e){this.outStream.write(JSON.stringify(e)+`
`);}bind(e){this.agent=e;for(let r of Rb)this.agent.on(r,n=>{this.sendResponse([0,n]);});}listen(){z$__default.default.createInterface({input:this.inStream}).on("line",e=>{this.handleLine(e);}),["SIGTERM","SIGINT"].forEach(e=>{this.process.on(e,async()=>{this.agent&&this.agent.getStatus()!=="finalized"&&await this.agent.finalize(),this.process.exit(0);});});}};var Pb=new ro,G$=new to;Pb.bind(G$);Pb.listen();
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=out.js.map
//# sourceMappingURL=cli.js.map